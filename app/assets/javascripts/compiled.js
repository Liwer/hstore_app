
// -------------------------------
// This file was autogenerated.
// Do not edit it!
// @autogenerated
// -------------------------------

(function(a,b){function f(a){var b=a.length,c=k.type(a);return k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function c(a,c,d,m){if(k.acceptData(a)){var f=k.expando,g=a.nodeType,h=g?k.cache:a,j=g?a[f]:a[f]&&f;if(j&&h[j]&&(m||h[j].data)||!(d===b&&"string"===typeof c)){j||(j=g?a[f]=ka.pop()||k.guid++:f);h[j]||(h[j]=g?{}:{toJSON:k.noop});if("object"===typeof c||"function"===typeof c)m?h[j]=k.extend(h[j],c):h[j].data=k.extend(h[j].data,
c);a=h[j];m||(a.data||(a.data={}),a=a.data);d!==b&&(a[k.camelCase(c)]=d);"string"===typeof c?(d=a[c],null==d&&(d=a[k.camelCase(c)])):d=a;return d}}}function d(a,b,c){if(k.acceptData(a)){var d,m,f=a.nodeType,g=f?k.cache:a,h=f?a[k.expando]:k.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in d?b=[b]:(b=k.camelCase(b),b=b in d?[b]:b.split(" "));for(m=b.length;m--;)delete d[b[m]];if(c?!j(d):!k.isEmptyObject(d))return}if(!c&&(delete g[h].data,!j(g[h])))return;
f?k.cleanData([a],!0):k.support.deleteExpando||g!=g.window?delete g[h]:g[h]=null}}}function g(a,c,d){if(d===b&&1===a.nodeType)if(d="data-"+c.replace(Nc,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Oc.test(d)?k.parseJSON(d):d}catch(m){}k.data(a,c,d)}else d=b;return d}function j(a){for(var b in a)if(!("data"===b&&k.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function n(){return!0}function l(){return!1}function q(){try{return O.activeElement}catch(a){}}
function t(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function p(a,b,c){if(k.isFunction(b))return k.grep(a,function(a,va){return!!b.call(a,va,a)!==c});if(b.nodeType)return k.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Pc.test(b))return k.filter(b,a,c);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=k.inArray(a,b)!==c})}function h(a){var b=dc.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function y(a,b){return k.nodeName(a,
"table")&&k.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function w(a){a.type=(null!==k.find.attr(a,"type"))+"/"+a.type;return a}function D(a){var b=Qc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function H(a,b){for(var c,d=0;null!=(c=a[d]);d++)k._data(c,"globalEval",!b||k._data(b[d],"globalEval"))}function r(a,b){if(1===b.nodeType&&k.hasData(a)){var c,d,m;d=k._data(a);var f=k._data(b,d),
g=d.events;if(g)for(c in delete f.handle,f.events={},g){d=0;for(m=g[c].length;d<m;d++)k.event.add(b,c,g[c][d])}f.data&&(f.data=k.extend({},f.data))}}function B(a,c){var d,m,f=0,g=typeof a.getElementsByTagName!==ma?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==ma?a.querySelectorAll(c||"*"):b;if(!g){g=[];for(d=a.childNodes||a;null!=(m=d[f]);f++)!c||k.nodeName(m,c)?g.push(m):k.merge(g,B(m,c))}return c===b||c&&k.nodeName(a,c)?k.merge([a],g):g}function E(a){Hb.test(a.type)&&(a.defaultChecked=
a.checked)}function F(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,m=ec.length;m--;)if(b=ec[m]+c,b in a)return b;return d}function x(a,b){a=b||a;return"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)}function u(a,b){for(var c,d,m,f=[],g=0,h=a.length;g<h;g++)if(d=a[g],d.style)if(f[g]=k._data(d,"olddisplay"),c=d.style.display,b)!f[g]&&"none"===c&&(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=k._data(d,"olddisplay",I(d.nodeName)));else if(!f[g]&&(m=x(d),
c&&"none"!==c||!m))k._data(d,"olddisplay",m?c:k.css(d,"display"));for(g=0;g<h;g++)if(d=a[g],d.style&&(!b||"none"===d.style.display||""===d.style.display))d.style.display=b?f[g]||"":"none";return a}function A(a,b,c){return(a=Rc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function C(a,b,c,d,m){for(var b=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>b;b+=2)"margin"===c&&(f+=k.css(a,c+Ta[b],!0,m)),d?("content"===c&&(f-=k.css(a,"padding"+Ta[b],!0,m)),"margin"!==c&&(f-=k.css(a,"border"+Ta[b]+"Width",
!0,m))):(f+=k.css(a,"padding"+Ta[b],!0,m),"padding"!==c&&(f+=k.css(a,"border"+Ta[b]+"Width",!0,m)));return f}function K(a,b,c){var d=!0,m="width"===b?a.offsetWidth:a.offsetHeight,f=Ua(a),g=k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,f);if(0>=m||null==m){m=Va(a,b,f);if(0>m||null==m)m=a.style[b];if(qb.test(m))return m;d=g&&(k.support.boxSizingReliable||m===a.style[b]);m=parseFloat(m)||0}return m+C(a,b,c||(g?"border":"content"),d,f)+"px"}function I(a){var b=O,c=fc[a];if(!c){c=R(a,b);if("none"===
c||!c)lb=(lb||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(lb[0].contentWindow||lb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=R(a,b),lb.detach();fc[a]=c}return c}function R(a,b){var c=k(b.createElement(a)).appendTo(b.body),d=k.css(c[0],"display");c.remove();return d}function S(a,b,c,d){var m;if(k.isArray(b))k.each(b,function(b,m){c||Sc.test(a)?d(a,m):S(a+"["+("object"===typeof m?b:
"")+"]",m,c,d)});else if(!c&&"object"===k.type(b))for(m in b)S(a+"["+m+"]",b[m],c,d);else d(a,b)}function V(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,m=0,f=b.toLowerCase().match(fa)||[];if(k.isFunction(c))for(;d=f[m++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function L(a,b,c,d){function m(h){var j;f[h]=!0;k.each(a[h]||[],function(a,va){var h=va(b,c,d);if("string"===typeof h&&!g&&!f[h])return b.dataTypes.unshift(h),m(h),!1;if(g)return!(j=
h)});return j}var f={},g=a===Ib;return m(b.dataTypes[0])||!f["*"]&&m("*")}function J(a,c){var d,m,f=k.ajaxSettings.flatOptions||{};for(m in c)c[m]!==b&&((f[m]?a:d||(d={}))[m]=c[m]);d&&k.extend(!0,a,d);return a}function v(){try{return new a.XMLHttpRequest}catch(b){}}function N(){setTimeout(function(){eb=b});return eb=k.now()}function ba(a,b,c){for(var d,m=(mb[b]||[]).concat(mb["*"]),f=0,g=m.length;f<g;f++)if(d=m[f].call(c,b,a))return d}function ca(a,b,c){var d,m,f=0,g=rb.length,h=k.Deferred().always(function(){delete j.elem}),
j=function(){if(m)return!1;for(var b=eb||N(),b=Math.max(0,p.startTime+p.duration-b),c=1-(b/p.duration||0),d=0,f=p.tweens.length;d<f;d++)p.tweens[d].run(c);h.notifyWith(a,[p,c,b]);if(1>c&&f)return b;h.resolveWith(a,[p]);return!1},p=h.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:eb||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=k.Tween(a,p.opts,b,c,p.opts.specialEasing[b]||p.opts.easing);p.tweens.push(d);
return d},stop:function(b){var c=0,d=b?p.tweens.length:0;if(m)return this;for(m=!0;c<d;c++)p.tweens[c].run(1);b?h.resolveWith(a,[p,b]):h.rejectWith(a,[p,b]);return this}}),b=p.props,c=p.opts.specialEasing,v,l,z,r;for(d in b)if(v=k.camelCase(d),l=c[v],z=b[d],k.isArray(z)&&(l=z[1],z=b[d]=z[0]),d!==v&&(b[v]=z,delete b[d]),(r=k.cssHooks[v])&&"expand"in r)for(d in z=r.expand(z),delete b[v],z)d in b||(b[d]=z[d],c[d]=l);else c[v]=l;for(;f<g;f++)if(d=rb[f].call(p,a,b,p.opts))return d;k.map(b,ba,p);k.isFunction(p.opts.start)&&
p.opts.start.call(a,p);k.fx.timer(k.extend(j,{elem:a,anim:p,queue:p.opts.queue}));return p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}function P(a,b,c,d,m){return new P.prototype.init(a,b,c,d,m)}function G(a,b){for(var c,d={height:a},m=0,b=b?1:0;4>m;m+=2-b)c=Ta[m],d["margin"+c]=d["padding"+c]=a;b&&(d.opacity=d.width=a);return d}function M(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Y,Q,ma=typeof b,ha=a.location,
O=a.document,Ia=O.documentElement,m=a.jQuery,z=a.$,ga={},ka=[],Da=ka.concat,pa=ka.push,ra=ka.slice,ua=ka.indexOf,Wa=ga.toString,xa=ga.hasOwnProperty,ya="1.10.2".trim,k=function(a,b){return new k.fn.init(a,b,Q)},ia=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fa=/\S+/g,U=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,za=/^[\],:{}\s]*$/,Ba=/(?:^|:|,)(?:\s*\[)+/g,Ca=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,gb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
T=/^-ms-/,da=/-([\da-z])/gi,ea=function(a,b){return b.toUpperCase()},ja=function(a){if(O.addEventListener||"load"===a.type||"complete"===O.readyState)Xa(),k.ready()},Xa=function(){O.addEventListener?(O.removeEventListener("DOMContentLoaded",ja,!1),a.removeEventListener("load",ja,!1)):(O.detachEvent("onreadystatechange",ja),a.detachEvent("onload",ja))};k.fn=k.prototype={jquery:"1.10.2",constructor:k,init:function(a,c,d){var m;if(!a)return this;if("string"===typeof a){if((m="<"===a.charAt(0)&&">"===
a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Ja.exec(a))&&(m[1]||!c)){if(m[1]){if(c=c instanceof k?c[0]:c,k.merge(this,k.parseHTML(m[1],c&&c.nodeType?c.ownerDocument||c:O,!0)),Ea.test(m[1])&&k.isPlainObject(c))for(m in c)if(k.isFunction(this[m]))this[m](c[m]);else this.attr(m,c[m])}else{if((c=O.getElementById(m[2]))&&c.parentNode){if(c.id!==m[2])return d.find(a);this.length=1;this[0]=c}this.context=O;this.selector=a}return this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(k.isFunction(a))return d.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return k.makeArray(a,this)},selector:"",length:0,toArray:function(){return ra.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=k.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return k.each(this,a,b)},ready:function(a){k.ready.promise().done(a);return this},
slice:function(){return this.pushStack(ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(k.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:pa,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var a,c,d,m,f,g=arguments[0]||
{},h=1,j=arguments.length,p=!1;"boolean"===typeof g&&(p=g,g=arguments[1]||{},h=2);"object"!==typeof g&&!k.isFunction(g)&&(g={});j===h&&(g=this,--h);for(;h<j;h++)if(null!=(f=arguments[h]))for(m in f)a=g[m],d=f[m],g!==d&&(p&&d&&(k.isPlainObject(d)||(c=k.isArray(d)))?(c?(c=!1,a=a&&k.isArray(a)?a:[]):a=a&&k.isPlainObject(a)?a:{},g[m]=k.extend(p,a,d)):d!==b&&(g[m]=d));return g};k.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(b){a.$===k&&(a.$=z);b&&a.jQuery===k&&
(a.jQuery=m);return k},isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!(!0===a?--k.readyWait:k.isReady)){if(!O.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||(Y.resolveWith(O,[k]),k.fn.trigger&&k(O).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?ga[Wa.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!xa.call(a,"constructor")&&!xa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(k.support.ownLast)for(c in a)return xa.call(a,c);for(c in a);return c===b||xa.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);var b=b||O,d=Ea.exec(a),c=!c&&[];if(d)return[b.createElement(d[1])];d=k.buildFragment([a],b,c);c&&k(c).remove();return k.merge([],d.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=k.trim(b))&&za.test(b.replace(Ca,"@").replace(gb,"]").replace(Ba,"")))return(new Function("return "+b))();
k.error("Invalid JSON: "+b)},parseXML:function(c){var d,m;if(!c||"string"!==typeof c)return null;try{a.DOMParser?(m=new DOMParser,d=m.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&k.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&k.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(T,
"ms-").replace(da,ea)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,m=0,g=a.length;d=f(a);if(c)if(d)for(;m<g&&!(d=b.apply(a[m],c),!1===d);m++);else for(m in a){if(d=b.apply(a[m],c),!1===d)break}else if(d)for(;m<g&&!(d=b.call(a[m],m,a[m]),!1===d);m++);else for(m in a)if(d=b.call(a[m],m,a[m]),!1===d)break;return a},trim:ya&&!ya.call("\ufeff\u00a0")?function(a){return null==a?"":ya.call(a)}:function(a){return null==a?"":(a+"").replace(U,
"")},makeArray:function(a,b){var c=b||[];null!=a&&(f(Object(a))?k.merge(c,"string"===typeof a?[a]:a):pa.call(c,a));return c},inArray:function(a,b,c){var d;if(b){if(ua)return ua.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,m=a.length,f=0;if("number"===typeof d)for(;f<d;f++)a[m++]=c[f];else for(;c[f]!==b;)a[m++]=c[f++];a.length=m;return a},grep:function(a,b,c){for(var d,m=[],f=0,g=a.length,c=!!c;f<g;f++)d=!!b(a[f],
f),c!==d&&m.push(a[f]);return m},map:function(a,b,c){var d,m=0,g=a.length,h=[];if(f(a))for(;m<g;m++)d=b(a[m],m,c),null!=d&&(h[h.length]=d);else for(m in a)d=b(a[m],m,c),null!=d&&(h[h.length]=d);return Da.apply([],h)},guid:1,proxy:function(a,c){var d,m;"string"===typeof c&&(m=a[c],c=a,a=m);if(!k.isFunction(a))return b;d=ra.call(arguments,2);m=function(){return a.apply(c||this,d.concat(ra.call(arguments)))};m.guid=a.guid=a.guid||k.guid++;return m},access:function(a,c,d,m,f,g,h){var j=0,p=a.length,v=
null==d;if("object"===k.type(d))for(j in f=!0,d)k.access(a,c,j,d[j],!0,g,h);else if(m!==b&&(f=!0,k.isFunction(m)||(h=!0),v&&(h?(c.call(a,m),c=null):(v=c,c=function(a,b,c){return v.call(k(a),c)})),c))for(;j<p;j++)c(a[j],d,h?m:m.call(a[j],j,c(a[j],d)));return f?a:v?c.call(a):p?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var m,f={};for(m in b)f[m]=a.style[m],a.style[m]=b[m];c=c.apply(a,d||[]);for(m in b)a.style[m]=f[m];return c}});k.ready.promise=function(b){if(!Y)if(Y=
k.Deferred(),"complete"===O.readyState)setTimeout(k.ready);else if(O.addEventListener)O.addEventListener("DOMContentLoaded",ja,!1),a.addEventListener("load",ja,!1);else{O.attachEvent("onreadystatechange",ja);a.attachEvent("onload",ja);var c=!1;try{c=null==a.frameElement&&O.documentElement}catch(d){}c&&c.doScroll&&function Mc(){if(!k.isReady){try{c.doScroll("left")}catch(a){return setTimeout(Mc,50)}Xa();k.ready()}}()}return Y.promise(b)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){ga["[object "+b+"]"]=b.toLowerCase()});Q=k(O);var Ka=a,Z=function(a,b,c,d){var m,f,g,h,j;(b?b.ownerDocument||b:La)!==sa&&Ya(b);b=b||sa;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(Fa&&!d){if(m=Uc.exec(a))if(g=m[1])if(9===h)if((f=b.getElementById(g))&&f.parentNode){if(f.id===g)return c.push(f),c}else return c;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&nb(b,f)&&f.id===g)return c.push(f),c}else{if(m[2])return Ma.apply(c,b.getElementsByTagName(a)),
c;if((g=m[3])&&la.getElementsByClassName&&b.getElementsByClassName)return Ma.apply(c,b.getElementsByClassName(g)),c}if(la.qsa&&(!wa||!wa.test(a))){f=m=na;g=b;j=9===h&&a;if(1===h&&"object"!==b.nodeName.toLowerCase()){h=sb(a);(m=b.getAttribute("id"))?f=m.replace(Vc,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(g=h.length;g--;)h[g]=f+tb(h[g]);g=Jb.test(a)&&b.parentNode||b;j=h.join(",")}if(j)try{return Ma.apply(c,g.querySelectorAll(j)),c}catch(p){}finally{m||b.removeAttribute("id")}}}var k;a:{a=
a.replace(ub,"$1");f=sb(a);if(!d&&1===f.length){m=f[0]=f[0].slice(0);if(2<m.length&&"ID"===(k=m[0]).type&&la.getById&&9===b.nodeType&&Fa&&aa.relative[m[1].type]){b=(aa.find.ID(k.matches[0].replace(Na,Oa),b)||[])[0];if(!b){k=c;break a}a=a.slice(m.shift().value.length)}for(h=vb.needsContext.test(a)?0:m.length;h--;){k=m[h];if(aa.relative[g=k.type])break;if(g=aa.find[g])if(d=g(k.matches[0].replace(Na,Oa),Jb.test(m[0].type)&&b.parentNode||b)){m.splice(h,1);a=d.length&&tb(m);if(!a){Ma.apply(c,d);k=c;break a}break}}}Kb(a,
f)(d,b,!Fa,c,Jb.test(a));k=c}return k},Pa=function(){function a(c,d){b.push(c+=" ")>aa.cacheLength&&delete a[b.shift()];return a[c]=d}var b=[];return a},oa=function(a){a[na]=!0;return a},qa=function(a){var b=sa.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}},wb=function(a,b){for(var c=a.split("|"),d=a.length;d--;)aa.attrHandle[c[d]]=b},hc=function(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||gc)-(~a.sourceIndex||
gc);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},Wc=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Xc=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},Za=function(a){return oa(function(b){b=+b;return oa(function(c,d){for(var m,f=a([],c.length,b),g=f.length;g--;)if(c[m=f[g]])c[m]=!(d[m]=c[m])})})},ic=function(){},sb=function(a,b){var c,d,m,f,g,h,j;if(g=jc[a+" "])return b?
0:g.slice(0);g=a;h=[];for(j=aa.preFilter;g;){if(!c||(d=Yc.exec(g)))d&&(g=g.slice(d[0].length)||g),h.push(m=[]);c=!1;if(d=Zc.exec(g))c=d.shift(),m.push({value:c,type:d[0].replace(ub," ")}),g=g.slice(c.length);for(f in aa.filter)if((d=vb[f].exec(g))&&(!j[f]||(d=j[f](d))))c=d.shift(),m.push({value:c,type:f,matches:d}),g=g.slice(c.length);if(!c)break}return b?g.length:g?Z.error(a):jc(a,h).slice(0)},tb=function(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d},Lb=function(a,b,c){var d=b.dir,
m=c&&"parentNode"===d,f=$c++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||m)return a(b,c,f)}:function(b,c,g){var h,j,p,k=Ga+" "+f;if(g)for(;b=b[d];){if((1===b.nodeType||m)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||m)if(p=b[na]||(b[na]={}),(j=p[d])&&j[0]===k){if(!0===(h=j[1])||h===xb)return!0===h}else if(j=p[d]=[k],j[1]=a(b,c,g)||xb,!0===j[1])return!0}},Mb=function(a){return 1<a.length?function(b,c,d){for(var m=a.length;m--;)if(!a[m](b,c,d))return!1;return!0}:a[0]},
yb=function(a,b,c,d,m){for(var f,g=[],h=0,j=a.length,p=null!=b;h<j;h++)if(f=a[h])if(!c||c(f,d,m))g.push(f),p&&b.push(h);return g},Nb=function(a,b,c,d,m,f){d&&!d[na]&&(d=Nb(d));m&&!m[na]&&(m=Nb(m,f));return oa(function(f,g,h,j){var p,k,v=[],l=[],z=g.length,r;if(!(r=f)){r=b||"*";for(var n=h.nodeType?[h]:h,J=[],q=0,B=n.length;q<B;q++)Z(r,n[q],J);r=J}r=a&&(f||!b)?yb(r,v,a,h,j):r;n=c?m||(f?a:z||d)?[]:g:r;c&&c(r,n,h,j);if(d){p=yb(n,l);d(p,[],h,j);for(h=p.length;h--;)if(k=p[h])n[l[h]]=!(r[l[h]]=k)}if(f){if(m||
a){if(m){p=[];for(h=n.length;h--;)if(k=n[h])p.push(r[h]=k);m(null,n=[],p,j)}for(h=n.length;h--;)if((k=n[h])&&-1<(p=m?$a.call(f,k):v[h]))f[p]=!(g[p]=k)}}else n=yb(n===g?n.splice(z,n.length):n),m?m(null,g,n,j):Ma.apply(g,n)})},Ob=function(a){var b,c,d,m=a.length,f=aa.relative[a[0].type];c=f||aa.relative[" "];for(var g=f?1:0,h=Lb(function(a){return a===b},c,!0),j=Lb(function(a){return-1<$a.call(b,a)},c,!0),p=[function(a,c,d){return!f&&(d||c!==zb)||((b=c).nodeType?h(a,c,d):j(a,c,d))}];g<m;g++)if(c=aa.relative[a[g].type])p=
[Lb(Mb(p),c)];else{c=aa.filter[a[g].type].apply(null,a[g].matches);if(c[na]){for(d=++g;d<m&&!aa.relative[a[d].type];d++);return Nb(1<g&&Mb(p),1<g&&tb(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(ub,"$1"),c,g<d&&Ob(a.slice(g,d)),d<m&&Ob(a=a.slice(d)),d<m&&tb(a))}p.push(c)}return Mb(p)},hb,la,xb,aa,Ab,kc,Kb,zb,ab,Ya,sa,Ha,Fa,wa,bb,Bb,nb,na="sizzle"+-new Date,La=Ka.document,Ga=0,$c=0,lc=Pa(),jc=Pa(),mc=Pa(),ib=!1,Pb=function(a,b){a===b&&(ib=!0);return 0},gc=-2147483648,ad={}.hasOwnProperty,
Qa=[],bd=Qa.pop,cd=Qa.push,Ma=Qa.push,nc=Qa.slice,$a=Qa.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},oc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),pc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Qb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+pc.replace(3,
8)+")*)|.*)\\)|)",ub=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Jb=/[\x20\t\r\n\f]*[+~]/,dd=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),ed=RegExp(Qb),fd=RegExp("^"+oc+"$"),vb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+
pc),PSEUDO:RegExp("^"+Qb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Rb=/^[^{]+\{\s*\[native \w/,Uc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gd=/^(?:input|select|textarea|button)$/i,hd=/^h\d$/i,Vc=/'|\\/g,Na=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Oa=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Ma.apply(Qa=nc.call(La.childNodes),La.childNodes),Qa[La.childNodes.length].nodeType}catch(Kd){Ma={apply:Qa.length?function(a,b){cd.apply(a,nc.call(b))}:
function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}kc=Z.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};la=Z.support={};Ya=Z.setDocument=function(a){var b=a?a.ownerDocument||a:La,a=b.defaultView;if(b===sa||9!==b.nodeType||!b.documentElement)return sa;sa=b;Ha=b.documentElement;Fa=!kc(b);a&&(a.attachEvent&&a!==a.top)&&a.attachEvent("onbeforeunload",function(){Ya()});la.attributes=qa(function(a){a.className="i";return!a.getAttribute("className")});
la.getElementsByTagName=qa(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});la.getElementsByClassName=qa(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});la.getById=qa(function(a){Ha.appendChild(a).id=na;return!b.getElementsByName||!b.getElementsByName(na).length});la.getById?(aa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&Fa){var c=b.getElementById(a);
return c&&c.parentNode?[c]:[]}},aa.filter.ID=function(a){var b=a.replace(Na,Oa);return function(a){return a.getAttribute("id")===b}}):(delete aa.find.ID,aa.filter.ID=function(a){var b=a.replace(Na,Oa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});aa.find.TAG=la.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],m=0,f=b.getElementsByTagName(a);if("*"===
a){for(;c=f[m++];)1===c.nodeType&&d.push(c);return d}return f};aa.find.CLASS=la.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&Fa)return b.getElementsByClassName(a)};bb=[];wa=[];if(la.qsa=Rb.test(b.querySelectorAll))qa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||wa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||wa.push(":checked")}),qa(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&wa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||wa.push(":enabled",":disabled");a.querySelectorAll("*,:x");wa.push(",.*:")});(la.matchesSelector=Rb.test(Bb=Ha.webkitMatchesSelector||Ha.mozMatchesSelector||Ha.oMatchesSelector||Ha.msMatchesSelector))&&
qa(function(a){la.disconnectedMatch=Bb.call(a,"div");Bb.call(a,"[s!='']:x");bb.push("!=",Qb)});wa=wa.length&&RegExp(wa.join("|"));bb=bb.length&&RegExp(bb.join("|"));nb=Rb.test(Ha.contains)||Ha.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Pb=Ha.compareDocumentPosition?
function(a,c){if(a===c)return ib=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?d&1||!la.sortDetached&&c.compareDocumentPosition(a)===d?a===b||nb(La,a)?-1:c===b||nb(La,c)?1:ab?$a.call(ab,a)-$a.call(ab,c):0:d&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,m=0;d=a.parentNode;var f=c.parentNode,g=[a],h=[c];if(a===c)return ib=!0,0;if(!d||!f)return a===b?-1:c===b?1:d?-1:f?1:ab?$a.call(ab,a)-$a.call(ab,c):0;if(d===f)return hc(a,c);for(d=
a;d=d.parentNode;)g.unshift(d);for(d=c;d=d.parentNode;)h.unshift(d);for(;g[m]===h[m];)m++;return m?hc(g[m],h[m]):g[m]===La?-1:h[m]===La?1:0};return b};Z.matches=function(a,b){return Z(a,null,null,b)};Z.matchesSelector=function(a,b){(a.ownerDocument||a)!==sa&&Ya(a);b=b.replace(dd,"='$1']");if(la.matchesSelector&&Fa&&(!bb||!bb.test(b))&&(!wa||!wa.test(b)))try{var c=Bb.call(a,b);if(c||la.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<Z(b,sa,null,[a]).length};Z.contains=
function(a,b){(a.ownerDocument||a)!==sa&&Ya(a);return nb(a,b)};Z.attr=function(a,b){(a.ownerDocument||a)!==sa&&Ya(a);var c=aa.attrHandle[b.toLowerCase()],c=c&&ad.call(aa.attrHandle,b.toLowerCase())?c(a,b,!Fa):void 0;return void 0===c?la.attributes||!Fa?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null:c};Z.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};Z.uniqueSort=function(a){var b,c=[],d=0,m=0;ib=!la.detectDuplicates;ab=!la.sortStable&&a.slice(0);
a.sort(Pb);if(ib){for(;b=a[m++];)b===a[m]&&(d=c.push(m));for(;d--;)a.splice(c[d],1)}return a};Ab=Z.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Ab(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)c+=Ab(b);return c};aa=Z.selectors={cacheLength:50,createPseudo:oa,match:vb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Na,Oa);a[3]=(a[4]||a[5]||"").replace(Na,Oa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||Z.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&Z.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(vb.CHILD.test(a[0]))return null;if(a[3]&&void 0!==a[4])a[2]=a[4];else if(c&&
ed.test(c)&&(b=sb(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,b);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Na,Oa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=lc[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&lc(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&
a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){d=Z.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;d+="";return"="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d,m){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===m?function(a){return!!a.parentNode}:function(b,
c,j){var p,k,v,l,r,c=f!==g?"nextSibling":"previousSibling",z=b.parentNode,n=h&&b.nodeName.toLowerCase(),j=!j&&!h;if(z){if(f){for(;c;){for(k=b;k=k[c];)if(h?k.nodeName.toLowerCase()===n:1===k.nodeType)return!1;r=c="only"===a&&!r&&"nextSibling"}return!0}r=[g?z.firstChild:z.lastChild];if(g&&j){j=z[na]||(z[na]={});p=j[a]||[];l=p[0]===Ga&&p[1];v=p[0]===Ga&&p[2];for(k=l&&z.childNodes[l];k=++l&&k&&k[c]||(v=l=0)||r.pop();)if(1===k.nodeType&&++v&&k===b){j[a]=[Ga,l,v];break}}else if(j&&(p=(b[na]||(b[na]={}))[a])&&
p[0]===Ga)v=p[1];else for(;k=++l&&k&&k[c]||(v=l=0)||r.pop();)if((h?k.nodeName.toLowerCase()===n:1===k.nodeType)&&++v)if(j&&((k[na]||(k[na]={}))[a]=[Ga,v]),k===b)break;v-=m;return v===d||0===v%d&&0<=v/d}}},PSEUDO:function(a,b){var c,d=aa.pseudos[a]||aa.setFilters[a.toLowerCase()]||Z.error("unsupported pseudo: "+a);return d[na]?d(b):1<d.length?(c=[a,a,"",b],aa.setFilters.hasOwnProperty(a.toLowerCase())?oa(function(a,c){for(var m,f=d(a,b),g=f.length;g--;)m=$a.call(a,f[g]),a[m]=!(c[m]=f[g])}):function(a){return d(a,
0,c)}):d}},pseudos:{not:oa(function(a){var b=[],c=[],d=Kb(a.replace(ub,"$1"));return d[na]?oa(function(a,b,c,m){for(var m=d(a,null,m,[]),f=a.length;f--;)if(c=m[f])a[f]=!(b[f]=c)}):function(a,m,f){b[0]=a;d(b,null,f,c);return!c.pop()}}),has:oa(function(a){return function(b){return 0<Z(a,b).length}}),contains:oa(function(a){return function(b){return-1<(b.textContent||b.innerText||Ab(b)).indexOf(a)}}),lang:oa(function(a){fd.test(a||"")||Z.error("unsupported lang: "+a);a=a.replace(Na,Oa).toLowerCase();
return function(b){var c;do if(c=Fa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=Ka.location&&Ka.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Ha},focus:function(a){return a===sa.activeElement&&(!sa.hasFocus||sa.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!aa.pseudos.empty(a)},header:function(a){return hd.test(a.nodeName)},input:function(a){return gd.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:Za(function(){return[0]}),last:Za(function(a,b){return[b-1]}),eq:Za(function(a,b,c){return[0>c?c+b:c]}),even:Za(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:Za(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:Za(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:Za(function(a,
b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};aa.pseudos.nth=aa.pseudos.eq;for(hb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[hb]=Wc(hb);for(hb in{submit:!0,reset:!0})aa.pseudos[hb]=Xc(hb);ic.prototype=aa.filters=aa.pseudos;aa.setFilters=new ic;Kb=Z.compile=function(a,b){var c,d=[],m=[],f=mc[a+" "];if(!f){b||(b=sb(a));for(c=b.length;c--;)f=Ob(b[c]),f[na]?d.push(f):m.push(f);var g=0,h=0<d.length,j=0<m.length;c=function(a,b,c,f,va){var p,k,v=[],l=0,r="0",z=a&&[],n=null!=va,
J=zb,Lc=a||j&&aa.find.TAG("*",va&&b.parentNode||b),q=Ga+=null==J?1:Math.random()||0.1;n&&(zb=b!==sa&&b,xb=g);for(;null!=(va=Lc[r]);r++){if(j&&va){for(p=0;k=m[p++];)if(k(va,b,c)){f.push(va);break}n&&(Ga=q,xb=++g)}h&&((va=!k&&va)&&l--,a&&z.push(va))}l+=r;if(h&&r!==l){for(p=0;k=d[p++];)k(z,v,b,c);if(a){if(0<l)for(;r--;)!z[r]&&!v[r]&&(v[r]=bd.call(f));v=yb(v)}Ma.apply(f,v);n&&(!a&&0<v.length&&1<l+d.length)&&Z.uniqueSort(f)}n&&(Ga=q,zb=J);return z};c=h?oa(c):c;f=mc(a,c)}return f};la.sortStable=na.split("").sort(Pb).join("")===
na;la.detectDuplicates=ib;Ya();la.sortDetached=qa(function(a){return a.compareDocumentPosition(sa.createElement("div"))&1});qa(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||wb("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!la.attributes||!qa(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")}))&&wb("value",function(a,b,c){if(!c&&
"input"===a.nodeName.toLowerCase())return a.defaultValue});qa(function(a){return null==a.getAttribute("disabled")})||wb("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.specified?d.value:!0===a[b]?b.toLowerCase():null});k.find=Z;k.expr=Z.selectors;k.expr[":"]=k.expr.pseudos;k.unique=Z.uniqueSort;k.text=Z.getText;k.isXMLDoc=Z.isXML;k.contains=Z.contains;var qc=
{};k.Callbacks=function(a){var c;if("string"===typeof a){if(!(c=qc[a])){c=a;var d=qc[c]={};k.each(c.match(fa)||[],function(a,b){d[b]=!0});c=d}}else c=k.extend({},a);var a=c,m,f,g,h,j,p,v=[],l=!a.once&&[],r=function(b){f=a.memory&&b;g=!0;j=p||0;p=0;h=v.length;for(m=!0;v&&j<h;j++)if(!1===v[j].apply(b[0],b[1])&&a.stopOnFalse){f=!1;break}m=!1;v&&(l?l.length&&r(l.shift()):f?v=[]:z.disable())},z={add:function(){if(v){var b=v.length;(function Tc(b){k.each(b,function(b,c){var d=k.type(c);"function"===d?(!a.unique||
!z.has(c))&&v.push(c):c&&(c.length&&"string"!==d)&&Tc(c)})})(arguments);m?h=v.length:f&&(p=b,r(f))}return this},remove:function(){v&&k.each(arguments,function(a,b){for(var c;-1<(c=k.inArray(b,v,c));)v.splice(c,1),m&&(c<=h&&h--,c<=j&&j--)});return this},has:function(a){return a?-1<k.inArray(a,v):!(!v||!v.length)},empty:function(){v=[];h=0;return this},disable:function(){v=l=f=b;return this},disabled:function(){return!v},lock:function(){l=b;f||z.disable();return this},locked:function(){return!l},fireWith:function(a,
b){if(v&&(!g||l))b=b||[],b=[a,b.slice?b.slice():b],m?l.push(b):r(b);return this},fire:function(){z.fireWith(this,arguments);return this},fired:function(){return!!g}};return z};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){m.done(arguments).fail(arguments);return this},then:function(){var a=
arguments;return k.Deferred(function(c){k.each(b,function(b,f){var g=f[0],h=k.isFunction(a[b])&&a[b];m[f[1]](function(){var a=h&&h.apply(this,arguments);if(a&&k.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,d):d}},m={};d.pipe=d.then;k.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add;h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock);
m[f[0]]=function(){m[f[0]+"With"](this===m?d:this,arguments);return this};m[f[0]+"With"]=g.fireWith});d.promise(m);a&&a.call(m,m);return m},when:function(a){var b=0,c=ra.call(arguments),d=c.length,m=1!==d||a&&k.isFunction(a.promise)?d:0,f=1===m?a:k.Deferred(),g=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?ra.call(arguments):d;c===h?f.notifyWith(b,c):--m||f.resolveWith(b,c)}},h,j,p;if(1<d){h=Array(d);j=Array(d);for(p=Array(d);b<d;b++)c[b]&&k.isFunction(c[b].promise)?c[b].promise().done(g(b,
p,c)).fail(f.reject).progress(g(b,j,h)):--m}m||f.resolveWith(p,c);return f.promise()}});var id=k;var W={},Sb,Ra,ta,Cb,Db,Eb,Tb,rc,ob,X=O.createElement("div");X.setAttribute("className","t");X.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Sb=X.getElementsByTagName("*")||[];if((Ra=X.getElementsByTagName("a")[0])&&Ra.style&&Sb.length){Cb=O.createElement("select");Eb=Cb.appendChild(O.createElement("option"));ta=X.getElementsByTagName("input")[0];Ra.style.cssText="top:1px;float:left;opacity:.5";
W.getSetAttribute="t"!==X.className;W.leadingWhitespace=3===X.firstChild.nodeType;W.tbody=!X.getElementsByTagName("tbody").length;W.htmlSerialize=!!X.getElementsByTagName("link").length;W.style=/top/.test(Ra.getAttribute("style"));W.hrefNormalized="/a"===Ra.getAttribute("href");W.opacity=/^0.5/.test(Ra.style.opacity);W.cssFloat=!!Ra.style.cssFloat;W.checkOn=!!ta.value;W.optSelected=Eb.selected;W.enctype=!!O.createElement("form").enctype;W.html5Clone="<:nav></:nav>"!==O.createElement("nav").cloneNode(!0).outerHTML;
W.inlineBlockNeedsLayout=!1;W.shrinkWrapBlocks=!1;W.pixelPosition=!1;W.deleteExpando=!0;W.noCloneEvent=!0;W.reliableMarginRight=!0;W.boxSizingReliable=!0;ta.checked=!0;W.noCloneChecked=ta.cloneNode(!0).checked;Cb.disabled=!0;W.optDisabled=!Eb.disabled;try{delete X.test}catch(Ld){W.deleteExpando=!1}ta=O.createElement("input");ta.setAttribute("value","");W.input=""===ta.getAttribute("value");ta.value="t";ta.setAttribute("type","radio");W.radioValue="t"===ta.value;ta.setAttribute("checked","t");ta.setAttribute("name",
"t");Db=O.createDocumentFragment();Db.appendChild(ta);W.appendChecked=ta.checked;W.checkClone=Db.cloneNode(!0).cloneNode(!0).lastChild.checked;X.attachEvent&&(X.attachEvent("onclick",function(){W.noCloneEvent=!1}),X.cloneNode(!0).click());for(ob in{submit:!0,change:!0,focusin:!0})X.setAttribute(Tb="on"+ob,"t"),W[ob+"Bubbles"]=Tb in a||!1===X.attributes[Tb].expando;X.style.backgroundClip="content-box";X.cloneNode(!0).style.backgroundClip="";W.clearCloneStyle="content-box"===X.style.backgroundClip;
for(ob in k(W))break;W.ownLast="0"!==ob;k(function(){var b,c,d=O.getElementsByTagName("body")[0];d&&(b=O.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",d.appendChild(b).appendChild(X),X.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=X.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",rc=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",W.reliableHiddenOffsets=
rc&&0===c[0].offsetHeight,X.innerHTML="",X.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",k.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){W.boxSizing=4===X.offsetWidth}),a.getComputedStyle&&(W.pixelPosition="1%"!==(a.getComputedStyle(X,null)||{}).top,W.boxSizingReliable="4px"===(a.getComputedStyle(X,null)||{width:"4px"}).width,c=X.appendChild(O.createElement("div")),
c.style.cssText=X.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",X.style.width="1px",W.reliableMarginRight=!parseFloat((a.getComputedStyle(c,null)||{}).marginRight)),typeof X.style.zoom!==ma&&(X.innerHTML="",X.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",
W.inlineBlockNeedsLayout=3===X.offsetWidth,X.style.display="block",X.innerHTML="<div></div>",X.firstChild.style.width="5px",W.shrinkWrapBlocks=3!==X.offsetWidth,W.inlineBlockNeedsLayout&&(d.style.zoom=1)),d.removeChild(b),b=X=c=c=null)});Sb=Cb=Db=Eb=Ra=ta=null}id.support=W;var Oc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Nc=/([A-Z])/g;k.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?k.cache[a[k.expando]]:a[k.expando];return!!a&&
!j(a)},data:function(a,b,d){return c(a,b,d)},removeData:function(a,b){return d(a,b)},_data:function(a,b,d){return c(a,b,d,!0)},_removeData:function(a,b){return d(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&k.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});k.fn.extend({data:function(a,c){var d,m,f=null,h=0,j=this[0];if(a===b){if(this.length&&(f=k.data(j),1===j.nodeType&&!k._data(j,"parsedAttrs"))){for(d=
j.attributes;h<d.length;h++)m=d[h].name,0===m.indexOf("data-")&&(m=k.camelCase(m.slice(5)),g(j,m,f[m]));k._data(j,"parsedAttrs",!0)}return f}return"object"===typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,a,c)}):j?g(j,a,k.data(j,a)):null},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=k._data(a,b),c&&(!d||k.isArray(c)?d=k._data(a,b,k.makeArray(c)):
d.push(c)),d||[]},dequeue:function(a,b){var b=b||"fx",c=k.queue(a,b),d=c.length,m=c.shift(),f=k._queueHooks(a,b),g=function(){k.dequeue(a,b)};"inprogress"===m&&(m=c.shift(),d--);m&&("fx"===b&&c.unshift("inprogress"),delete f.stop,m.call(a,g,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return k._data(a,c)||k._data(a,c,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,b+"queue");k._removeData(a,c)})})}});k.fn.extend({queue:function(a,c){var d=2;"string"!==
typeof a&&(c=a,a="fx",d--);return arguments.length<d?k.queue(this[0],a):c===b?this:this.each(function(){var b=k.queue(this,a,c);k._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},delay:function(a,b){a=k.fx?k.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,m=
1,f=k.Deferred(),g=this,h=this.length,j=function(){--m||f.resolveWith(g,[g])};"string"!==typeof a&&(c=a,a=b);for(a=a||"fx";h--;)if((d=k._data(g[h],a+"queueHooks"))&&d.empty)m++,d.empty.add(j);j();return f.promise(c)}});var jb,sc,Ub=/[\t\r\n\f]/g,jd=/\r/g,kd=/^(?:input|select|textarea|button|object)$/i,ld=/^(?:a|area)$/i,Vb=/^(?:checked|selected)$/i,cb=k.support.getSetAttribute,Fb=k.support.input;k.fn.extend({attr:function(a,b){return k.access(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,
a)})},prop:function(a,b){return k.access(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){a=k.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,m,f,g=0,h=this.length;b="string"===typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(fa)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ub," "):" ")){for(f=
0;m=b[f++];)0>d.indexOf(" "+m+" ")&&(d+=m+" ");c.className=k.trim(d)}return this},removeClass:function(a){var b,c,d,m,f,g=0,h=this.length;b=0===arguments.length||"string"===typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(fa)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ub," "):"")){for(f=0;m=b[f++];)for(;0<=d.indexOf(" "+m+" ");)d=d.replace(" "+m+" "," ");c.className=
a?k.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):k.isFunction(a)?this.each(function(c){k(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,m=k(this),f=a.match(fa)||[];b=f[d++];)m.hasClass(b)?m.removeClass(b):m.addClass(b);else if(c===ma||"boolean"===c)this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===
a?"":k._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ub," ").indexOf(a))return!0;return!1},val:function(a){var c,d,m,f=this[0];if(arguments.length)return m=k.isFunction(a),this.each(function(c){if(1===this.nodeType&&(c=m?a.call(this,c,k(this).val()):a,null==c?c="":"number"===typeof c?c+="":k.isArray(c)&&(c=k.map(c,function(a){return null==a?"":a+""})),d=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],
!d||!("set"in d)||d.set(this,c,"value")===b))this.value=c});if(f){if((d=k.valHooks[f.type]||k.valHooks[f.nodeName.toLowerCase()])&&"get"in d&&(c=d.get(f,"value"))!==b)return c;c=f.value;return"string"===typeof c?c.replace(jd,""):null==c?"":c}}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,m=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:c.length,g=0>d?f:a?d:0;g<f;g++)if(b=c[g],(b.selected||
g===d)&&(k.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!k.nodeName(b.parentNode,"optgroup"))){b=k(b).val();if(a)return b;m.push(b)}return m},set:function(a,b){for(var c,d,m=a.options,f=k.makeArray(b),g=m.length;g--;)if(d=m[g],d.selected=0<=k.inArray(k(d).val(),f))c=!0;c||(a.selectedIndex=-1);return f}}},attr:function(a,c,d){var m,f,g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(typeof a.getAttribute===ma)return k.prop(a,c,d);if(1!==g||!k.isXMLDoc(a))c=
c.toLowerCase(),m=k.attrHooks[c]||(k.expr.match.bool.test(c)?sc:jb);if(d!==b)if(null===d)k.removeAttr(a,c);else{if(m&&"set"in m&&(f=m.set(a,d,c))!==b)return f;a.setAttribute(c,d+"");return d}else{if(m&&"get"in m&&null!==(f=m.get(a,c)))return f;f=k.find.attr(a,c);return null==f?b:f}}},removeAttr:function(a,b){var c,d,m=0,f=b&&b.match(fa);if(f&&1===a.nodeType)for(;c=f[m++];)d=k.propFix[c]||c,k.expr.match.bool.test(c)?Fb&&cb||!Vb.test(c)?a[d]=!1:a[k.camelCase("default-"+c)]=a[d]=!1:k.attr(a,c,""),a.removeAttribute(cb?
c:d)},attrHooks:{type:{set:function(a,b){if(!k.support.radioValue&&"radio"===b&&k.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var m,f,g;g=a.nodeType;if(a&&!(3===g||8===g||2===g)){if(g=1!==g||!k.isXMLDoc(a))c=k.propFix[c]||c,f=k.propHooks[c];return d!==b?f&&"set"in f&&(m=f.set(a,d,c))!==b?m:a[c]=d:f&&"get"in f&&null!==(m=f.get(a,c))?m:a[c]}},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,
"tabindex");return b?parseInt(b,10):kd.test(a.nodeName)||ld.test(a.nodeName)&&a.href?0:-1}}}});sc={set:function(a,b,c){!1===b?k.removeAttr(a,c):Fb&&cb||!Vb.test(c)?a.setAttribute(!cb&&k.propFix[c]||c,c):a[k.camelCase("default-"+c)]=a[c]=!0;return c}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,c){var d=k.expr.attrHandle[c]||k.find.attr;k.expr.attrHandle[c]=Fb&&cb||!Vb.test(c)?function(a,c,m){var f=k.expr.attrHandle[c],a=m?b:(k.expr.attrHandle[c]=b)!=d(a,c,m)?c.toLowerCase():null;k.expr.attrHandle[c]=
f;return a}:function(a,c,d){return d?b:a[k.camelCase("default-"+c)]?c.toLowerCase():null}});if(!Fb||!cb)k.attrHooks.value={set:function(a,b,c){if(k.nodeName(a,"input"))a.defaultValue=b;else return jb&&jb.set(a,b,c)}};cb||(jb={set:function(a,c,d){var m=a.getAttributeNode(d);m||a.setAttributeNode(m=a.ownerDocument.createAttribute(d));m.value=c+="";return"value"===d||c===a.getAttribute(d)?c:b}},k.expr.attrHandle.id=k.expr.attrHandle.name=k.expr.attrHandle.coords=function(a,c,d){var m;return d?b:(m=a.getAttributeNode(c))&&
""!==m.value?m.value:null},k.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:jb.set},k.attrHooks.contenteditable={set:function(a,b,c){jb.set(a,""===b?!1:b,c)}},k.each(["width","height"],function(a,b){k.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}));k.support.hrefNormalized||k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});k.support.style||(k.attrHooks.style={get:function(a){return a.style.cssText||
b},set:function(a,b){return a.style.cssText=b+""}});k.support.optSelected||(k.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});k.support.enctype||(k.propFix.enctype="encoding");k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){if(k.isArray(b))return a.checked=
0<=k.inArray(k(a).val(),b)}};k.support.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Wb=/^(?:input|select|textarea)$/i,md=/^key/,nd=/^(?:mouse|contextmenu)|click/,tc=/^(?:focusinfocus|focusoutblur)$/,uc=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,c,d,m,f){var g,h,j,p,v,l,r,z,n;if(j=k._data(a)){d.handler&&(p=d,d=p.handler,f=p.selector);d.guid||(d.guid=k.guid++);if(!(h=j.events))h=j.events={};if(!(v=j.handle))v=j.handle=function(a){return typeof k!==
ma&&(!a||k.event.triggered!==a.type)?k.event.dispatch.apply(v.elem,arguments):b},v.elem=a;c=(c||"").match(fa)||[""];for(j=c.length;j--;)if(g=uc.exec(c[j])||[],z=l=g[1],n=(g[2]||"").split(".").sort(),z){g=k.event.special[z]||{};z=(f?g.delegateType:g.bindType)||z;g=k.event.special[z]||{};l=k.extend({type:z,origType:l,data:m,handler:d,guid:d.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:n.join(".")},p);if(!(r=h[z]))if(r=h[z]=[],r.delegateCount=0,!g.setup||!1===g.setup.call(a,
m,n,v))a.addEventListener?a.addEventListener(z,v,!1):a.attachEvent&&a.attachEvent("on"+z,v);g.add&&(g.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid));f?r.splice(r.delegateCount++,0,l):r.push(l);k.event.global[z]=!0}a=null}},remove:function(a,b,c,d,m){var f,g,h,j,p,v,l,z,r,n,J,q=k.hasData(a)&&k._data(a);if(q&&(v=q.events)){b=(b||"").match(fa)||[""];for(p=b.length;p--;)if(h=uc.exec(b[p])||[],r=J=h[1],n=(h[2]||"").split(".").sort(),r){l=k.event.special[r]||{};r=(d?l.delegateType:l.bindType)||
r;z=v[r]||[];h=h[2]&&RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)");for(j=f=z.length;f--;)if(g=z[f],(m||J===g.origType)&&(!c||c.guid===g.guid)&&(!h||h.test(g.namespace))&&(!d||d===g.selector||"**"===d&&g.selector))z.splice(f,1),g.selector&&z.delegateCount--,l.remove&&l.remove.call(a,g);j&&!z.length&&((!l.teardown||!1===l.teardown.call(a,n,q.handle))&&k.removeEvent(a,r,q.handle),delete v[r])}else for(r in v)k.event.remove(a,r+b[p],c,d,!0);k.isEmptyObject(v)&&(delete q.handle,k._removeData(a,"events"))}},
trigger:function(c,d,m,f){var g,h,j,p,v,l,r=[m||O],z=xa.call(c,"type")?c.type:c;v=xa.call(c,"namespace")?c.namespace.split("."):[];j=g=m=m||O;if(!(3===m.nodeType||8===m.nodeType)&&!tc.test(z+k.event.triggered))if(0<=z.indexOf(".")&&(v=z.split("."),z=v.shift(),v.sort()),h=0>z.indexOf(":")&&"on"+z,c=c[k.expando]?c:new k.Event(z,"object"===typeof c&&c),c.isTrigger=f?2:3,c.namespace=v.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=
m),d=null==d?[c]:k.makeArray(d,[c]),v=k.event.special[z]||{},f||!(v.trigger&&!1===v.trigger.apply(m,d))){if(!f&&!v.noBubble&&!k.isWindow(m)){p=v.delegateType||z;tc.test(p+z)||(j=j.parentNode);for(;j;j=j.parentNode)r.push(j),g=j;if(g===(m.ownerDocument||O))r.push(g.defaultView||g.parentWindow||a)}for(l=0;(j=r[l++])&&!c.isPropagationStopped();)c.type=1<l?p:v.bindType||z,(g=(k._data(j,"events")||{})[c.type]&&k._data(j,"handle"))&&g.apply(j,d),(g=h&&j[h])&&(k.acceptData(j)&&g.apply&&!1===g.apply(j,d))&&
c.preventDefault();c.type=z;if(!f&&!c.isDefaultPrevented()&&(!v._default||!1===v._default.apply(r.pop(),d))&&k.acceptData(m)&&h&&m[z]&&!k.isWindow(m)){(g=m[h])&&(m[h]=null);k.event.triggered=z;try{m[z]()}catch(n){}k.event.triggered=b;g&&(m[h]=g)}return c.result}},dispatch:function(a){var a=k.event.fix(a),c,d,m,f,g=[],h=ra.call(arguments);c=(k._data(this,"events")||{})[a.type]||[];var j=k.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!(j.preDispatch&&!1===j.preDispatch.call(this,a))){g=
k.event.handlers.call(this,a,c);for(c=0;(m=g[c++])&&!a.isPropagationStopped();){a.currentTarget=m.elem;for(f=0;(d=m.handlers[f++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace))if(a.handleObj=d,a.data=d.data,d=((k.event.special[d.origType]||{}).handle||d.handler).apply(m.elem,h),d!==b&&!1===(a.result=d))a.preventDefault(),a.stopPropagation()}j.postDispatch&&j.postDispatch.call(this,a);return a.result}},handlers:function(a,c){var d,m,f,g,h=[],j=c.delegateCount,
p=a.target;if(j&&p.nodeType&&(!a.button||"click"!==a.type))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==a.type)){f=[];for(g=0;g<j;g++)m=c[g],d=m.selector+" ",f[d]===b&&(f[d]=m.needsContext?0<=k(d,this).index(p):k.find(d,this,null,[p]).length),f[d]&&f.push(m);f.length&&h.push({elem:p,handlers:f})}j<c.length&&h.push({elem:this,handlers:c.slice(j)});return h},fix:function(a){if(a[k.expando])return a;var b,c,d;b=a.type;var m=a,f=this.fixHooks[b];f||(this.fixHooks[b]=
f=nd.test(b)?this.mouseHooks:md.test(b)?this.keyHooks:{});d=f.props?this.props.concat(f.props):this.props;a=new k.Event(m);for(b=d.length;b--;)c=d[b],a[c]=m[c];a.target||(a.target=m.srcElement||O);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,m):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],
filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,m,f=c.button,g=c.fromElement;null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||O,m=d.documentElement,d=d.body,a.pageX=c.clientX+(m&&m.scrollLeft||d&&d.scrollLeft||0)-(m&&m.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(m&&m.scrollTop||d&&
d.scrollTop||0)-(m&&m.clientTop||d&&d.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?c.toElement:g);!a.which&&f!==b&&(a.which=f&1?1:f&2?3:f&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==q()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(k.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),
!1},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=k.extend(new k.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};k.removeEvent=O.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===
ma&&(a[b]=null),a.detachEvent(b,c))};k.Event=function(a,b){if(!(this instanceof k.Event))return new k.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?n:l):this.type=a;b&&k.extend(this,b);this.timeStamp=a&&a.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;
this.isDefaultPrevented=n;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,m=a.handleObj;if(!d||
d!==this&&!k.contains(this,d))a.type=m.origType,c=m.handler.apply(this,arguments),a.type=b;return c}}});k.support.submitBubbles||(k.event.special.submit={setup:function(){if(k.nodeName(this,"form"))return!1;k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=k.nodeName(a,"input")||k.nodeName(a,"button")?a.form:b)&&!k._data(a,"submitBubbles"))k.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),k._data(a,"submitBubbles",!0)})},postDispatch:function(a){a._submit_bubble&&
(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(k.nodeName(this,"form"))return!1;k.event.remove(this,"._submit")}});k.support.changeBubbles||(k.event.special.change={setup:function(){if(Wb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),k.event.add(this,"click._change",function(a){this._just_changed&&
!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)});return!1}k.event.add(this,"beforeactivate._change",function(a){a=a.target;Wb.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,
arguments)},teardown:function(){k.event.remove(this,"._change");return!Wb.test(this.nodeName)}});k.support.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){0===c++&&O.addEventListener(a,d,!0)},teardown:function(){0===--c&&O.removeEventListener(a,d,!0)}}});k.fn.extend({on:function(a,c,d,m,f){var g,h;if("object"===typeof a){"string"!==typeof c&&(d=d||c,c=b);for(g in a)this.on(g,
c,d,a[g],f);return this}null==d&&null==m?(m=c,d=c=b):null==m&&("string"===typeof c?(m=d,d=b):(m=d,d=c,c=b));if(!1===m)m=l;else if(!m)return this;1===f&&(h=m,m=function(a){k().off(a);return h.apply(this,arguments)},m.guid=h.guid||(h.guid=k.guid++));return this.each(function(){k.event.add(this,a,m,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var m;if(a&&a.preventDefault&&a.handleObj)return m=a.handleObj,k(a.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,
m.selector,m.handler),this;if("object"===typeof a){for(m in a)this.off(m,c,a[m]);return this}if(!1===c||"function"===typeof c)d=c,c=b;!1===d&&(d=l);return this.each(function(){k.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return k.event.trigger(a,b,c,!0)}});var Pc=/^.[^:#\[\.,]*$/,od=/^(?:parents|prev(?:Until|All))/,vc=k.expr.match.needsContext,pd={children:!0,contents:!0,next:!0,prev:!0};
k.fn.extend({find:function(a){var b,c=[],d=this,m=d.length;if("string"!==typeof a)return this.pushStack(k(a).filter(function(){for(b=0;b<m;b++)if(k.contains(d[b],this))return!0}));for(b=0;b<m;b++)k.find(a,d[b],c);c=this.pushStack(1<m?k.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},has:function(a){var b,c=k(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(k.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(p(this,a||[],!0))},filter:function(a){return this.pushStack(p(this,
a||[],!1))},is:function(a){return!!p(this,"string"===typeof a&&vc.test(a)?k(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,m=this.length,f=[],g=vc.test(a)||"string"!==typeof a?k(a,b||this.context):0;d<m;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?-1<g.index(c):1===c.nodeType&&k.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?k.unique(f):f)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?
k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?k(a,b):k.makeArray(a&&a.nodeType?[a]:a),c=k.merge(this.get(),c);return this.pushStack(k.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,c){return k.dir(a,"parentNode",c)},next:function(a){return t(a,
"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,c){return k.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return k.dir(a,"previousSibling",c)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return k.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:
k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(c,d){var m=k.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(m=k.filter(d,m));1<this.length&&(pd[a]||(m=k.unique(m)),od.test(a)&&(m=m.reverse()));return this.pushStack(m)}});k.extend({filter:function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?k.find.matchesSelector(d,a)?[d]:[]:k.find.matches(a,k.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var m=[],a=a[c];a&&9!==a.nodeType&&
(d===b||1!==a.nodeType||!k(a).is(d));)1===a.nodeType&&m.push(a),a=a[c];return m},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var dc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qd=/ jQuery\d+="(?:null|\d+)"/g,wc=RegExp("<(?:"+dc+")[\\s/>]","i"),Xb=/^\s+/,xc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yc=
/<([\w:]+)/,zc=/<tbody/i,rd=/<|&#?\w+;/,sd=/<(?:script|style|link)/i,Hb=/^(?:checkbox|radio)$/i,td=/checked\s*(?:[^=]|=\s*.checked.)/i,Ac=/^$|\/(?:java|ecma)script/i,Qc=/^true\/(.*)/,ud=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Aa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yb=h(O).appendChild(O.createElement("div"));Aa.optgroup=Aa.option;Aa.tbody=Aa.tfoot=Aa.colgroup=Aa.caption=Aa.thead;Aa.th=Aa.td;k.fn.extend({text:function(a){return k.access(this,function(a){return a===b?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||O).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===
this.nodeType||11===this.nodeType||9===this.nodeType)&&y(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=y(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},
remove:function(a,b){for(var c,d=a?k.filter(a,this):this,m=0;null!=(c=d[m]);m++)!b&&1===c.nodeType&&k.cleanData(B(c)),c.parentNode&&(b&&k.contains(c.ownerDocument,c)&&H(B(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(B(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return k.clone(this,
a,b)})},html:function(a){return k.access(this,function(a){var c=this[0]||{},d=0,m=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(qd,""):b;if("string"===typeof a&&!sd.test(a)&&(k.support.htmlSerialize||!wc.test(a))&&(k.support.leadingWhitespace||!Xb.test(a))&&!Aa[(yc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(xc,"<$1></$2>");try{for(;d<m;d++)c=this[d]||{},1===c.nodeType&&(k.cleanData(B(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=
k.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var d=a[b++],m=a[b++];m&&(d&&d.parentNode!==m&&(d=this.nextSibling),k(this).remove(),m.insertBefore(c,d))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var a=Da.apply([],a),d,m,f,g,h=0,j=this.length,p=this,v=j-1,z=a[0],l=k.isFunction(z);if(l||!(1>=j||"string"!==typeof z||k.support.checkClone||!td.test(z)))return this.each(function(d){var m=p.eq(d);
l&&(a[0]=z.call(this,d,m.html()));m.domManip(a,b,c)});if(j&&(g=k.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=g.firstChild,1===g.childNodes.length&&(g=d),d)){f=k.map(B(g,"script"),w);for(m=f.length;h<j;h++)d=g,h!==v&&(d=k.clone(d,!0,!0),m&&k.merge(f,B(d,"script"))),b.call(this[h],d,h);if(m){g=f[f.length-1].ownerDocument;k.map(f,D);for(h=0;h<m;h++)if(d=f[h],Ac.test(d.type||"")&&!k._data(d,"globalEval")&&k.contains(g,d))d.src?k._evalUrl(d.src):k.globalEval((d.text||d.textContent||d.innerHTML||
"").replace(ud,""))}g=d=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var c=0,d=[],m=k(a),f=m.length-1;c<=f;c++)a=c===f?this:this.clone(!0),k(m[c])[b](a),pa.apply(d,a.get());return this.pushStack(d)}});k.extend({clone:function(a,b,c){var d,m,f,g,h,j=k.contains(a.ownerDocument,a);k.support.html5Clone||k.isXMLDoc(a)||!wc.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Yb.innerHTML=
a.outerHTML,Yb.removeChild(f=Yb.firstChild));if((!k.support.noCloneEvent||!k.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!k.isXMLDoc(a)){d=B(f);h=B(a);for(g=0;null!=(m=h[g]);++g)if(d[g]){var p=d[g],v=void 0,z=void 0,l=void 0;if(1===p.nodeType){v=p.nodeName.toLowerCase();if(!k.support.noCloneEvent&&p[k.expando]){l=k._data(p);for(z in l.events)k.removeEvent(p,z,l.handle);p.removeAttribute(k.expando)}if("script"===v&&p.text!==m.text)w(p).text=m.text,D(p);else if("object"===v)p.parentNode&&
(p.outerHTML=m.outerHTML),k.support.html5Clone&&(m.innerHTML&&!k.trim(p.innerHTML))&&(p.innerHTML=m.innerHTML);else if("input"===v&&Hb.test(m.type))p.defaultChecked=p.checked=m.checked,p.value!==m.value&&(p.value=m.value);else if("option"===v)p.defaultSelected=p.selected=m.defaultSelected;else if("input"===v||"textarea"===v)p.defaultValue=m.defaultValue}}}if(b)if(c){h=h||B(a);d=d||B(f);for(g=0;null!=(m=h[g]);g++)r(m,d[g])}else r(a,f);d=B(f,"script");0<d.length&&H(d,!j&&B(a,"script"));return f},buildFragment:function(a,
b,c,d){for(var m,f,g,j,p,v,z=a.length,l=h(b),r=[],n=0;n<z;n++)if((f=a[n])||0===f)if("object"===k.type(f))k.merge(r,f.nodeType?[f]:f);else if(rd.test(f)){g=g||l.appendChild(b.createElement("div"));j=(yc.exec(f)||["",""])[1].toLowerCase();v=Aa[j]||Aa._default;g.innerHTML=v[1]+f.replace(xc,"<$1></$2>")+v[2];for(m=v[0];m--;)g=g.lastChild;!k.support.leadingWhitespace&&Xb.test(f)&&r.push(b.createTextNode(Xb.exec(f)[0]));if(!k.support.tbody)for(m=(f="table"===j&&!zc.test(f)?g.firstChild:"<table>"===v[1]&&
!zc.test(f)?g:0)&&f.childNodes.length;m--;)k.nodeName(p=f.childNodes[m],"tbody")&&!p.childNodes.length&&f.removeChild(p);k.merge(r,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=l.lastChild}else r.push(b.createTextNode(f));g&&l.removeChild(g);k.support.appendChecked||k.grep(B(r,"input"),E);for(n=0;f=r[n++];)if(!(d&&-1!==k.inArray(f,d))&&(a=k.contains(f.ownerDocument,f),g=B(l.appendChild(f),"script"),a&&H(g),c))for(m=0;f=g[m++];)Ac.test(f.type||"")&&c.push(f);return l},
cleanData:function(a,b){for(var c,d,m,f,g=0,h=k.expando,j=k.cache,p=k.support.deleteExpando,v=k.event.special;null!=(c=a[g]);g++)if(b||k.acceptData(c))if(f=(m=c[h])&&j[m]){if(f.events)for(d in f.events)v[d]?k.event.remove(c,d):k.removeEvent(c,d,f.handle);j[m]&&(delete j[m],p?delete c[h]:typeof c.removeAttribute!==ma?c.removeAttribute(h):c[h]=null,ka.push(m))}},_evalUrl:function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,
b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,b))}):this.each(function(){var b=k(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(c){k(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});var lb,Ua,Va,Zb=/alpha\([^)]*\)/i,vd=/opacity\s*=\s*([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,Bc=/^margin/,Rc=RegExp("^("+ia+")(.*)$","i"),qb=RegExp("^("+ia+")(?!px)[a-z%]+$","i"),yd=RegExp("^([+-])=("+ia+")","i"),fc={BODY:"block"},zd={position:"absolute",visibility:"hidden",display:"block"},Cc={letterSpacing:0,fontWeight:400},
Ta=["Top","Right","Bottom","Left"],ec=["Webkit","O","Moz","ms"];k.fn.extend({css:function(a,c){return k.access(this,function(a,c,d){var m,f={},g=0;if(k.isArray(c)){m=Ua(a);for(d=c.length;g<d;g++)f[c[g]]=k.css(a,c[g],!1,m);return f}return d!==b?k.style(a,c,d):k.css(a,c)},a,c,1<arguments.length)},show:function(){return u(this,!0)},hide:function(){return u(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){x(this)?k(this).show():k(this).hide()})}});k.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var c=Va(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,m){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var f,g,h,j=k.camelCase(c),p=a.style,c=k.cssProps[j]||(k.cssProps[j]=F(p,j));h=k.cssHooks[c]||k.cssHooks[j];if(d!==b){g=typeof d;if("string"===g&&(f=yd.exec(d)))d=(f[1]+1)*f[2]+parseFloat(k.css(a,
c)),g="number";if(!(null==d||"number"===g&&isNaN(d)))if("number"===g&&!k.cssNumber[j]&&(d+="px"),!k.support.clearCloneStyle&&(""===d&&0===c.indexOf("background"))&&(p[c]="inherit"),!h||!("set"in h)||(d=h.set(a,d,m))!==b)try{p[c]=d}catch(v){}}else return h&&"get"in h&&(f=h.get(a,!1,m))!==b?f:p[c]}},css:function(a,c,d,m){var f,g;g=k.camelCase(c);c=k.cssProps[g]||(k.cssProps[g]=F(a.style,g));(g=k.cssHooks[c]||k.cssHooks[g])&&"get"in g&&(f=g.get(a,!0,d));f===b&&(f=Va(a,c,m));"normal"===f&&c in Cc&&(f=
Cc[c]);return""===d||d?(a=parseFloat(f),!0===d||k.isNumeric(a)?a||0:f):f}});a.getComputedStyle?(Ua=function(b){return a.getComputedStyle(b,null)},Va=function(a,c,d){var m,f=(d=d||Ua(a))?d.getPropertyValue(c)||d[c]:b,g=a.style;d&&(""===f&&!k.contains(a.ownerDocument,a)&&(f=k.style(a,c)),qb.test(f)&&Bc.test(c)&&(a=g.width,c=g.minWidth,m=g.maxWidth,g.minWidth=g.maxWidth=g.width=f,f=d.width,g.width=a,g.minWidth=c,g.maxWidth=m));return f}):O.documentElement.currentStyle&&(Ua=function(a){return a.currentStyle},
Va=function(a,c,d){var m,f,g=(d=d||Ua(a))?d[c]:b,h=a.style;null==g&&(h&&h[c])&&(g=h[c]);if(qb.test(g)&&!wd.test(c)){d=h.left;if(f=(m=a.runtimeStyle)&&m.left)m.left=a.currentStyle.left;h.left="fontSize"===c?"1em":g;g=h.pixelLeft+"px";h.left=d;f&&(m.left=f)}return""===g?"auto":g});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&xd.test(k.css(a,"display"))?k.swap(a,zd,function(){return K(a,b,d)}):K(a,b,d)},set:function(a,c,d){var m=d&&Ua(a);return A(a,
c,d?C(a,b,d,k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,m),m):0)}}});k.support.opacity||(k.cssHooks.opacity={get:function(a,b){return vd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,m=k.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===k.trim(f.replace(Zb,""))&&c.removeAttribute)if(c.removeAttribute("filter"),""===b||d&&
!d.filter)return;c.filter=Zb.test(f)?f.replace(Zb,m):f+" "+m}});k(function(){k.support.reliableMarginRight||(k.cssHooks.marginRight={get:function(a,b){if(b)return k.swap(a,{display:"inline-block"},Va,[a,"marginRight"])}});!k.support.pixelPosition&&k.fn.position&&k.each(["top","left"],function(a,b){k.cssHooks[b]={get:function(a,c){if(c)return c=Va(a,b),qb.test(c)?k(a).position()[b]+"px":c}}})});k.expr&&k.expr.filters&&(k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!k.support.reliableHiddenOffsets&&
"none"===(a.style&&a.style.display||k.css(a,"display"))},k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(c){for(var d=0,m={},c="string"===typeof c?c.split(" "):[c];4>d;d++)m[a+Ta[d]+b]=c[d]||c[d-2]||c[0];return m}};Bc.test(a)||(k.cssHooks[a+b].set=A)});var Ad=/%20/g,Sc=/\[\]$/,Dc=/\r?\n/g,Bd=/^(?:submit|button|image|reset|file)$/i,Cd=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&Cd.test(this.nodeName)&&!Bd.test(a)&&(this.checked||!Hb.test(a))}).map(function(a,b){var c=k(this).val();return null==c?null:k.isArray(c)?k.map(c,function(a){return{name:b.name,value:a.replace(Dc,"\r\n")}}):{name:b.name,value:c.replace(Dc,"\r\n")}}).get()}});k.param=function(a,c){var d,m=[],f=function(a,b){b=
k.isFunction(b)?b():null==b?"":b;m[m.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=k.ajaxSettings&&k.ajaxSettings.traditional);if(k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){f(this.name,this.value)});else for(d in a)S(d,a[d],c,f);return m.join("&").replace(Ad,"+")};k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){k.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var db,Sa,$b=k.now(),ac=/\?/,Dd=/#.*$/,Ec=/([?&])_=[^&]*/,Ed=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
Fd=/^(?:GET|HEAD)$/,Gd=/^\/\//,Fc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Gc=k.fn.load,Hc={},Ib={},Ic="*/".concat("*");try{Sa=ha.href}catch(Md){Sa=O.createElement("a"),Sa.href="",Sa=Sa.href}db=Fc.exec(Sa.toLowerCase())||[];k.fn.load=function(a,c,d){if("string"!==typeof a&&Gc)return Gc.apply(this,arguments);var m,f,g,h=this,j=a.indexOf(" ");0<=j&&(m=a.slice(j,a.length),a=a.slice(0,j));k.isFunction(c)?(d=c,c=b):c&&"object"===typeof c&&(g="POST");0<h.length&&k.ajax({url:a,type:g,dataType:"html",
data:c}).done(function(a){f=arguments;h.html(m?k("<div>").append(k.parseHTML(a)).find(m):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])});return this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(db[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Ic,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?J(J(a,k.ajaxSettings),b):J(k.ajaxSettings,a)},ajaxPrefilter:V(Hc),ajaxTransport:V(Ib),ajax:function(a,
c){function d(a,c,m,f){var l,N,D,ga;ga=c;if(2!==y){y=2;j&&clearTimeout(j);v=b;h=f||"";w.readyState=0<a?4:0;f=200<=a&&300>a||304===a;if(m){D=z;for(var t=w,ka,P,G,U,E=D.contents,ba=D.dataTypes;"*"===ba[0];)ba.shift(),P===b&&(P=D.mimeType||t.getResponseHeader("Content-Type"));if(P)for(U in E)if(E[U]&&E[U].test(P)){ba.unshift(U);break}if(ba[0]in m)G=ba[0];else{for(U in m){if(!ba[0]||D.converters[U+" "+ba[0]]){G=U;break}ka||(ka=U)}G=G||ka}G?(G!==ba[0]&&ba.unshift(G),D=m[G]):D=void 0}a:{m=z;ka=D;P=w;G=
f;var M,H,u,t={},E=m.dataTypes.slice();if(E[1])for(H in m.converters)t[H.toLowerCase()]=m.converters[H];for(U=E.shift();U;)if(m.responseFields[U]&&(P[m.responseFields[U]]=ka),!u&&(G&&m.dataFilter)&&(ka=m.dataFilter(ka,m.dataType)),u=U,U=E.shift())if("*"===U)U=u;else if("*"!==u&&u!==U){H=t[u+" "+U]||t["* "+U];if(!H)for(M in t)if(D=M.split(" "),D[1]===U&&(H=t[u+" "+D[0]]||t["* "+D[0]])){!0===H?H=t[M]:!0!==t[M]&&(U=D[0],E.unshift(D[1]));break}if(!0!==H)if(H&&m["throws"])ka=H(ka);else try{ka=H(ka)}catch(pa){D=
{state:"parsererror",error:H?pa:"No conversion from "+u+" to "+U};break a}}D={state:"success",data:ka}}if(f)z.ifModified&&((ga=w.getResponseHeader("Last-Modified"))&&(k.lastModified[g]=ga),(ga=w.getResponseHeader("etag"))&&(k.etag[g]=ga)),204===a||"HEAD"===z.type?ga="nocontent":304===a?ga="notmodified":(ga=D.state,l=D.data,N=D.error,f=!N);else if(N=ga,a||!ga)ga="error",0>a&&(a=0);w.status=a;w.statusText=(c||ga)+"";f?J.resolveWith(r,[l,ga,w]):J.rejectWith(r,[w,ga,N]);w.statusCode(B);B=b;p&&n.trigger(f?
"ajaxSuccess":"ajaxError",[w,z,f?l:N]);q.fireWith(r,[w,ga]);p&&(n.trigger("ajaxComplete",[w,z]),--k.active||k.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);var c=c||{},m,f,g,h,j,p,v,l,z=k.ajaxSetup({},c),r=z.context||z,n=z.context&&(r.nodeType||r.jquery)?k(r):k.event,J=k.Deferred(),q=k.Callbacks("once memory"),B=z.statusCode||{},N={},D={},y=0,ga="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===y){if(!l)for(l={};b=Ed.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==
b?null:b},getAllResponseHeaders:function(){return 2===y?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();y||(a=D[c]=D[c]||a,N[a]=b);return this},overrideMimeType:function(a){y||(z.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>y)for(b in a)B[b]=[B[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){a=a||ga;v&&v.abort(a);d(0,a);return this}};J.promise(w).complete=q.add;w.success=w.done;w.error=w.fail;z.url=((a||z.url||Sa)+"").replace(Dd,"").replace(Gd,db[1]+
"//");z.type=c.method||c.type||z.method||z.type;z.dataTypes=k.trim(z.dataType||"*").toLowerCase().match(fa)||[""];null==z.crossDomain&&(m=Fc.exec(z.url.toLowerCase()),z.crossDomain=!(!m||!(m[1]!==db[1]||m[2]!==db[2]||(m[3]||("http:"===m[1]?"80":"443"))!==(db[3]||("http:"===db[1]?"80":"443")))));z.data&&(z.processData&&"string"!==typeof z.data)&&(z.data=k.param(z.data,z.traditional));L(Hc,z,c,w);if(2===y)return w;(p=z.global)&&0===k.active++&&k.event.trigger("ajaxStart");z.type=z.type.toUpperCase();
z.hasContent=!Fd.test(z.type);g=z.url;z.hasContent||(z.data&&(g=z.url+=(ac.test(g)?"&":"?")+z.data,delete z.data),!1===z.cache&&(z.url=Ec.test(g)?g.replace(Ec,"$1_="+$b++):g+(ac.test(g)?"&":"?")+"_="+$b++));z.ifModified&&(k.lastModified[g]&&w.setRequestHeader("If-Modified-Since",k.lastModified[g]),k.etag[g]&&w.setRequestHeader("If-None-Match",k.etag[g]));(z.data&&z.hasContent&&!1!==z.contentType||c.contentType)&&w.setRequestHeader("Content-Type",z.contentType);w.setRequestHeader("Accept",z.dataTypes[0]&&
z.accepts[z.dataTypes[0]]?z.accepts[z.dataTypes[0]]+("*"!==z.dataTypes[0]?", "+Ic+"; q=0.01":""):z.accepts["*"]);for(f in z.headers)w.setRequestHeader(f,z.headers[f]);if(z.beforeSend&&(!1===z.beforeSend.call(r,w,z)||2===y))return w.abort();ga="abort";for(f in{success:1,error:1,complete:1})w[f](z[f]);if(v=L(Ib,z,c,w)){w.readyState=1;p&&n.trigger("ajaxSend",[w,z]);z.async&&0<z.timeout&&(j=setTimeout(function(){w.abort("timeout")},z.timeout));try{y=1,v.send(N,d)}catch(t){if(2>y)d(-1,t);else throw t;
}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return k.get(a,b,c,"json")},getScript:function(a,c){return k.get(a,b,c,"script")}});k.each(["get","post"],function(a,c){k[c]=function(a,d,m,f){k.isFunction(d)&&(f=f||m,m=d,d=b);return k.ajax({url:a,type:c,dataType:f,data:d,success:m})}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){k.globalEval(a);
return a}}});k.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=O.head||k("head")[0]||O.documentElement;return{send:function(b,m){c=O.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),
c=null,b||m(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(b,!0)}}}});var Jc=[],bc=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jc.pop()||k.expando+"_"+$b++;this[a]=!0;return a}});k.ajaxPrefilter("json jsonp",function(c,d,m){var f,g,h,j=!1!==c.jsonp&&(bc.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(c.data)&&"data");if(j||"jsonp"===c.dataTypes[0])return f=c.jsonpCallback=
k.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,j?c[j]=c[j].replace(bc,"$1"+f):!1!==c.jsonp&&(c.url+=(ac.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){h||k.error(f+" was not called");return h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},m.always(function(){a[f]=g;c[f]&&(c.jsonpCallback=d.jsonpCallback,Jc.push(f));h&&k.isFunction(g)&&g(h[0]);h=g=b}),"script"});var kb,pb,Hd=0,cc=a.ActiveXObject&&function(){for(var a in kb)kb[a](b,!0)};k.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&v()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:v;pb=k.ajaxSettings.xhr();k.support.cors=!!pb&&"withCredentials"in pb;(pb=k.support.ajax=!!pb)&&k.ajaxTransport(function(c){if(!c.crossDomain||k.support.cors){var d;return{send:function(m,f){var g,h,j=c.xhr();c.username?j.open(c.type,c.url,c.async,c.username,c.password):j.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)j[h]=c.xhrFields[h];
c.mimeType&&j.overrideMimeType&&j.overrideMimeType(c.mimeType);!c.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");try{for(h in m)j.setRequestHeader(h,m[h])}catch(p){}j.send(c.hasContent&&c.data||null);d=function(a,m){var h,p,z,v;try{if(d&&(m||4===j.readyState))if(d=b,g&&(j.onreadystatechange=k.noop,cc&&delete kb[g]),m)4!==j.readyState&&j.abort();else{v={};h=j.status;p=j.getAllResponseHeaders();"string"===typeof j.responseText&&(v.text=j.responseText);try{z=j.statusText}catch(l){z=
""}!h&&c.isLocal&&!c.crossDomain?h=v.text?200:404:1223===h&&(h=204)}}catch(r){m||f(-1,r)}v&&f(h,z,v,p)};c.async?4===j.readyState?setTimeout(d):(g=++Hd,cc&&(kb||(kb={},k(a).unload(cc)),kb[g]=d),j.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var eb,Gb,Id=/^(?:toggle|show|hide)$/,Kc=RegExp("^(?:([+-])=|)("+ia+")([a-z%]*)$","i"),Jd=/queueHooks$/,rb=[function(a,b,c){var d,m,f,g,h,j=this,p={},v=a.style,z=a.nodeType&&x(a),l=k._data(a,"fxshow");c.queue||(g=k._queueHooks(a,"fx"),null==g.unqueued&&
(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,j.always(function(){j.always(function(){g.unqueued--;k.queue(a,"fx").length||g.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[v.overflow,v.overflowX,v.overflowY],"inline"===k.css(a,"display")&&"none"===k.css(a,"float")&&(!k.support.inlineBlockNeedsLayout||"inline"===I(a.nodeName)?v.display="inline-block":v.zoom=1);c.overflow&&(v.overflow="hidden",k.support.shrinkWrapBlocks||j.always(function(){v.overflow=
c.overflow[0];v.overflowX=c.overflow[1];v.overflowY=c.overflow[2]}));for(d in b)if(m=b[d],Id.exec(m)&&(delete b[d],f=f||"toggle"===m,m!==(z?"hide":"show")))p[d]=l&&l[d]||k.style(a,d);if(!k.isEmptyObject(p))for(d in l?"hidden"in l&&(z=l.hidden):l=k._data(a,"fxshow",{}),f&&(l.hidden=!z),z?k(a).show():j.done(function(){k(a).hide()}),j.done(function(){var b;k._removeData(a,"fxshow");for(b in p)k.style(a,b,p[b])}),p)b=ba(z?l[d]:0,d,j),d in l||(l[d]=b.start,z&&(b.end=b.start,b.start="width"===d||"height"===
d?1:0))}],mb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),m=Kc.exec(b),f=m&&m[3]||(k.cssNumber[a]?"":"px"),g=(k.cssNumber[a]||"px"!==f&&+d)&&Kc.exec(k.css(c.elem,a)),h=1,j=20;if(g&&g[3]!==f){f=f||g[3];m=m||[];g=+d||1;do h=h||".5",g/=h,k.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--j)}m&&(g=c.start=+g||+d||0,c.unit=f,c.end=m[1]?g+(m[1]+1)*m[2]:+m[2]);return c}]};k.Animation=k.extend(ca,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,m=a.length;d<
m;d++)c=a[d],mb[c]=mb[c]||[],mb[c].unshift(b)},prefilter:function(a,b){b?rb.unshift(a):rb.push(a)}});k.Tween=P;P.prototype={constructor:P,init:function(a,b,c,d,m,f){this.elem=a;this.prop=c;this.easing=m||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(k.cssNumber[c]?"":"px")},cur:function(){var a=P.propHooks[this.prop];return a&&a.get?a.get(this):P.propHooks._default.get(this)},run:function(a){var b,c=P.propHooks[this.prop];this.pos=this.options.duration?b=k.easing[this.easing](a,
this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):P.propHooks._default.set(this);return this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=k.css(a.elem,a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(k.fx.step[a.prop])k.fx.step[a.prop](a);
else a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.each(["toggle","show","hide"],function(a,b){var c=k.fn[b];k.fn[b]=function(a,d,m){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(G(b,!0),a,d,m)}});k.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",
0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var m=k.isEmptyObject(a),f=k.speed(b,c,d),b=function(){var b=ca(this,k.extend({},a),f);(m||k._data(this,"finish"))&&b.stop(!0)};b.finish=b;return m||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,c,d){var m=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=c,c=a,a=b);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=k.timers,g=k._data(this);if(c)g[c]&&
g[c].stop&&m(g[c]);else for(c in g)g[c]&&(g[c].stop&&Jd.test(c))&&m(g[c]);for(c=f.length;c--;)if(f[c].elem===this&&(null==a||f[c].queue===a))f[c].anim.stop(d),b=!1,f.splice(c,1);(b||!d)&&k.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=k._data(this),d=c[a+"queue"];b=c[a+"queueHooks"];var m=k.timers,f=d?d.length:0;c.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=m.length;b--;)m[b].elem===this&&m[b].queue===a&&(m[b].anim.stop(!0),m.splice(b,
1));for(b=0;b<f;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});k.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});k.speed=function(a,b,c){var d=a&&"object"===typeof a?k.extend({},a):{complete:c||!c&&b||k.isFunction(a)&&a,duration:a,easing:c&&b||b&&!k.isFunction(b)&&b};d.duration=k.fx.off?0:"number"===typeof d.duration?
d.duration:d.duration in k.fx.speeds?k.fx.speeds[d.duration]:k.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){k.isFunction(d.old)&&d.old.call(this);d.queue&&k.dequeue(this,d.queue)};return d};k.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};k.timers=[];k.fx=P.prototype.init;k.fx.tick=function(){var a,c=k.timers,d=0;for(eb=k.now();d<c.length;d++)a=c[d],!a()&&c[d]===a&&c.splice(d--,1);c.length||k.fx.stop();
eb=b};k.fx.timer=function(a){a()&&k.timers.push(a)&&k.fx.start()};k.fx.interval=13;k.fx.start=function(){Gb||(Gb=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(Gb);Gb=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fx.step={};k.expr&&k.expr.filters&&(k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length});k.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){k.offset.setOffset(this,a,b)});var c,
d,m={top:0,left:0},f=(d=this[0])&&d.ownerDocument;if(f){c=f.documentElement;if(!k.contains(c,d))return m;typeof d.getBoundingClientRect!==ma&&(m=d.getBoundingClientRect());d=M(f);return{top:m.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:m.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}};k.offset={setOffset:function(a,b,c){var d=k.css(a,"position");"static"===d&&(a.style.position="relative");var m=k(a),f=m.offset(),g=k.css(a,"top"),h=k.css(a,"left"),j={},p={};("absolute"===d||"fixed"===
d)&&-1<k.inArray("auto",[g,h])?(p=m.position(),d=p.top,h=p.left):(d=parseFloat(g)||0,h=parseFloat(h)||0);k.isFunction(b)&&(b=b.call(a,c,f));null!=b.top&&(j.top=b.top-f.top+d);null!=b.left&&(j.left=b.left-f.left+h);"using"in b?b.using.call(a,j):m.css(j)}};k.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];"fixed"===k.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(c=a.offset()),c.top+=k.css(a[0],"borderTopWidth",
!0),c.left+=k.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-k.css(d,"marginTop",!0),left:b.left-c.left-k.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ia;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Ia})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);k.fn[a]=function(m){return k.access(this,function(a,m,f){var g=M(a);if(f===b)return g?c in g?g[c]:
g.document.documentElement[m]:a[m];g?g.scrollTo(!d?f:k(g).scrollLeft(),d?f:k(g).scrollTop()):a[m]=f},a,m,arguments.length,null)}});k.each({Height:"height",Width:"width"},function(a,c){k.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,m){k.fn[m]=function(m,f){var g=arguments.length&&(d||"boolean"!==typeof m),h=d||(!0===m||!0===f?"margin":"border");return k.access(this,function(c,d,m){return k.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(d=c.documentElement,Math.max(c.body["scroll"+
a],d["scroll"+a],c.body["offset"+a],d["offset"+a],d["client"+a])):m===b?k.css(c,d,h):k.style(c,d,m,h)},c,g?m:b,g,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=k:(a.jQuery=a.$=k,"function"===typeof define&&define.amd&&define("jquery",[],function(){return k}))})(window);if("undefined"===typeof jQuery)throw Error("Bootstrap requires jQuery");
+function(a){a.fn.emulateTransitionEnd=function(b){var f=!1,c=this;a(this).one(a.support.transition.end,function(){f=!0});setTimeout(function(){f||a(c).trigger(a.support.transition.end)},b);return this};a(function(){var b=a.support,f;a:{f=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d;for(d in c)if(void 0!==f.style[d]){f={end:c[d]};break a}f=void 0}b.transition=
f})}(jQuery);
+function(a){var b=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};b.prototype.close=function(b){function d(){n.trigger("closed.bs.alert").remove()}var f=a(this),j=f.attr("data-target");j||(j=(j=f.attr("href"))&&j.replace(/.*(?=#[^\s]*$)/,""));var n=a(j);b&&b.preventDefault();n.length||(n=f.hasClass("alert")?f:f.parent());n.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(n.removeClass("in"),a.support.transition&&n.hasClass("fade")?n.one(a.support.transition.end,d).emulateTransitionEnd(150):
d())};var f=a.fn.alert;a.fn.alert=function(c){return this.each(function(){var d=a(this),f=d.data("bs.alert");f||d.data("bs.alert",f=new b(this));"string"==typeof c&&f[c].call(d)})};a.fn.alert.Constructor=b;a.fn.alert.noConflict=function(){a.fn.alert=f;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(jQuery);
+function(a){var b=function(c,d){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(a){var b=this.$element,f=b.is("input")?"val":"html",j=b.data(),a=a+"Text";j.resetText||b.data("resetText",b[f]());b[f](j[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},0)};b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),
b=!0;if(a.length){var f=this.$element.find("input");"radio"===f.prop("type")&&(f.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active"));b&&f.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var f=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),f=d.data("bs.button"),j="object"==typeof c&&c;f||d.data("bs.button",f=new b(this,j));"toggle"==c?f.toggle():c&&f.setState(c)})};
a.fn.button.Constructor=b;a.fn.button.noConflict=function(){a.fn.button=f;return this};a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var d=a(b.target);d.hasClass("btn")||(d=d.closest(".btn"));d.button("toggle");b.preventDefault()})}(jQuery);
+function(a){var b=function(b,d){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};b.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};b.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};b.prototype.to=function(b){var d=this,f=this.getActiveIndex();if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid.bs.carousel",function(){d.to(b)}):f==b?this.pause().cycle():this.slide(b>f?"next":"prev",a(this.$items[b]))};
b.prototype.pause=function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};b.prototype.next=function(){if(!this.sliding)return this.slide("next")};b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};b.prototype.slide=function(b,d){var f=this.$element.find(".item.active"),j=d||f[b](),n=this.interval,l="next"==b?"left":
"right",q="next"==b?"first":"last",t=this;if(!j.length){if(!this.options.wrap)return;j=this.$element.find(".item")[q]()}this.sliding=!0;n&&this.pause();q=a.Event("slide.bs.carousel",{relatedTarget:j[0],direction:l});if(!j.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(t.$indicators.children()[t.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(q);
if(q.isDefaultPrevented())return;j.addClass(b);j[0].offsetWidth;f.addClass(l);j.addClass(l);f.one(a.support.transition.end,function(){j.removeClass([b,l].join(" ")).addClass("active");f.removeClass(["active",l].join(" "));t.sliding=!1;setTimeout(function(){t.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(q);if(q.isDefaultPrevented())return;f.removeClass("active");j.addClass("active");this.sliding=!1;this.$element.trigger("slid.bs.carousel")}n&&this.cycle();
return this}};var f=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),f=d.data("bs.carousel"),j=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),n="string"==typeof c?c:j.slide;f||d.data("bs.carousel",f=new b(this,j));if("number"==typeof c)f.to(c);else if(n)f[n]();else j.interval&&f.pause().cycle()})};a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){a.fn.carousel=f;return this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",
function(b){var d=a(this),f,j=a(d.attr("data-target")||(f=d.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));f=a.extend({},j.data(),d.data());var n=d.attr("data-slide-to");n&&(f.interval=!1);j.carousel(f);(n=d.attr("data-slide-to"))&&j.data("bs.carousel").to(n);b.preventDefault()});a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery);
+function(a){var b=function(c,d){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,d);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0};b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){if((b=this.$parent&&
this.$parent.find("> .panel > .in"))&&b.length){var d=b.data("bs.collapse");if(d&&d.transitioning)return;b.collapse("hide");d||b.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("in")[f]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);d=a.camelCase(["scroll",f].join("-"));this.$element.one(a.support.transition.end,
a.proxy(b,this)).emulateTransitionEnd(350)[f](this.$element[0][d])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!a.support.transition)return d.call(this);this.$element[b](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var f=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),f=d.data("bs.collapse"),j=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);f||d.data("bs.collapse",f=new b(this,j));if("string"==typeof c)f[c]()})};a.fn.collapse.Constructor=b;a.fn.collapse.noConflict=
function(){a.fn.collapse=f;return this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var d=a(this),f,b=d.attr("data-target")||b.preventDefault()||(f=d.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");f=a(b);var j=(b=f.data("bs.collapse"))?"toggle":d.data(),n=d.attr("data-parent"),l=n&&a(n);if(!b||!b.transitioning)l&&l.find('[data-toggle=collapse][data-parent="'+n+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed");f.collapse(j)})}(jQuery);
+function(a){function b(){a(c).remove();a(d).each(function(b){var c=f(a(this));c.hasClass("open")&&(c.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function f(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}var c=".dropdown-backdrop",d="[data-toggle=dropdown]",g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.prototype.toggle=
function(c){var d=a(this);if(!d.is(".disabled, :disabled")){var g=f(d),c=g.hasClass("open");b();if(!c){if("ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);g.trigger(c=a.Event("show.bs.dropdown"));if(c.isDefaultPrevented())return;g.toggleClass("open").trigger("shown.bs.dropdown");d.focus()}return!1}};g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var c=a(this);b.preventDefault();b.stopPropagation();
if(!c.is(".disabled, :disabled")){var g=f(c),j=g.hasClass("open");if(!j||j&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),c.click();c=a("[role=menu] li:not(.divider):visible a",g);c.length&&(g=c.index(c.filter(":focus")),38==b.keyCode&&0<g&&g--,40==b.keyCode&&g<c.length-1&&g++,~g||(g=0),c.eq(g).focus())}}};var j=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this));"string"==typeof b&&d[b].call(c)})};
a.fn.dropdown.Constructor=g;a.fn.dropdown.noConflict=function(){a.fn.dropdown=j;return this};a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",d,g.prototype.toggle).on("keydown.bs.dropdown.data-api",d+", [role=menu]",g.prototype.keydown)}(jQuery);
+function(a){var b=function(b,d){this.options=d;this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this[!this.isShown?"show":"hide"](a)};b.prototype.show=function(b){var d=this,f=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(f);!this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var f=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(document.body);d.$element.show();f&&d.$element[0].offsetWidth;d.$element.addClass("in").attr("aria-hidden",!1);d.enforceFocus();var g=a.Event("shown.bs.modal",{relatedTarget:b});f?d.$element.find(".modal-dialog").one(a.support.transition.end,function(){d.$element.focus().trigger(g)}).emulateTransitionEnd(300):d.$element.focus().trigger(g)}))};
b.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(b){var d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));f&&
this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(f?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var f=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var f=a(this),j=f.data("bs.modal"),n=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&
c);j||f.data("bs.modal",j=new b(this,n));if("string"==typeof c)j[c](d);else n.show&&j.show(d)})};a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){a.fn.modal=f;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var d=a(this),f=d.attr("href"),j=a(d.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),f=j.data("modal")?"toggle":a.extend({remote:!/#/.test(f)&&f},j.data(),d.data());b.preventDefault();j.modal(f,this).one("hide",function(){d.is(":visible")&&
d.focus()})});a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);
+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};b.prototype.init=function(b,d,f){this.enabled=!0;this.type=b;this.$element=a(d);this.options=this.getOptions(f);b=this.options.trigger.split(" ");
for(d=b.length;d--;)if(f=b[d],"click"==f)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=f){var j="hover"==f?"mouseleave":"blur";this.$element.on(("hover"==f?"mouseenter":"focus")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(j+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=
function(){return b.DEFAULTS};b.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};b.prototype.getDelegateOptions=function(){var b={},d=this.getDefaults();this._options&&a.each(this._options,function(a,f){d[a]!=f&&(b[a]=f)});return b};b.prototype.enter=function(b){var d=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show)return d.show();d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)};b.prototype.leave=function(b){var d=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide)return d.hide();d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)};
b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var d=this.tip();this.setContent();this.options.animation&&d.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,j=f.test(b);j&&(b=b.replace(f,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(b);this.options.container?d.appendTo(this.options.container):
d.insertAfter(this.$element);var f=this.getPosition(),n=d[0].offsetWidth,l=d[0].offsetHeight;if(j){var q=this.$element.parent(),j=b,t=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:q.outerWidth(),h="body"==this.options.container?window.innerHeight:q.outerHeight(),q="body"==this.options.container?0:q.offset().left,b="bottom"==b&&f.top+f.height+l-t>h?"top":"top"==b&&0>f.top-t-l?"bottom":"right"==b&&f.right+n>p?"left":"left"==b&&f.left-
n<q?"right":b;d.removeClass(j).addClass(b)}d=this.getCalculatedOffset(b,f,n,l);this.applyPlacement(d,b);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(a,b){var f,j=this.tip(),n=j[0].offsetWidth,l=j[0].offsetHeight,q=parseInt(j.css("margin-top"),10),t=parseInt(j.css("margin-left"),10);isNaN(q)&&(q=0);isNaN(t)&&(t=0);a.top+=q;a.left+=t;j.offset(a).addClass("in");q=j[0].offsetWidth;t=j[0].offsetHeight;"top"==b&&t!=l&&(f=!0,a.top=a.top+l-t);/bottom|top/.test(b)?(l=
0,0>a.left&&(l=-2*a.left,a.left=0,j.offset(a),q=j[0].offsetWidth),this.replaceArrow(l-n+q,q,"left")):this.replaceArrow(t-l,t,"top");f&&j.offset(a)};b.prototype.replaceArrow=function(a,b,f){this.arrow().css(f,a?50*(1-a/b)+"%":"")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(){function b(){"in"!=d.hoverState&&f.detach()}var d=this,f=this.tip(),
j=a.Event("hide.bs."+this.type);this.$element.trigger(j);if(!j.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this};b.prototype.fixTitle=function(){var a=this.$element;if(a.attr("title")||"string"!=typeof a.attr("data-original-title"))a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=function(){return this.getTitle()};
b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(a,b,f,j){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-f/2}:"top"==a?{top:b.top-j,left:b.left+b.width/2-f/2}:"left"==a?{top:b.top+b.height/2-j/2,left:b.left-f}:{top:b.top+b.height/2-j/2,left:b.left+b.width}};b.prototype.getTitle=function(){var a=
this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};b.prototype.enable=function(){this.enabled=!0};b.prototype.disable=function(){this.enabled=!1};
b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(b){b=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),f=d.data("bs.tooltip"),j="object"==typeof c&&c;f||d.data("bs.tooltip",f=new b(this,j));
if("string"==typeof c)f[c]()})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){a.fn.tooltip=f;return this}}(jQuery);
+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=
function(){var a=this.tip(),b=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content")[this.options.html?"html":"text"](f);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?
b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var f=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),f=d.data("bs.popover"),j="object"==typeof c&&c;f||d.data("bs.popover",f=new b(this,j));if("string"==typeof c)f[c]()})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){a.fn.popover=f;return this}}(jQuery);
+function(a){function b(c,d){var f,j=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c);this.$body=a("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",j);this.options=a.extend({},b.DEFAULTS,d);this.selector=(this.options.target||(f=a(c).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=a([]);this.targets=a([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var b=
this.$element[0]==window?"offset":"position";this.offsets=a([]);this.targets=a([]);var d=this;this.$body.find(this.selector).map(function(){var f=a(this),f=f.data("target")||f.attr("href"),j=/^#\w/.test(f)&&a(f);return j&&j.length&&[[j[b]().top+(!a.isWindow(d.$scrollElement.get(0))&&d.$scrollElement.scrollTop()),f]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})};b.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,
b=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),f=this.offsets,j=this.targets,n=this.activeTarget,l;if(a>=b)return n!=(l=j.last()[0])&&this.activate(l);for(l=f.length;l--;)n!=j[l]&&a>=f[l]&&(!f[l+1]||a<=f[l+1])&&this.activate(j[l])};b.prototype.activate=function(b){this.activeTarget=b;a(this.selector).parents(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");
b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};var f=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),f=d.data("bs.scrollspy"),j="object"==typeof c&&c;f||d.data("bs.scrollspy",f=new b(this,j));if("string"==typeof c)f[c]()})};a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=f;return this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=
a(this);b.scrollspy(b.data())})})}(jQuery);
+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,d=b.closest("ul:not(.dropdown-menu)"),f=b.data("target");f||(f=(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var j=d.find(".active:last a")[0],n=a.Event("show.bs.tab",{relatedTarget:j});b.trigger(n);n.isDefaultPrevented()||(f=a(f),this.activate(b.parent("li"),d),this.activate(f,f.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:j})}))}};b.prototype.activate=
function(b,d,f){function j(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");l?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");f&&f()}var n=d.find("> .active"),l=f&&a.support.transition&&n.hasClass("fade");l?n.one(a.support.transition.end,j).emulateTransitionEnd(150):j();n.removeClass("in")};var f=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),
f=d.data("bs.tab");f||d.data("bs.tab",f=new b(this));if("string"==typeof c)f[c]()})};a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){a.fn.tab=f;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(jQuery);
+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.affixed=this.unpin=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=
a(document).height(),d=this.$window.scrollTop(),f=this.$element.offset(),j=this.options.offset,n=j.top,l=j.bottom;"object"!=typeof j&&(l=n=j);"function"==typeof n&&(n=j.top());"function"==typeof l&&(l=j.bottom());c=null!=this.unpin&&d+this.unpin<=f.top?!1:null!=l&&f.top+this.$element.height()>=c-l?"bottom":null!=n&&d<=n?"top":!1;this.affixed!==c&&(this.unpin&&this.$element.css("top",""),this.affixed=c,this.unpin="bottom"==c?f.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(c?"-"+c:
"")),"bottom"==c&&this.$element.offset({top:document.body.offsetHeight-l-this.$element.height()}))}};var f=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),f=d.data("bs.affix"),j="object"==typeof c&&c;f||d.data("bs.affix",f=new b(this,j));if("string"==typeof c)f[c]()})};a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){a.fn.affix=f;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),d=b.data();d.offset=d.offset||{};d.offsetBottom&&
(d.offset.bottom=d.offsetBottom);d.offsetTop&&(d.offset.top=d.offsetTop);b.affix(d)})})}(jQuery);(function(a){a.fn.menuAim=function(b){this.each(function(){var f=a(this),c=null,d=[],g=null,j=null,n=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop},b),l=function(a){a!=c&&(c&&n.deactivate(c),n.activate(a),c=a)},q=function(a){var b=t();b?j=setTimeout(function(){q(a)},b):l(a)},t=function(){function b(a,c){return(c.y-a.y)/(c.x-a.x)}if(!c||!a(c).is(n.submenuSelector))return 0;var h=f.offset(),
j={x:h.left,y:h.top-n.tolerance},l={x:h.left+f.outerWidth(),y:j.y},q={x:h.left,y:h.top+f.outerHeight()+n.tolerance},t={x:h.left+f.outerWidth(),y:q.y},r=d[d.length-1],B=d[0];if(!r)return 0;B||(B=r);if(B.x<h.left||(B.x>t.x||B.y<h.top||B.y>t.y)||g&&r.x==g.x&&r.y==g.y)return 0;var E=l,h=t;"left"==n.submenuDirection?(E=q,h=j):"below"==n.submenuDirection?(E=t,h=q):"above"==n.submenuDirection&&(E=j,h=l);j=b(r,E);l=b(r,h);E=b(B,E);B=b(B,h);if(j<E&&l>B)return g=r,300;g=null;return 0};f.mouseleave(function(){j&&
clearTimeout(j);n.exitMenu(this)&&(c&&n.deactivate(c),c=null)}).find(n.rowSelector).mouseenter(function(){j&&clearTimeout(j);n.enter(this);q(this)}).mouseleave(function(){n.exit(this)}).click(function(){l(this)});a(document).mousemove(function(a){d.push({x:a.pageX,y:a.pageY});3<d.length&&d.shift()})});return this}})(jQuery);var MobileEsp={initCompleted:!1,isWebkit:!1,isMobilePhone:!1,isIphone:!1,isAndroid:!1,isAndroidPhone:!1,isTierTablet:!1,isTierIphone:!1,isTierRichCss:!1,isTierGenericMobile:!1,engineWebKit:"webkit",deviceIphone:"iphone",deviceIpod:"ipod",deviceIpad:"ipad",deviceMacPpc:"macintosh",deviceAndroid:"android",deviceGoogleTV:"googletv",deviceHtcFlyer:"htc_flyer",deviceWinPhone7:"windows phone os 7",deviceWinPhone8:"windows phone 8",deviceWinMob:"windows ce",deviceWindows:"windows",deviceIeMob:"iemobile",
devicePpc:"ppc",enginePie:"wm5 pie",deviceBB:"blackberry",deviceBB10:"bb10",vndRIM:"vnd.rim",deviceBBStorm:"blackberry95",deviceBBBold:"blackberry97",deviceBBBoldTouch:"blackberry 99",deviceBBTour:"blackberry96",deviceBBCurve:"blackberry89",deviceBBCurveTouch:"blackberry 938",deviceBBTorch:"blackberry 98",deviceBBPlaybook:"playbook",deviceSymbian:"symbian",deviceSymbos:"symbos",deviceS60:"series60",deviceS70:"series70",deviceS80:"series80",deviceS90:"series90",devicePalm:"palm",deviceWebOS:"webos",
deviceWebOShp:"hpwos",engineBlazer:"blazer",engineXiino:"xiino",deviceNuvifone:"nuvifone",deviceBada:"bada",deviceTizen:"tizen",deviceMeego:"meego",deviceKindle:"kindle",engineSilk:"silk-accelerated",vndwap:"vnd.wap",wml:"wml",deviceTablet:"tablet",deviceBrew:"brew",deviceDanger:"danger",deviceHiptop:"hiptop",devicePlaystation:"playstation",devicePlaystationVita:"vita",deviceNintendoDs:"nitro",deviceNintendo:"nintendo",deviceWii:"wii",deviceXbox:"xbox",deviceArchos:"archos",engineOpera:"opera",engineNetfront:"netfront",
engineUpBrowser:"up.browser",engineOpenWeb:"openweb",deviceMidp:"midp",uplink:"up.link",engineTelecaQ:"teleca q",engineObigo:"obigo",devicePda:"pda",mini:"mini",mobile:"mobile",mobi:"mobi",maemo:"maemo",linux:"linux",mylocom2:"sony/com",manuSonyEricsson:"sonyericsson",manuericsson:"ericsson",manuSamsung1:"sec-sgh",manuSony:"sony",manuHtc:"htc",svcDocomo:"docomo",svcKddi:"kddi",svcVodafone:"vodafone",disUpdate:"update",uagent:"",InitDeviceScan:function(){this.initCompleted=!1;navigator&&navigator.userAgent&&
(this.uagent=navigator.userAgent.toLowerCase());this.isWebkit=this.DetectWebkit();this.isIphone=this.DetectIphone();this.isAndroid=this.DetectAndroid();this.isAndroidPhone=this.DetectAndroidPhone();this.isTierIphone=this.DetectTierIphone();this.isTierTablet=this.DetectTierTablet();this.isMobilePhone=this.DetectMobileQuick();this.isTierRichCss=this.DetectTierRichCss();this.isTierGenericMobile=this.DetectTierOtherPhones();this.initCompleted=!0},DetectIphone:function(){return this.initCompleted||this.isIphone?
this.isIphone:-1<this.uagent.search(this.deviceIphone)?this.DetectIpad()||this.DetectIpod()?!1:!0:!1},DetectIpod:function(){return-1<this.uagent.search(this.deviceIpod)?!0:!1},DetectIphoneOrIpod:function(){return this.DetectIphone()||this.DetectIpod()?!0:!1},DetectIpad:function(){return-1<this.uagent.search(this.deviceIpad)&&this.DetectWebkit()?!0:!1},DetectIos:function(){return this.DetectIphoneOrIpod()||this.DetectIpad()?!0:!1},DetectAndroid:function(){return this.initCompleted||this.isAndroid?
this.isAndroid:-1<this.uagent.search(this.deviceAndroid)||this.DetectGoogleTV()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidPhone:function(){return this.initCompleted||this.isAndroidPhone?this.isAndroidPhone:this.DetectAndroid()&&-1<this.uagent.search(this.mobile)||this.DetectOperaAndroidPhone()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidTablet:function(){return!this.DetectAndroid()||this.DetectOperaMobile()||-1<this.uagent.search(this.deviceHtcFlyer)?
!1:-1<this.uagent.search(this.mobile)?!1:!0},DetectAndroidWebKit:function(){return this.DetectAndroid()&&this.DetectWebkit()?!0:!1},DetectGoogleTV:function(){return-1<this.uagent.search(this.deviceGoogleTV)?!0:!1},DetectWebkit:function(){return this.initCompleted||this.isWebkit?this.isWebkit:-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectWindowsPhone:function(){return this.DetectWindowsPhone7()||this.DetectWindowsPhone8()?!0:!1},DetectWindowsPhone7:function(){return-1<this.uagent.search(this.deviceWinPhone7)?
!0:!1},DetectWindowsPhone8:function(){return-1<this.uagent.search(this.deviceWinPhone8)?!0:!1},DetectWindowsMobile:function(){return this.DetectWindowsPhone()?!1:-1<this.uagent.search(this.deviceWinMob)||(-1<this.uagent.search(this.deviceIeMob)||-1<this.uagent.search(this.enginePie))||-1<this.uagent.search(this.devicePpc)&&!(-1<this.uagent.search(this.deviceMacPpc))?!0:-1<this.uagent.search(this.manuHtc)&&-1<this.uagent.search(this.deviceWindows)?!0:!1},DetectBlackBerry:function(){return-1<this.uagent.search(this.deviceBB)||
-1<this.uagent.search(this.vndRIM)?!0:this.DetectBlackBerry10Phone()?!0:!1},DetectBlackBerry10Phone:function(){return-1<this.uagent.search(this.deviceBB10)&&-1<this.uagent.search(this.mobile)?!0:!1},DetectBlackBerryTablet:function(){return-1<this.uagent.search(this.deviceBBPlaybook)?!0:!1},DetectBlackBerryWebKit:function(){return this.DetectBlackBerry()&&-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectBlackBerryTouch:function(){return this.DetectBlackBerry()&&(-1<this.uagent.search(this.deviceBBStorm)||
-1<this.uagent.search(this.deviceBBTorch)||-1<this.uagent.search(this.deviceBBBoldTouch)||-1<this.uagent.search(this.deviceBBCurveTouch))?!0:!1},DetectBlackBerryHigh:function(){return this.DetectBlackBerryWebKit()?!1:this.DetectBlackBerry()&&(this.DetectBlackBerryTouch()||-1<this.uagent.search(this.deviceBBBold)||-1<this.uagent.search(this.deviceBBTour)||-1<this.uagent.search(this.deviceBBCurve))?!0:!1},DetectBlackBerryLow:function(){return this.DetectBlackBerry()?this.DetectBlackBerryHigh()||this.DetectBlackBerryWebKit()?
!1:!0:!1},DetectS60OssBrowser:function(){return this.DetectWebkit()?-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbian)?!0:!1:!1},DetectSymbianOS:function(){return-1<this.uagent.search(this.deviceSymbian)||-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbos)&&this.DetectOperaMobile||-1<this.uagent.search(this.deviceS70)||-1<this.uagent.search(this.deviceS80)||-1<this.uagent.search(this.deviceS90)?!0:!1},DetectPalmOS:function(){return this.DetectPalmWebOS()?
!1:-1<this.uagent.search(this.devicePalm)||-1<this.uagent.search(this.engineBlazer)||-1<this.uagent.search(this.engineXiino)?!0:!1},DetectPalmWebOS:function(){return-1<this.uagent.search(this.deviceWebOS)?!0:!1},DetectWebOSTablet:function(){return-1<this.uagent.search(this.deviceWebOShp)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectOperaMobile:function(){return-1<this.uagent.search(this.engineOpera)&&(-1<this.uagent.search(this.mini)||-1<this.uagent.search(this.mobi))?!0:!1},DetectOperaAndroidPhone:function(){return-1<
this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.mobi)?!0:!1},DetectOperaAndroidTablet:function(){return-1<this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectKindle:function(){return-1<this.uagent.search(this.deviceKindle)&&!this.DetectAndroid()?!0:!1},DetectAmazonSilk:function(){return-1<this.uagent.search(this.engineSilk)?!0:!1},DetectGarminNuvifone:function(){return-1<
this.uagent.search(this.deviceNuvifone)?!0:!1},DetectBada:function(){return-1<this.uagent.search(this.deviceBada)?!0:!1},DetectTizen:function(){return-1<this.uagent.search(this.deviceTizen)?!0:!1},DetectMeego:function(){return-1<this.uagent.search(this.deviceMeego)?!0:!1},DetectDangerHiptop:function(){return-1<this.uagent.search(this.deviceDanger)||-1<this.uagent.search(this.deviceHiptop)?!0:!1},DetectSonyMylo:function(){return-1<this.uagent.search(this.manuSony)&&(-1<this.uagent.search(this.qtembedded)||
-1<this.uagent.search(this.mylocom2))?!0:!1},DetectMaemoTablet:function(){return-1<this.uagent.search(this.maemo)?!0:-1<this.uagent.search(this.linux)&&-1<this.uagent.search(this.deviceTablet)&&!this.DetectWebOSTablet()&&!this.DetectAndroid()?!0:!1},DetectArchos:function(){return-1<this.uagent.search(this.deviceArchos)?!0:!1},DetectGameConsole:function(){return this.DetectSonyPlaystation()||this.DetectNintendo()||this.DetectXbox()?!0:!1},DetectSonyPlaystation:function(){return-1<this.uagent.search(this.devicePlaystation)?
!0:!1},DetectGamingHandheld:function(){return-1<this.uagent.search(this.devicePlaystation)&&-1<this.uagent.search(this.devicePlaystationVita)?!0:!1},DetectNintendo:function(){return-1<this.uagent.search(this.deviceNintendo)||-1<this.uagent.search(this.deviceWii)||-1<this.uagent.search(this.deviceNintendoDs)?!0:!1},DetectXbox:function(){return-1<this.uagent.search(this.deviceXbox)?!0:!1},DetectBrewDevice:function(){return-1<this.uagent.search(this.deviceBrew)?!0:!1},DetectSmartphone:function(){return this.DetectTierIphone()||
this.DetectS60OssBrowser()||this.DetectSymbianOS()||this.DetectWindowsMobile()||this.DetectBlackBerry()||this.DetectPalmOS()?!0:!1},DetectMobileQuick:function(){return this.DetectTierTablet()?!1:this.initCompleted||this.isMobilePhone?this.isMobilePhone:this.DetectSmartphone()||-1<this.uagent.search(this.mobile)||this.DetectKindle()||this.DetectAmazonSilk()||-1<this.uagent.search(this.deviceMidp)||this.DetectBrewDevice()||this.DetectOperaMobile()||this.DetectArchos()||-1<this.uagent.search(this.engineObigo)||
-1<this.uagent.search(this.engineNetfront)||-1<this.uagent.search(this.engineUpBrowser)||-1<this.uagent.search(this.engineOpenWeb)?!0:!1},DetectMobileLong:function(){return this.DetectMobileQuick()||this.DetectGameConsole()||(this.DetectDangerHiptop()||this.DetectMaemoTablet()||this.DetectSonyMylo()||this.DetectGarminNuvifone())||-1<this.uagent.search(this.devicePda)&&!(-1<this.uagent.search(this.disUpdate))||-1<this.uagent.search(this.manuSamsung1)||-1<this.uagent.search(this.manuSonyEricsson)||
-1<this.uagent.search(this.manuericsson)||-1<this.uagent.search(this.svcDocomo)||-1<this.uagent.search(this.svcKddi)||-1<this.uagent.search(this.svcVodafone)?!0:!1},DetectTierTablet:function(){return this.initCompleted||this.isTierTablet?this.isTierTablet:this.DetectIpad()||this.DetectAndroidTablet()||this.DetectBlackBerryTablet()||this.DetectWebOSTablet()?!0:!1},DetectTierIphone:function(){return this.initCompleted||this.isTierIphone?this.isTierIphone:this.DetectIphoneOrIpod()||this.DetectAndroidPhone()||
this.DetectWindowsPhone()||this.DetectBlackBerry10Phone()||this.DetectPalmWebOS()||this.DetectBada()||this.DetectTizen()||this.DetectGamingHandheld()?!0:this.DetectBlackBerryWebKit()&&this.DetectBlackBerryTouch()?!0:!1},DetectTierRichCss:function(){return this.initCompleted||this.isTierRichCss?this.isTierRichCss:this.DetectTierIphone()||(this.DetectKindle()||this.DetectTierTablet())||!this.DetectMobileQuick()?!1:this.DetectWebkit()?!0:this.DetectS60OssBrowser()||this.DetectBlackBerryHigh()||this.DetectWindowsMobile()||
-1<this.uagent.search(this.engineTelecaQ)?!0:!1},DetectTierOtherPhones:function(){return this.initCompleted||this.isTierGenericMobile?this.isTierGenericMobile:this.DetectTierIphone()||this.DetectTierRichCss()||this.DetectTierTablet()?!1:this.DetectMobileLong()?!0:!1}};MobileEsp.InitDeviceScan();/*

 Regula: An annotation-based form-validation framework in Javascript
 Version 1.3.3-SNAPSHOT

 Written By Vivin Paliath (http://vivin.net)
 License: BSD License
 Copyright (C) 2010-2013

 Other licenses:

 DOMUtils#getElementsByAttribute
 Author: Robert Nyman
 Copyright Robert Nyman, http://www.robertnyman.com
 Free to use if this text is included
*/
(function(a,b){"function"===typeof define&&define.amd?define("utils/MapUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.MapUtils=b())})(this,function(){return{iterateOverMap:function(a,b){var f=0,c;for(c in a)a.hasOwnProperty(c)&&"__size__"!==c&&(b.call(a,c,a[c],f),f++)},exists:function(a,b){for(var f=!1,c=0;!f&&c<a.length;)f=b==a[c],c++;return f},put:function(a,b,f){a.__size__||(a.__size__=0);a[b]||a.__size__++;a[b]=f},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}}});
(function(a,b){"function"===typeof define&&define.amd?define("utils/DOMUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.DOMUtils=b())})(this,function(){return{friendlyInputNames:{form:"The form",select:"The select box",textarea:"The text area",checkbox:"The checkbox",radio:"The radio button",text:"The text field",password:"The password",email:"The email",url:"The URL",number:"The number",datetime:"The datetime","datetime-local":"The local datetime",date:"The date",
month:"The month",time:"The time",week:"The week",range:"The range",tel:"The telephone number",color:"The color"},getElementsByAttribute:function(a,b,f,c){for(var a="*"==b&&a.all?a.all:a.getElementsByTagName(b),b=[],d="undefined"!==typeof c?RegExp("(^|\\s)"+c+"(\\s|$)"):null,g,j,n=0;n<a.length;n++)g=a[n],j=g.getAttribute&&g.getAttribute(f),"string"==typeof j&&0<j.length&&("undefined"===typeof c||d&&d.test(j))&&b.push(g);return b},getAttributeValueForElement:function(a,b){var f=a.getAttribute&&a.getAttribute(b)||
null;if(!f)for(var c=a.attributes,d=0;d<c.length;d++)c[d].nodeName===b&&(f=c[d].nodeValue);return f},generateRandomId:function(){return"regula-generated-"+Math.floor(1E6*Math.random())},supportsHTML5Validation:function(){return"function"===typeof document.createElement("input").checkValidity}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/GroupService",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.GroupService=b())})(this,function(){return{Group:{Default:0},ReverseGroup:{"0":"Default"},deletedGroupIndices:[],firstCustomGroupIndex:1}});
(function(a,b){"function"===typeof define&&define.amd?define("utils/ArrayUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ArrayUtils=b())})(this,function(){return{explode:function(a,b){for(var f="",c=0;c<a.length;c++)f+=a[c]+b;return f.replace(RegExp(b+"$"),"")}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ExceptionService",["utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ExceptionService=b(a.regulaModules.ArrayUtils))})(this,function(a){var b={IllegalArgumentException:function(a){this.name="IllegalArgumentException";this.message=a},ConstraintDefinitionException:function(a){this.name="ConstraintDefinitionException";this.message=a},BindException:function(a){this.name="BindException";
this.message=a},MissingFeatureException:function(a){this.name="MissingFeatureException";this.message=a}},f;for(f in b)if(b.hasOwnProperty(f)){var c=b[f];c.prototype=Error();c.prototype.constructor=c}return{Exception:b,generateExceptionMessage:function(a,b,c){var f="";null!=a?(f=a.id,f=""==b||null==b||void 0==b?f+": ":f+("."+b+": ")):""!=b&&(null!=b&&void 0!=b)&&(f="@"+b+": ");return f+c},explodeParameters:function(b){var c="Function received: {",f;for(f in b)b.hasOwnProperty(f)&&("string"==typeof b[f]?
c+=f+": "+b[f]+", ":b[f]instanceof Array&&(c+=f+": ["+a.explode(b[f],", ")+"], "));return c=c.replace(/, $/,"")+"}"}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ValidationService",["utils/DOMUtils","utils/MapUtils","service/GroupService","service/ExceptionService","utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ValidationService=b(a.regulaModules.DOMUtils,a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.ExceptionService,a.regulaModules.ArrayUtils))})(this,function(a,b,f,c,d){function g(a,b){var d=b[a],f=a.replace(/(^[A-Z]+)/,
function(a){return a.toLowerCase()});ba[f]=d.async?function(b,f,g){if("undefined"===typeof g)throw new c.Exception.IllegalArgumentException(a+" is an asynchronous constraint, but you have not provided a callback.");return d.validator.call(b,f,ba,g)}:function(a,b){return d.validator.call(a,b,ba)}}function j(a,b){var c=S.validateEmptyFields;"undefined"!==typeof b.ignoreEmpty&&(c=!b.ignoreEmpty);return!(ca.blank.call(a)&&!c)}function n(a){var b={YMD:{Year:0,Month:1,Day:2},MDY:{Month:0,Day:1,Year:2},
DMY:{Day:0,Month:1,Year:2}}[a.format],c=a.separator;"undefined"===typeof a.separator&&(c=/\//.test(this.value)?"/":/\./.test(this.value)?".":/ /.test(this.value)?" ":/[^0-9]+/);var d=this.value.split(c),f=new Date(d[b.Year],d[b.Month]-1,d[b.Day]),d=new Date;"undefined"!==typeof a.date&&(d=a.date.split(c),d=new Date(d[b.Year],d[b.Month]-1,d[b.Day]));return{dateToValidate:f,dateToTestAgainst:d}}function l(){return!this.validity.typeMismatch}function q(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in J)if(J.hasOwnProperty(c)){var d=
J[c],f;for(f in d)if(d.hasOwnProperty(f))if(document.getElementById(f)){var g=d[f],h;for(h in g)if(g.hasOwnProperty(h)){var j=u(c,f,h);j.async?b.asyncContexts.push(j):b.syncContexts.push(j)}}else delete d[f]}b=B(b);return F(b,a)}function t(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in J)if(J.hasOwnProperty(c)){var d=J[c],f;for(f in d)if(d.hasOwnProperty(f)&&d[f][a.constraintType]){var g=u(c,f,a.constraintType);g.async?b.asyncContexts.push(g):b.syncContexts.push(g)}}b=B(b);return F(b,a)}function p(a){var b=
[],f={asyncContexts:[],syncContexts:[]},g;for(g in J)if(J.hasOwnProperty(g))for(var h=J[g],j=0;j<a.elementIds.length;j++){var p=a.elementIds[j],v=h[p];if("undefined"!==typeof v)for(var r in v){if(v.hasOwnProperty(r)){var m=u(g,p,r);m.async?f.asyncContexts.push(m):f.syncContexts.push(m)}}else b.push(p)}if(0<b.length)throw new c.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+d.explode(b)+". "+c.explodeParameters(a));f=B(f);return F(f,a)}function h(a){var b=
[],f={asyncContexts:[],syncContexts:[]},g;for(g in J)if(J.hasOwnProperty(g))for(var h=J[g],j=0;j<a.elementIds.length;j++){var p=a.elementIds[j];"undefined"!==typeof h[p]?(p=u(g,p,a.constraintType),p.async?f.asyncContexts.push(p):f.syncContexts.push(p)):b.push(p)}if(0<b.length)throw new c.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+d.explode(b)+". "+c.explodeParameters(a));f=B(f);return F(f,a)}function y(a){for(var b=!1,d={groupedContexts:{}},f=0;f<
a.groups.length;){var g=a.groups[f],h=J[g];if("undefined"!==typeof h)for(var j in h){if(h.hasOwnProperty(j)){var p=h[j],v;for(v in p)if(p.hasOwnProperty(v)){var m=u(g,j,v);d.groupedContexts[g]||(d.groupedContexts[g]={asyncContexts:[],syncContexts:[]});m.async?(b=!0,d.groupedContexts[g].asyncContexts.push(m)):d.groupedContexts[g].syncContexts.push(m)}}}else throw new c.Exception.IllegalArgumentException("Undefined group in group list. "+c.explodeParameters(a));f++}d=E(d);a.groups=d.groups;d=d.uniqueConstraintsToValidate;
return x(a,d,b)}function w(a){for(var b=!1,d={groupedContexts:{}},f=0;f<a.groups.length;){var g=a.groups[f],h=J[g];if("undefined"!==typeof h){var j=!1,p;for(p in h)if(h.hasOwnProperty(p)&&h[p][a.constraintType]){var j=!0,v=u(g,p,a.constraintType);d.groupedContexts[g]||(d.groupedContexts[g]={asyncContexts:[],syncContexts:[]});v.async?(b=!0,d.groupedContexts[g].asyncContexts.push(v)):d.groupedContexts[g].syncContexts.push(v)}if(!j)throw new c.Exception.IllegalArgumentException("Constraint "+a.constraintType+
" has not been bound to any element under group "+g+". "+c.explodeParameters(a));}else throw new c.Exception.IllegalArgumentException("Undefined group in group list. "+c.explodeParameters(a));f++}d=E(d);a.groups=d.groups;d=d.uniqueConstraintsToValidate;return x(a,d,b)}function D(a){for(var b=[],f=[],g=!1,h={groupedContexts:{}},j=0;j<a.groups.length;){var p=a.groups[j],v=J[p];if(v)for(var r=0;r<a.elementIds.length;r++){var m=a.elementIds[r],z=v[m];if(z)for(var l in z){if(z.hasOwnProperty(l)){var n=
u(p,m,l);h.groupedContexts[p]||(h.groupedContexts[p]={asyncContexts:[],syncContexts:[]});n.async?(g=!0,h.groupedContexts[p].asyncContexts.push(n)):h.groupedContexts[p].syncContexts.push(n)}}else b.push(p),f.push(m)}else throw new c.Exception.IllegalArgumentException("Undefined group in group list. "+c.explodeParameters(a));j++}if(0<b.length)throw new c.Exception.IllegalArgumentException("The following elements: "+d.explode(f)+" were not found in one or more of the following group(s): ["+d.explode(b,
",").replace(/,/g,", ")+"]. "+c.explodeParameters(a));b=E(h);a.groups=b.groups;h=b.uniqueConstraintsToValidate;return x(a,h,g)}function H(a){for(var b=!1,c={groupedContexts:{}},d=0;d<a.groups.length;){for(var f=a.groups[d],g=0;g<a.elementIds.length;g++){var h=u(f,a.elementIds[g],a.constraintType);c.groupedContexts[f]||(c.groupedContexts[f]={asyncContexts:[],syncContexts:[]});h.async?(b=!0,c.groupedContexts[f].asyncContexts.push(h)):c.groupedContexts[f].syncContexts.push(h)}d++}c=E(c);a.groups=c.groups;
c=c.uniqueConstraintsToValidate;return x(a,c,b)}function r(a){var b=!0;v[a.elementId]||(v[a.elementId]={});var c=document.getElementById(a.elementId).cloneNode(!1),d=c.name.replace(/\s/g,"");"undefined"!==typeof c.type&&"radio"===c.type.toLowerCase()&&""!==d?N[d]||(N[d]={}):N[d]={};!v[a.elementId][a.elementConstraint]&&!N[d][a.elementConstraint]&&(b=!1,v[a.elementId][a.elementConstraint]=!0,"undefined"!==typeof c.type&&("radio"===c.type.toLowerCase()&&""!==d)&&(N[d][a.elementConstraint]=!0));return b}
function B(a){for(var b={asyncContexts:[],syncContexts:[]},c=0;c<a.syncContexts.length;c++){var d=a.syncContexts[c];r(d)||b.syncContexts.push(d)}for(c=0;c<a.asyncContexts.length;c++)d=a.asyncContexts[c],r(d)||b.asyncContexts.push(d);return b}function E(a){var b=[],c={groupedContexts:{}},d;for(d in a.groupedContexts)if(a.groupedContexts.hasOwnProperty(d)){for(var f=0;f<a.groupedContexts[d].syncContexts.length;f++){var g=a.groupedContexts[d].syncContexts[f];r(g)||(c.groupedContexts[d]||(c.groupedContexts[d]=
{asyncContexts:[],syncContexts:[]}),c.groupedContexts[d].syncContexts.push(g),-1==b.indexOf(d)&&b.push(d))}for(f=0;f<a.groupedContexts[d].asyncContexts.length;f++)g=a.groupedContexts[d].asyncContexts[f],r(g)||(c.groupedContexts[d]||(c.groupedContexts[d]={asyncContexts:[],syncContexts:[]}),c.groupedContexts[d].asyncContexts.push(g),-1==b.indexOf(d)&&b.push(d))}return{groups:b,uniqueConstraintsToValidate:c}}function F(a,b){var d=[];if(0<a.syncContexts.length){for(var f=[],g=0;g<a.syncContexts.length;){var h=
a.syncContexts[g];(h=A(h.group,h.elementId,h.elementConstraint,h.params))&&f.push(h);g++}d=f}if(0<a.asyncContexts.length){if(!b.callback)throw new c.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");for(var f=function(c){p++;c&&j.push(c);p===a.asyncContexts.length&&(c=j,d=0<d.length?d.concat(c):c,b.callback(d))},j=[],p=0,g=0;g<a.asyncContexts.length;g++)h=a.asyncContexts[g],C(h.group,h.elementId,h.elementConstraint,
h.params,f)}else b.callback&&b.callback(d);return d}function x(a,b,d){for(var f,g=a.groups,h=a.independent,j=[],p=0,v=!0;p<g.length&&v;){for(var v=b.groupedContexts[g[p]].syncContexts,m=0;m<v.length;m++){var z=v[m];(z=A(z.group,z.elementId,z.elementConstraint,z.params))&&j.push(z)}p++;v=0==j.length||h&&0!=j.length}f=j;if(d){if(!a.callback)throw new c.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");!a.independent&&
0<f.length&&(d=f[0].group,g=b.groupedContexts[d],b.groupedContexts={},b.groupedContexts[d]=g);var r=a.groups,l=a.independent,n=[],J=!0;(function ua(c){if(c<r.length&&J){for(var d=b.groupedContexts[r[c]].asyncContexts,m=0,g=0;g<d.length;g++){var h=d[g];C(h.group,h.elementId,h.elementConstraint,h.params,j)}var j=function(a){m++;a&&n.push(a);m===d.length&&(J=0===n.length||l&&0!=n.length,ua(++c))}}else f=0<f.length?f.concat(n):n,a.callback(f)})(0)}else a.callback&&a.callback(f);return f}function u(a,
b,d){var f=J[a];if(!f)throw new c.Exception.IllegalArgumentException("Undefined group in group list (group: "+a+", elementId: "+b+", constraint: "+d+")");f=f[b];if(!f)throw new c.Exception.IllegalArgumentException("No constraints have been defined for the element with id: "+b+" in group "+a);f=f[d];if(!f)throw new c.Exception.IllegalArgumentException("Constraint "+d+" in group "+a+" hasn't been bound to the element with id "+b);return{group:a,elementId:b,elementConstraint:d,params:f,async:L[d].async}}
function A(a,b,c,d){var f,g=K(a,b,c,d),h="";g.constraintPassed||(h=R(b,c,d),f={group:a,constraintName:c,formSpecific:L[c].formSpecific,custom:L[c].custom,compound:L[c].compound,async:L[c].async,composingConstraintViolations:g.composingConstraintViolations||[],constraintParameters:d,failingElements:g.failingElements,message:h});if(S.enableHTML5Validation)for(a=0;a<g.failingElements.length;a++)g.failingElements[a].setCustomValidity("");return f}function C(a,b,c,d,f){var g;I(a,b,c,d,function(h){var j=
"";h.constraintPassed||(j=R(b,c,d),g={group:a,constraintName:c,formSpecific:L[c].formSpecific,custom:L[c].custom,compound:L[c].compound,async:L[c].async,composingConstraintViolations:h.composingConstraintViolations||[],constraintParameters:d,failingElements:h.failingElements,message:j});if(S.enableHTML5Validation)for(j=0;j<h.failingElements.length;j++)h.failingElements[j].setCustomValidity("");f(g)})}function K(b,c,d,f){var g=!1,h=[],j=document.getElementById(c),c=[];L[d].formSpecific?(h=L[d].validator.call(j,
f,ba),g=0==h.length):(L[d].compound?(c=L[d].validator.call(j,f,b,L[d],null),g=0==c.length):g=L[d].validator.call(j,f,ba),g||h.push(j));b=j.cloneNode(!1).name.replace(/\s/g,"");f=j.cloneNode(!1).type;"undefined"!==typeof f&&("radio"===f.toLowerCase()&&""!==b)&&(h=a.getElementsByAttribute(document.body,"input","name",b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")));g={constraintName:d,constraintPassed:g,failingElements:h};L[d].reportAsSingleViolation||(g.composingConstraintViolations=c);return g}
function I(b,c,d,f,g){function h(b,c,f,g){var p=j.cloneNode(!1).name.replace(/\s/g,""),v=j.cloneNode(!1).type;"undefined"!==typeof v&&("radio"===v.toLowerCase()&&""!==p)&&(f=a.getElementsByAttribute(document.body,"input","name",p));b={constraintName:d,constraintPassed:b,failingElements:f};L[d].reportAsSingleViolation||(b.composingConstraintViolations=c);g(b)}var j=document.getElementById(c);L[d].formSpecific?L[d].validator.call(j,f,ba,function(a){h(0===a.length,null,a,g)}):L[d].compound?L[d].validator.call(j,
f,b,L[d],function(a){var b=[],c=0===a.length;c||b.push(j);h(c,a,b,g)}):L[d].validator.call(j,f,ba,function(a){var b=[];a||b.push(j);h(a,null,b,g)})}function R(b,c,d){var b=document.getElementById(b),f="",f=d.message?d.message:d.msg?d.msg:L[c].defaultMessage,g;for(g in d)if(d.hasOwnProperty(g))var h=RegExp("{"+g+"}","g"),f=f.replace(h,d[g]);if(L[c].compound&&"undefined"!==typeof L[c].composingConstraints)for(d=0;d<L[c].composingConstraints.length;d++){var j=L[c].composingConstraints[d];for(g in j.params)j.params.hasOwnProperty(g)&&
(h=RegExp("{"+g+"}","g"),f=f.replace(h,j.params[g]))}/{label}/.test(f)&&((c=a.friendlyInputNames[b.cloneNode(!1).tagName.toLowerCase()])||(c=a.friendlyInputNames[b.cloneNode(!1).type.toLowerCase()]),f=f.replace(/{label}/,c),f=f.replace(/{flags}/g,""));return f=f.replace(/\\\"/g,'"')}var S={},V={},L={},J={},v={},N={},ba={},ca={checked:function(){var b=!1;if("radio"===this.type.toLowerCase()&&""!==this.name.replace(/\s/g,""))for(var c=a.getElementsByAttribute(document.body,"input","name",this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")),d=0;d<c.length&&!b;)b=c[d].checked,d++;else b=this.checked;return b},selected:function(){return 0<this.selectedIndex},max:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)<=parseFloat(a.value));return b},min:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)>=parseFloat(a.value));return b},range:function(a){var b=!0;j(this,a)&&(b=""!=this.value.replace(/\s/g,"")&&parseFloat(this.value)<=parseFloat(a.max)&&parseFloat(this.value)>=parseFloat(a.min));return b},notBlank:function(){return""!=
this.value.replace(/\s/g,"")},blank:function(){return""===this.value.replace(/\s/g,"")},matches:function(a){var b=!0;j(this,a)&&(b="string"===typeof a.regex?a.regex.replace(/^\//,"").replace(/\/$/,""):a.regex,b=("undefined"!==typeof a.flags?RegExp(b.toString().replace(/^\//,"").replace(/\/[^\/]*$/,""),a.flags):RegExp(b)).test(this.value));return b},email:function(a){var b=!0;j(this,a)&&(b=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(this.value));
return b},alpha:function(a){var b=!0;j(this,a)&&(b=/^[A-Za-z]+$/.test(this.value));return b},numeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9]+$/.test(this.value));return b},integer:function(a){var b=!0;j(this,a)&&(b=/^-?[0-9]+$/.test(this.value));return b},real:function(a){var b=!0;j(this,a)&&(b=/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value));return b},alphaNumeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9A-Za-z]+$/.test(this.value));return b},completelyFilled:function(){for(var a=[],b=0;b<
this.elements.length;b++){var c=this.elements[b];ca.required.call(c)||a.push(c)}return a},passwordsMatch:function(a){var b=[],c=document.getElementById(a.field1),a=document.getElementById(a.field2);c.value!=a.value&&(b=[c,a]);return b},required:function(){var a=!0;if(this.tagName)if("select"===this.tagName.toLowerCase())a=ca.selected.call(this);else if("checkbox"===this.type.toLowerCase()||"radio"===this.type.toLowerCase())a=ca.checked.call(this);else if("input"===this.tagName.toLowerCase()||"textarea"===
this.tagName.toLowerCase())"button"!=this.type.toLowerCase()&&(a=ca.notBlank.call(this));return a},length:function(a){var b=!0;j(this,a)&&(b=this.value.length>=a.min&&this.value.length<=a.max);return b},digits:function(a){var b=!0;if(j(this,a)){var c=this.value.replace(/\s/g,""),d=c.split(/\./),b=!1;0<c.length&&(1==d.length&&(d[1]=""),b=0<a.integer?d[0].length<=a.integer:!0,0<a.fraction&&(b=b&&d[1].length<=a.fraction))}return b},past:function(a){var b=!0;j(this,a)&&(a=n.call(this,a),b=a.dateToValidate<
a.dateToTestAgainst);return b},future:function(a){var b=!0;j(this,a)&&(a=n.call(this,a),b=a.dateToValidate>a.dateToTestAgainst);return b},url:function(a){var b=!0;j(this,a)&&(b=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(this.value));
return b},step:function(a){var b=!0;if(j(this,a))var b=parseFloat(this.value),c=parseFloat(a.max),d=parseFloat(a.min),a=parseFloat(a.value),b=b<=c&&b>=d&&0===b%a;return b},html5Required:function(){return!this.validity.valueMissing},html5Email:l,html5URL:l,html5Number:l,html5DateTime:l,html5DateTimeLocal:l,html5Date:l,html5Month:l,html5Time:l,html5Week:l,html5Range:l,html5Tel:l,html5Color:l,html5Pattern:function(){return!this.validity.patternMismatch},html5MaxLength:function(){return!this.validity.tooLong},
html5Min:function(){return!this.validity.rangeUnderflow},html5Max:function(){return!this.validity.rangeOverflow},html5Step:function(){return!this.validity.stepMismatch}};return{Validator:ca,init:function(a){S=a.config;V=a.ReverseConstraint;L=a.constraintDefinitions;J=a.boundConstraints},wrapValidatorWithEmptyCheck:function(a){return function(b,c,d){var f=!0;j(this,b)&&(f=a.call(this,b,c,d));return f}},initializePublicValidators:function(a){for(var b in a)a.hasOwnProperty(b)&&g(b,a)},compoundValidator:function(a,
c,d,f){function g(c,d){var f={},m;for(m in c)c.hasOwnProperty(m)&&"__size__"!=m&&b.put(f,m,c[m]);if(0<d.length)for(m in a)a.hasOwnProperty(m)&&"__size__"!=m&&b.put(f,m,a[m]);return f}function h(a,b,c,f){var m=V[n.constraintType],b=R(b,m,f),c={group:c,constraintName:a.constraintName,custom:L[m].custom,compound:L[m].compound,async:L[m].async,constraintParameters:n.params,failingElements:a.failingElements,message:b};d.reportAsSingleViolation||(c.composingConstraintViolations=a.composingConstraintViolations||
[]);return c}for(var p=[],v=[],r=0;r<d.composingConstraints.length;r++){var m=d.composingConstraints[r];L[V[m.constraintType]].async?v.push(m):p.push(m)}var z=null,l=this;if(j(this,a)){if(0<p.length){z=[];for(r=0;r<p.length;r++){var n=p[r],m=V[n.constraintType],J=g(n.params,d.params),m=K(c,l.id,m,J);if(!m.constraintPassed){var q=h(m,l.id,c,J);if(S.enableHTML5Validation)for(var D=0;D<m.failingElements.length;D++)m.failingElements[D].setCustomValidity(q.message);z.push(q)}}}if(0<v.length){null===z&&
(z=[]);for(var B=0,r=0;r<v.length;r++)n=v[r],m=V[n.constraintType],J=g(n.params,d.params),I(c,l.id,m,J,N);var N=function(a){if(!a.constraintPassed){var b=h(a,l.id,c,J);if(S.enableHTML5Validation)for(var d=0;d<a.failingElements.length;d++)a.failingElements[d].setCustomValidity(b.message);z.push(b)}B++;B===v.length&&f(z)}}}else z=[];return z},validate:function(a){v={};N={};var b={"000":q,"001":t,"010":p,"011":h,100:y,101:w,110:D,111:H};if(!a||"undefined"===typeof a)a={};"undefined"===typeof a.independent&&
(a.independent=!0);"undefined"!==typeof a.constraintType&&(a.constraintType=V[a.constraintType]);if("undefined"!==typeof a.groups){var c=a.groups;a.groups=[];for(var d=0;d<c.length;d++)a.groups.push(f.ReverseGroup[c[d]])}if("undefined"!==typeof a.elements){a.elementIds=[];for(d=0;d<a.elements.length;d++)a.elementIds.push(a.elements[d].id)}else"undefined"!==typeof a.elementId&&(a.elementIds=[a.elementId]);return b[function(a){var b=a.elementIds||null,c=("undefined"===typeof a.constraintType?null:a.constraintType)||
null,a=""+(null==(a.groups||null)?"0":"1");return a=a+(null==b?"0":"1")+(null==c?"0":"1")}(a)](a)},runValidatorFor:K,interpolateConstraintDefaultMessage:R,createPublicValidator:g}});
(function(a,b){"function"===typeof define&&define.amd?define("domain/CompositionGraph",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.CompositionGraph=b())})(this,function(){var a={},b={visited:!1,name:"RootNode",type:-1,parents:[],children:[]};return{ROOT:-1,addNode:function(f){var c=f.type,d=f.name,f=f.parent,d="undefined"===typeof a[c]?{visited:!1,name:d,type:c,parents:[],children:[]}:a[c];null==f?b.children.push(d):(f.children.push(d),d.parents.push(f));a[c]=d},
getNodeByType:function(b){b=a[b];return"undefined"===typeof b?null:b},analyze:function(a){a=function d(a,b){var f={cycle:!1,path:b};if(a.visited)f.cycle=!0;else{a.visited=!0;for(var l=0;l<a.children.length&&!f.cycle;)f=d(a.children[l],b+"."+a.children[l].name),l++}return f}(a,a.name);a.cycle||function g(a){a.visited=!1;for(var b=0;b<a.children.length;b++)g(a.children[b])}(b);return a},getRoot:function(){return b},setRoot:function(a){b=a},clone:function(){var a={},c=function g(b,c){var l="undefined"===
typeof a[b.type]?{visited:b.visited,name:b.name,type:b.type,parents:[],children:[]}:a[b.type];null!==c&&l.parents.push(c);for(var q=0;q<b.children.length;q++)l.children.push(g(b.children[q],l));return a[b.type]=l}(b,null);return{typeToNodeMap:a,root:c}},initializeFromClone:function(f){a=f.typeToNodeMap;b=f.root}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ConstraintService",["service/ValidationService","domain/CompositionGraph","service/ExceptionService","utils/MapUtils","utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ConstraintService=b(a.regulaModules.ValidationService,a.regulaModules.CompositionGraph,a.regulaModules.ExceptionService,a.regulaModules.MapUtils,a.regulaModules.ArrayUtils))})(this,function(a,b,f,c,d){function g(a,
b,c){var g={error:!1,message:""};c.__size__<b.params.length&&(g={error:!0,message:f.generateExceptionMessage(a,q[b.constraintType],"@"+q[b.constraintType]+" expects at least "+b.params.length+" parameter(s). However, you have provided only "+c.__size__),data:null});for(var h=[],j=0;j<b.params.length;j++){var p=b.params[j];"undefined"===typeof c[p]&&h.push(p)}0<h.length&&(g={error:!0,message:f.generateExceptionMessage(a,q[b.constraintType],"You seem to have provided some optional or required parameters for @"+
q[b.constraintType]+", but you are still missing the following "+h.length+" required parameter(s): "+d.explode(h,", ")),data:null});return g}function j(a,c){var d=b.getNodeByType(l[a]);null==d&&(b.addNode({type:l[a],name:a,parent:null}),d=b.getNodeByType(l[a]));for(var f=0;f<d.children.length;f++){for(var g=d.children[f],h=[],j=0;j<g.parents.length;j++)g.parents[j]!==d&&h.push(g.parents[j]);g.parents=h}d.children=[];for(f=0;f<c.length;f++)g=y[q[c[f].constraintType]],b.addNode({type:g.constraintType,
name:q[g.constraintType],parent:d})}function n(a,b,d){for(var h=0;h<b.length;h++){if("undefined"===typeof b[h].constraintType)throw new f.Exception.ConstraintDefinitionException("In compound constraint "+a+": A composing constraint has no constraint type specified.");var j=b[h],p=q[j.constraintType],l={__size__:0};j.params=j.params||{};for(var n in j.params)j.params.hasOwnProperty(n)&&c.put(l,n,j.params[n]);var t=0,A;for(A in j.params)j.params.hasOwnProperty(A)&&t++;j.params.__size__=t;for(j=0;j<
d.length;j++)c.put(l,d[j],null);p=g(null,y[p],l);if(p.error)throw new f.Exception.ConstraintDefinitionException("In compound constraint "+a+": "+p.message);}}for(var l={},q={},t=0,p="Checked Selected Max Min Range Between NotBlank NotEmpty Blank Empty Pattern Matches Email Alpha IsAlpha Numeric IsNumeric AlphaNumeric IsAlphaNumeric Integer Real CompletelyFilled PasswordsMatch Required Length Digits Past Future Step URL HTML5Required HTML5Email HTML5URL HTML5MaxLength HTML5Pattern HTML5Min HTML5Max HTML5Step".split(" "),
h=0;h<p.length;h++)l[p[h]]=h,q[h]=p[h];t=h;l.Between=l.Range;l.Matches=l.Pattern;l.Empty=l.Blank;l.NotEmpty=l.NotBlank;l.IsAlpha=l.Alpha;l.IsNumeric=l.Numeric;l.IsAlphaNumeric=l.AlphaNumeric;var y={Checked:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.checked,constraintType:l.Checked,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be checked."},Selected:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.selected,constraintType:l.Selected,custom:!1,compound:!1,params:[],
defaultMessage:"{label} needs to be selected."},Max:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.max,constraintType:l.Max,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be lesser than or equal to {value}."},Min:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.min,constraintType:l.Min,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be greater than or equal to {value}."},Range:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.range,
constraintType:l.Range,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} needs to be between {min} and {max}."},NotBlank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.notBlank,constraintType:l.NotBlank,custom:!1,compound:!1,params:[],defaultMessage:"{label} cannot be blank."},Blank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.blank,constraintType:l.Blank,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be blank."},Pattern:{async:!1,html5:!1,
formSpecific:!1,validator:a.Validator.matches,constraintType:l.Pattern,custom:!1,compound:!1,params:["regex"],defaultMessage:"{label} needs to match {regex}{flags}."},Email:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.email,constraintType:l.Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},Alpha:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alpha,constraintType:l.Alpha,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain letters."},
Numeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.numeric,constraintType:l.Numeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers."},AlphaNumeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alphaNumeric,constraintType:l.AlphaNumeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers and letters."},Integer:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.integer,constraintType:l.Integer,custom:!1,compound:!1,
params:[],defaultMessage:"{label} must be an integer."},Real:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.real,constraintType:l.Real,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a real number."},CompletelyFilled:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.completelyFilled,constraintType:l.CompletelyFilled,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be completely filled."},PasswordsMatch:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.passwordsMatch,
constraintType:l.PasswordsMatch,custom:!1,compound:!1,params:["field1","field2"],defaultMessage:"Passwords do not match."},Required:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.required,constraintType:l.Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},Length:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.length,constraintType:l.Length,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} length must be between {min} and {max}."},Digits:{async:!1,
html5:!1,formSpecific:!1,validator:a.Validator.digits,constraintType:l.Digits,custom:!1,compound:!1,params:["integer","fraction"],defaultMessage:"{label} must have up to {integer} digits and {fraction} fractional digits."},Past:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.past,constraintType:l.Past,custom:!1,compound:!1,params:["format"],defaultMessage:"{label} must be in the past."},Future:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.future,constraintType:l.Future,custom:!1,
compound:!1,params:["format"],defaultMessage:"{label} must be in the future."},Step:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.step,constraintType:l.Step,custom:!1,compound:!1,params:["min","max","value"],defaultMessage:"{label} must be equal to {min} or greater, and equal to {max} or lesser, at increments of {value}."},URL:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.url,constraintType:l.URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a valid URL."},
HTML5Required:{async:!1,html5:!0,inputType:null,attribute:"required",formSpecific:!1,validator:a.Validator.html5Required,constraintType:l.HTML5Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},HTML5Email:{async:!1,html5:!0,inputType:"email",attribute:null,formSpecific:!1,validator:a.Validator.html5Email,constraintType:l.HTML5Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},HTML5Pattern:{async:!1,html5:!0,inputType:null,attribute:"pattern",
formSpecific:!1,validator:a.Validator.html5Pattern,constraintType:l.HTML5Pattern,custom:!1,compound:!1,params:["pattern"],defaultMessage:"{label} needs to match {pattern}."},HTML5URL:{async:!1,html5:!0,inputType:"url",attribute:null,formSpecific:!1,validator:a.Validator.html5URL,constraintType:l.HTML5URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid URL."},HTML5MaxLength:{async:!1,html5:!0,inputType:null,attribute:"maxlength",formSpecific:!1,validator:a.Validator.html5MaxLength,
constraintType:l.HTML5MaxLength,custom:!1,compound:!1,params:["maxlength"],defaultMessage:"{label} must be less than {maxlength} characters."},HTML5Min:{async:!1,html5:!0,inputType:null,attribute:"min",formSpecific:!1,validator:a.Validator.html5Min,constraintType:l.HTML5Min,custom:!1,compound:!1,params:["min"],defaultMessage:"{label} needs to be greater than or equal to {min}."},HTML5Max:{async:!1,html5:!0,inputType:null,attribute:"max",formSpecific:!1,validator:a.Validator.html5Max,constraintType:l.HTML5Max,
custom:!1,compound:!1,params:["max"],defaultMessage:"{label} needs to be lesser than or equal to {max}."},HTML5Step:{async:!1,html5:!0,inputType:null,attribute:"step",formSpecific:!1,validator:a.Validator.html5Step,constraintType:l.HTML5Step,custom:!1,compound:!1,params:["step"],defaultMessage:"{label} must be equal to the minimum value or greater at increments of {step}."}};return{Constraint:l,ReverseConstraint:q,firstCustomConstraintIndex:t,constraintDefinitions:y,override:function(c){var d="undefined"===
typeof c.async?y[c.name].async:c.async,g=c.validator;c.validatorRedefined&&!c.formSpecific&&(g=a.wrapValidatorWithEmptyCheck(g));var h=b.getNodeByType(c.constraintType);if(c.compound){n(c.name,c.composingConstraints,c.params);var p=b.clone();j(c.name,c.composingConstraints);var t=b.analyze(h);if(t.cycle)throw b.initializeFromClone(p),new f.Exception.ConstraintDefinitionException("regula.override: The overriding composing-constraints you have specified have created a cyclic composition: "+t.path);
d=!1;for(p=0;p<c.composingConstraints.length&&!d;)d=y[q[c.composingConstraints[p].constraintType]].async,p++}null!==h&&function x(a){for(var c=0;c<a.parents.length;c++){var f=a.parents[c];f.type!==b.ROOT&&(y[q[f.type]].async=d,x(f))}}(h);y[c.name]={async:d,formSpecific:c.formSpecific,constraintType:l[c.name],custom:!0,compound:c.compound,params:c.params,composingConstraints:c.composingConstraints,defaultMessage:c.defaultMessage,validator:g};y[c.name].custom&&c.validatorRedefined&&a.createPublicValidator(c.name,
y)},custom:function(b){l[b.name]=t;q[t++]=b.name;var c=b.validator;b.formSpecific||(c=a.wrapValidatorWithEmptyCheck(b.validator));y[b.name]={async:b.async,formSpecific:b.formSpecific,validator:c,constraintType:l[b.name],custom:!0,compound:!1,params:b.params,defaultMessage:b.defaultMessage};a.createPublicValidator(b.name,y)},compound:function(b){n(b.name,b.constraints,b.params);for(var c=!1,d=0;d<b.constraints.length&&!c;){var f=q[b.constraints[d].constraintType],c=c||y[f].async;d++}l[b.name]=t;q[t++]=
b.name;y[b.name]={async:c,formSpecific:b.formSpecific,constraintType:l[b.name],custom:!0,compound:!0,params:b.params,reportAsSingleViolation:b.reportAsSingleViolation,composingConstraints:b.constraints,defaultMessage:b.defaultMessage,validator:a.compoundValidator};a.createPublicValidator(b.name,y);j(b.name,b.constraints)},verifyConstraintDefinition:function(a,b,c){var d={successful:!0,message:"",data:null},h=a.cloneNode(!1);"form"==h.tagName.toLowerCase()&&!y[b].formSpecific?d={successful:!1,message:f.generateExceptionMessage(a,
b,"@"+b+" is not a form constraint, but you are trying to bind it to a form"),data:null}:"form"!=h.tagName.toLowerCase()&&y[b].formSpecific?d={successful:!1,message:f.generateExceptionMessage(a,b,"@"+b+" is a form constraint, but you are trying to bind it to a non-form element"),data:null}:("undefined"===typeof h.type||"checkbox"!=h.type.toLowerCase()&&"radio"!=h.type.toLowerCase())&&"Checked"==b?d={successful:!1,message:f.generateExceptionMessage(a,b,"@"+b+" is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),
data:null}:"select"!=h.tagName.toLowerCase()&&"Selected"==b?d={successful:!1,message:f.generateExceptionMessage(a,b,"@"+b+" is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),data:null}:(a=g(a,y[b],c),a.error?d={successful:!1,message:a.message,data:null}:d.data=c);return d},verifyParameterCountMatches:g}});
(function(a,b){"function"===typeof define&&define.amd?define("parser/Parser",["utils/MapUtils","service/ExceptionService","service/ConstraintService"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.Parser=b(a.regulaModules.MapUtils,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService))})(this,function(a,b,f){function c(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""}return{parse:function(d,g){function j(a){var c={successful:!0,message:"",data:null};
if(!/[A-Za-z_]/.test(a)||"undefined"===typeof a||null==a)c={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid starting character"),data:null};return c}function n(a){var c={successful:!0,message:"",data:null};/[0-9A-Za-z_]/.test(a)||(c={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _")+" "+c.message,data:null});return c}function l(a){var f,g=c(a.shift());0==g.length&&(g=a.shift());f={successful:!1,message:b.generateExceptionMessage(d,
D,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),data:null};if("undefined"!==typeof g)if(f=j(g.charAt(0)),f.successful){for(var h=1;h<g.length&&f.successful;)f=n(g.charAt(h)),h++;f.successful&&(f.data=g)}else f={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _")+" "+f.message,data:null};if(f.successful)if(g=f.data,h=a.shift(),"="==h){0==c(a[0]).length&&a.shift();h={successful:!0,
message:"",data:[]};if(")"==a[0])h={successful:!1,message:b.generateExceptionMessage(d,D,"Parameter value expected")+" "+h.message,data:null};else if(f=a.shift(),h={successful:!0,message:"",data:null},"-"==f?(h=q(a),h.successful&&(h.data=f+h.data)):(a.unshift(f),h={successful:!1,message:b.generateExceptionMessage(d,D,"Not a negative number"),data:null}),f=h,f.successful||(f=q(a),f.successful||(f={successful:!1,message:b.generateExceptionMessage(d,D,"Parameter value is not a number")+" "+f.message,
data:null})),h=f,f=h.message,!h.successful){var h=a.shift(),p="",l={successful:!0,message:"",data:null};if('"'==h){for(var r=!1;0<a.length&&l.successful&&!r;)'"'==a[0]?(r=!0,a.shift()):(l=y(a),p+=l.data);r||(l={successful:!1,message:b.generateExceptionMessage(d,D,"Unterminated string literal"),data:null})}else a.unshift(h),l={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid quoted string"),data:null};l.successful=l.successful&&r;l.data=p;h=l;h.message=h.message+" "+f;f=h.message;if(!h.successful){r=
"";h=a.shift();p={successful:!0,message:"",data:null};if("/"==h){for(var r=h,B=!1;0<a.length&&p.successful&&!B;)"/"==a[0]?(r+=a.shift(),B=!0):(p=y(a),r+=p.data);B||(p={successful:!1,message:b.generateExceptionMessage(d,D,"Unterminated regex literal"),data:null})}else a.unshift(h),p={successful:!1,message:b.generateExceptionMessage(d,D,"Not a regular expression"),data:null};p.successful=p.successful&&B;p.data=r;h=p;h.message=h.message+" "+f;f=h.message;if(!h.successful&&(B=a.shift(),r={successful:!0,
message:"",data:null},"true"==c(B)||"false"==c(B)?r={successful:!0,message:"",data:"true"===B}:(a.unshift(B),r={successful:!1,message:b.generateExceptionMessage(d,D,"Not a boolean"),data:null}),h=r,h.message=h.message+" "+f,f=h.message,!h.successful)){B=[];r=a.shift();h={successful:!0,message:"",data:null};if("["==r)if(0==c(a[0]).length&&a.shift(),h="]"==a[0]?{successful:!0,message:"",data:""}:w(a),h.successful){B.push(h.data);for(0==c(a[0]).length&&a.shift();0<a.length&&","==a[0]&&h.successful;)a.shift(),
h=w(a),B.push(h.data),0==c(a[0]).length&&a.shift();h.data=B;r=a.shift();0==c(r).length&&a.shift();"]"!=r&&(h={successful:!1,message:b.generateExceptionMessage(d,D,"Cannot find matching closing ] in group definition")+" "+h.message,data:null})}else h={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid group definition")+" "+h.message,data:null};else a.unshift(r),h={successful:!1,message:b.generateExceptionMessage(d,D,"Not a valid group definition"),data:null};h.message=h.message+" "+f;f=
h.message;h.successful||(h={successful:!1,message:b.generateExceptionMessage(d,D,"Parameter value must be a number, quoted string, regular expression, or a boolean")+" "+f,data:null})}}}f=h;f.successful?f.data={name:g,value:f.data}:f={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid parameter value")+" "+f.message,data:null}}else a.unshift(h),f={successful:!1,message:b.generateExceptionMessage(d,D,"'=' expected after parameter name "+f.message),data:null};else f={successful:!1,message:b.generateExceptionMessage(d,
D,"Invalid parameter name. You might have unmatched parentheses")+" "+f.message,data:null};return f}function q(a){var c=null;if("."!=a[0]){if(c=p(a),"."==a[0]){var f=c.data,c=t(a);c.successful&&(c.data=f+c.data)}}else c=t(a);c.successful||(c={successful:!1,message:b.generateExceptionMessage(d,D,"Not a positive number")+" "+c.message,data:null});return c}function t(a){var c=a.shift(),a=p(a);a.successful?a.data=c+a.data:a={successful:!1,message:b.generateExceptionMessage(d,D,"Not a valid fraction"),
data:null};return a}function p(a){var f=c(a.shift()),g=h(f.charAt(0));if(g.successful){for(a=1;a<f.length&&g.successful;)g=h(f.charAt(a)),a++;g.successful&&(g.data=f)}else a.unshift(f),g={successful:!1,message:b.generateExceptionMessage(d,D,"Not a valid integer")+" "+g.message,data:[]};return g}function h(a){var c={successful:!0,message:"",data:null};/[0-9]/.test(a)||(c={successful:!1,message:b.generateExceptionMessage(d,D,"Not a valid digit"),data:null});return c}function y(a){var b="",c=a.shift();
"\\"==c&&(b=a.shift());return{successful:!0,message:"",data:c+b}}function w(a){var f={successful:!0,message:"",data:""},g=c(a.shift());0==g.length&&(g=a.shift());f=j(g.charAt(0));if(f.successful){for(a=1;a<g.length&&f.successful;)f=n(g.charAt(a)),a++;f.successful&&(f.data=g)}else f={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid starting character for group name. Can only include A-Z, a-z, and _")+" "+f.message,data:null};return f}for(var D="",H=c(g.replace(/\s*\n\s*/g,"")),r='@()[]=,"\\/-\\.'.split(""),
B=[],E=0,F=0;F<H.length;F++)a.exists(r,H.charAt(F))&&(E=H.substring(E,F),0==E.length||B.push(E),B.push(H.charAt(F)),E=F+1);E<H.length&&(E=H.substring(E,H.length),0==E.length||B.push(E));r={successful:!0,message:"",data:null};for(H=[];0<B.length&&r.successful;){r=B;F={successful:!0,message:"",data:null};E=r.shift();0==c(E).length&&(E=r.shift());if("@"==E){var F={Between:"Range",Matches:"Pattern",Empty:"Blank",NotEmpty:"NotBlank",IsAlpha:"Alpha",IsNumeric:"Integer",IsAlphaNumeric:"AlphaNumeric"},E=
c(r.shift()),x=j(E.charAt(0));if(x.successful){for(var u=1;u<E.length&&x.successful;)x=n(E.charAt(u)),u++;x.successful&&(x.data=E)}else x={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid starting character for constraint name. Can only include A-Z, a-z, and _")+" "+x.message,data:null};E=x;if(E.successful)if(D=E.data,D=F[D]?F[D]:D,f.constraintDefinitions[D]){F={successful:!0,message:"",data:{}};if("("==r[0])if(r.shift(),E={},")"==r[0])r.shift();else if(F=l(r),F.successful){a.put(E,F.data.name,
F.data.value);for(0==c(r[0]).length&&r.shift();0<r.length&&","==r[0]&&F.successful;)r.shift(),F=l(r),F.successful&&(a.put(E,F.data.name,F.data.value),0==c(r[0]).length&&r.shift());F.successful&&(x=r.shift(),0==c(x).length&&(x=r.shift()),")"!=x?F={successful:!1,message:b.generateExceptionMessage(d,D,"Cannot find matching closing ) in parameter list")+" "+F.message,data:null}:F.data=E)}else F={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid parameter definition")+" "+F.message,data:null};
else void 0!==r[0]&&"@"!=r[0]&&(F={successful:!1,message:b.generateExceptionMessage(d,D,"Unexpected character '"+r[0]+"' after constraint definition")+" "+F.message,data:null});E=F;E.successful&&(E=f.verifyConstraintDefinition(d,D,E.data),E.successful&&(E.data={element:d,constraintName:D,definedParameters:E.data}))}else E={successful:!1,message:b.generateExceptionMessage(d,D,"I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it")+
" "+E.message,data:null};else E={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid constraint name in constraint definition")+" "+E.message,data:null};F=E}else F={successful:!1,message:b.generateExceptionMessage(d,D,"Invalid constraint. Constraint definitions need to start with '@'")+" "+F.message,data:null};r=F;H.push(r.data)}r.data=H;return r}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/BindingService","utils/MapUtils service/GroupService utils/DOMUtils parser/Parser service/ConstraintService service/ExceptionService".split(" "),b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.BindingService=b(a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.DOMUtils,a.regulaModules.Parser,a.regulaModules.ConstraintService,a.regulaModules.ExceptionService))})(this,function(a,b,
f,c,d,g){function j(){h={Default:{}}}function n(c,d){if(a.isEmpty(h[d][c])&&(delete h[d][c],a.isEmpty(h[d]))){delete h[d];var f=b.Group[d];delete b.Group[d];delete b.ReverseGroup[f];b.deletedGroupIndices.push(f)}}function l(a){var b={successful:!0,message:"",data:null},c="undefined"!==typeof a.cloneNode?a.cloneNode(!1):a,d=null;"undefined"!==typeof c.tagName&&(d=c.tagName.toLowerCase());"form"!==d&&"select"!==d&&"textarea"!==d&&"input"!==d?b={successful:!1,message:d+"#"+a.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",
data:null}:"input"===d&&null===a.getAttribute("type")&&(b={successful:!1,message:d+"#"+a.id+" does not have a type attribute.",data:null});return b}function q(a){for(var b=a.element,a=null===b?f.getElementsByAttribute(document.body,"*","data-constraints"):[b],d={successful:!0,message:"",data:null},g=0;g<a.length&&d.successful;)if(b=a[g],d=l(b),d.successful){b.id||(b.id=f.generateRandomId());var h=b.getAttribute("data-constraints");if(null!==h&&(d=c.parse(b,h),d.successful&&null!==d.data)){b=d.data;
for(h=0;d.successful&&h<b.length;)d=b[h],d=p(d.element,d.constraintName,d.definedParameters),h++}g++}return d}function t(c,f){function j(c,f,g){var p=h[b.ReverseGroup[b.Group.Default]][c.id][d.ReverseConstraint[f]].groups,l=[];g.groups?l=g.groups:l.push(b.ReverseGroup[b.Group.Default]);a.exists(l,b.ReverseGroup[b.Group.Default])||l.push(b.ReverseGroup[b.Group.Default]);for(var v=g=l,r={},l=[],q=0;q<p.length;q++)l.push(p[q]),r[p[q]]=!0;for(p=0;p<v.length;p++)r[v[p]]||l.push(v[p]);p=[];for(v=0;v<l.length;v++)a.exists(g,
l[v])||p.push(l[v]);for(g=0;g<p.length;g++)l=p[g],delete h[l][c.id][d.ReverseConstraint[f]],n(c.id,l)}var l={successful:!0,message:"",data:null},r=f.element,q=c.overwriteConstraint||!1,t=c.overwriteParameters||!1,F=c.constraintType,x=c.params||{},u={__size__:0},A=x.groups;if("undefined"===typeof F)l={successful:!1,message:"regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. "+g.explodeParameters(f),data:null};else if(x&&x.groups)if(x.groups instanceof
Array){for(var C=[],K=0;K<x.groups.length&&l.successful;)"string"==typeof x.groups[K]?C.push(x.groups[K]):"undefined"!==typeof b.ReverseGroup[x.groups[K]]?C.push(b.ReverseGroup[x.groups[K]]):l={successful:!1,message:"Invalid group: "+x.groups[K]+". "+g.explodeParameters(f),data:null},K++;l.successful&&(x.groups=C)}else l={successful:!1,message:"The groups parameter must be an array of enums or strings "+g.explodeParameters(f),data:null};if(l.successful){if(!h[b.ReverseGroup[b.Group.Default]][r.id]||
!h[b.ReverseGroup[b.Group.Default]][r.id][d.ReverseConstraint[F]]){for(var I in x)x.hasOwnProperty(I)&&a.put(u,I,x[I]);l=d.verifyConstraintDefinition(r,d.ReverseConstraint[F],u)}else if(q){for(I in x)x.hasOwnProperty(I)&&a.put(u,I,x[I]);l=d.verifyConstraintDefinition(r,d.ReverseConstraint[F],u);l.successful&&j(r,F,x)}else{q=h[b.ReverseGroup[b.Group.Default]][r.id][d.ReverseConstraint[F]];for(I in q)q.hasOwnProperty(I)&&a.put(u,I,q[I]);if(t){for(I in x)x.hasOwnProperty(I)&&a.put(u,I,x[I]);l=d.verifyConstraintDefinition(r,
d.ReverseConstraint[F],u);l.successful&&j(r,F,u)}else for(I in x)x.hasOwnProperty(I)&&(q[I]||a.put(u,I,x[I]))}l.successful&&(l=p(r,d.ReverseConstraint[F],u))}x.groups=A;return l}function p(c,f,j){var p={successful:!0,message:"",data:null};j.groups||a.put(j,"groups",[b.ReverseGroup[b.Group.Default]]);var l=j.groups;-1===l.indexOf(b.ReverseGroup[b.Group.Default])&&(l.push(b.ReverseGroup[b.Group.Default]),j.groups=l);for(var n=0;n<l.length;n++){var q=l[n];if(!h[q]){var t=-1,t=0<b.deletedGroupIndices.length?
b.deletedGroupIndices.pop():b.firstCustomGroupIndex++;b.Group[q]=t;b.ReverseGroup[t]=q;h[q]={}}h[q][c.id]||(h[q][c.id]={});h[q][c.id][f]=j}if(d.constraintDefinitions[f].html5)if(null!==c.getAttribute("type")&&null!==d.constraintDefinitions[f].inputType&&c.getAttribute("type")!==d.constraintDefinitions[f].inputType)p={successful:!1,message:g.generateExceptionMessage(c,f,"Element type of "+c.getAttribute("type")+" conflicts with type of constraint @"+f+": "+d.constraintDefinitions[f].inputType),data:null};
else if(l=d.constraintDefinitions[f].attribute,n=d.constraintDefinitions[f].inputType,null!==l&&null===c.getAttribute(l)||null!==n&&null===c.getAttribute("type")){if(f===d.ReverseConstraint[d.Constraint.HTML5Required])c.setAttribute("required","true");else{f=d.constraintDefinitions[f];for(l=0;l<f.params.length;l++)c.setAttribute(f.params[l],j[f.params[l]])}j=c.getAttribute("class");/regula-modified/.test(j)||c.setAttribute("class",j+" regula-modified")}return p}var h=null;return{initializeBoundConstraints:function(){null===
h&&j()},resetBoundConstraints:j,getBoundConstraints:function(){return h},removeElementAndGroupFromBoundConstraintsIfEmpty:n,bindAfterParsing:q,bindHTML5ValidationConstraints:function(b){var c=b.element,g={successful:!0,message:"",data:null},b=[{attribute:"required",value:null,constraint:d.Constraint.HTML5Required},{attribute:"type",value:"email",constraint:d.Constraint.HTML5Email},{attribute:"type",value:"url",constraint:d.Constraint.HTML5URL},{attribute:"pattern",value:null,constraint:d.Constraint.HTML5Pattern},
{attribute:"maxlength",value:null,constraint:d.Constraint.HTML5MaxLength},{attribute:"min",value:null,constraint:d.Constraint.HTML5Min},{attribute:"max",value:null,constraint:d.Constraint.HTML5Max},{attribute:"step",value:null,constraint:d.Constraint.HTML5Step}],h={email:d.Constraint.HTML5Email,url:d.Constraint.HTML5URL},j={};if(null===c)for(var n=0;n<b.length;n++)for(var q=b[n],h=null,h=null==q.value?f.getElementsByAttribute(document.body,"*",q.attribute):f.getElementsByAttribute(document.body,"*",
q.attribute,q.value),c=j,t=0;t<h.length;t++){var x=h[t];x.id||(x.id=f.generateRandomId());c[x.id]||(c[x.id]=[]);var u={constraint:q.constraint,params:{}};null===q.value&&(u.params[q.attribute]=f.getAttributeValueForElement(x,q.attribute));c[x.id].push(u)}else if(c.id||(c.id=f.generateRandomId()),g=l(c),g.successful){j[c.id]=[];for(n=0;n<b.length;n++)q=b[n],null===q.value?null!=f.getAttributeValueForElement(c,q.attribute)&&(t={constraint:q.constraint,params:{}},t.params[q.attribute]=f.getAttributeValueForElement(c,
q.attribute),j[c.id].push(t)):(q=f.getAttributeValueForElement(c,q.attribute),null!=q&&"undefined"!==typeof h[q]&&j[c.id].push({constraint:h[q],params:{}}))}a.iterateOverMap(j,function(a,b){for(var c=document.getElementById(a),f=0;f<b.length;f++){var h=b[f];g=p(c,d.ReverseConstraint[h.constraint],h.params)}});return g},bindFromOptions:function(a){var b={successful:!0,message:"",data:null},c=a.element,d=a.constraints||[],f=c&&c.tagName?c.tagName.toLowerCase():null;if(c)if(1!==c.nodeType)b={successful:!1,
message:"regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: "+typeof c+". "+g.explodeParameters(a),data:null};else if("form"!=f&&"select"!=f&&"textarea"!=f&&"input"!=f)b={successful:!1,message:f+"#"+c.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. "+g.explodeParameters(a),data:null};else if(0<d.length)for(c=0;c<d.length&&b.successful;)b=t(d[c],a),c++;else b=
q({element:c});else b={successful:!1,message:"regula.bind expects a non-null element attribute in the options argument. "+g.explodeParameters(a),data:null};return b},unbind:function(a){for(var b=!1,c=0;c<a.elements.length;c++){var f=a.elements[c].id,j=a.constraints||[];if(0==j.length)for(var p in h)h.hasOwnProperty(p)&&"undefined"!==typeof h[p][f]&&(delete h[p][f],"Default"!==p&&n(f,p),b=!0);else for(var l=0;l<j.length;l++){var q=j[l];for(p in h)h.hasOwnProperty(p)&&"undefined"!==typeof h[p][f]&&
(delete h[p][f][d.ReverseConstraint[q]],"Default"!==p&&n(f,p),b=!0)}}if(0<a.elements.length&&!b)throw new g.Exception.IllegalArgumentException("Element with id "+f+" does not have any constraints bound to it. "+g.explodeParameters(a));},isBound:function(a){var c=a.elementId,f=a.group,a=a.constraint,g="undefined"!==typeof h[b.ReverseGroup[b.Group.Default]][c];g&&"undefined"!==typeof f&&"undefined"===typeof a?(f=b.ReverseGroup[f],g="undefined"!==typeof f&&"undefined"!==typeof h[f][c]):g&&"undefined"===
typeof f&&"undefined"!==typeof a?(a=d.ReverseConstraint[a],g="undefined"!==typeof a&&"undefined"!==typeof h[b.ReverseGroup[b.Group.Default]][c][a]):g&&("undefined"!==typeof f&&"undefined"!==typeof a)&&(f=b.ReverseGroup[f],a=d.ReverseConstraint[a],g="undefined"!==typeof f&&"undefined"!==typeof a&&"undefined"!==typeof h[f][c]&&"undefined"!==typeof h[f][c][a]);return g}}});
(function(a,b){"function"===typeof define&&define.amd?define("regula","utils/MapUtils utils/DOMUtils service/BindingService service/ExceptionService service/ConstraintService service/ValidationService service/GroupService".split(" "),b):(a.regula=b(a.regulaModules.MapUtils,a.regulaModules.DOMUtils,a.regulaModules.BindingService,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService,a.regulaModules.ValidationService,a.regulaModules.GroupService),a.regula._modules=a.regulaModules,a.regulaModules=
void 0)})(this,function(a,b,f,c,d,g,j){var n={validateEmptyFields:!0,enableHTML5Validation:!0,debug:!1};f.initializeBoundConstraints();g.initializePublicValidators(d.constraintDefinitions);return{configure:function(b){a.iterateOverMap(b,function(a,b){"undefined"!==typeof n[a]&&(n[a]=b)})},bind:function(a){var d={successful:!0,message:"",data:null};if("undefined"===typeof a||!a)f.resetBoundConstraints(),n.enableHTML5Validation&&b.supportsHTML5Validation()&&(d=f.bindHTML5ValidationConstraints({element:null})),
d.successful&&(d=f.bindAfterParsing({element:null}));else{var g=a.elements;if("undefined"===typeof g||!g)n.enableHTML5Validation&&(b.supportsHTML5Validation()&&"undefined"!==typeof a.element&&null!==a.element)&&(d=f.bindHTML5ValidationConstraints({element:a.element})),d.successful&&(d=f.bindFromOptions(a));else for(var j=0;d.successful&&j<g.length;)a.element=g[j],n.enableHTML5Validation&&b.supportsHTML5Validation()&&(d=f.bindHTML5ValidationConstraints({element:a.element})),d.successful?(d=f.bindFromOptions(a),
d.successful||(d.message="regula.bind: Element "+(j+1)+" of "+g.length+" failed: "+d.message)):d.message="regula.bind: Failed binding HTML5 validation constraints: Element "+(j+1)+" of "+g.length+" failed: "+d.message,j++}if(!d.successful)throw new c.Exception.BindException(d.message);},unbind:function(a){if("undefined"===typeof a||!a)f.resetBoundConstraints();else{if("undefined"===typeof a.elementId&&"undefined"===typeof a.elements)throw new c.Exception.IllegalArgumentException("regula.unbind requires an elementId attribute, or an elements attribute if options are provided");
if("undefined"!==typeof a.elements&&!(a.elements instanceof Array))throw new c.Exception.IllegalArgumentException("regula.unbind expects the elements attribute to be an array, if it is provided");if("undefined"===typeof a.elements&&(a.elements=[document.getElementById(a.elementId)],null===a.elements[0]))throw new c.Exception.IllegalArgumentException("Element with id "+a.elementId+" does not have any constraints bound to it. "+c.explodeParameters(a));f.unbind(a)}},isBound:function(a){if("undefined"===
typeof a)throw new c.Exception.IllegalArgumentException("regula.isBound expects options");var b=a.element,d=a.elementId;if("undefined"===typeof b&&"undefined"===typeof d)throw new c.Exception.IllegalArgumentException("regula.isBound expects at the very least, either an element or elementId attribute");if(a.hasOwnProperty("constraint")&&"undefined"===typeof a.constraint)throw new c.Exception.IllegalArgumentException("Undefined constraint was supplied as a parameter");if(a.hasOwnProperty("group")&&
"undefined"===typeof a.group)throw new c.Exception.IllegalArgumentException("Undefined group was supplied as a parameter");"undefined"!==typeof b&&(d=b.id);return f.isBound({elementId:d,group:a.group,constraint:a.constraint})},validate:function(a,b){g.init({config:n,ReverseConstraint:d.ReverseConstraint,constraintDefinitions:d.constraintDefinitions,boundConstraints:f.getBoundConstraints()});var j=[];if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&!(a.groups instanceof Array))throw new c.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must be an array.");
if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&0==a.groups.length)throw new c.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must not be empty.");if("undefined"!==typeof a&&a.hasOwnProperty("constraintType")&&"undefined"===typeof a.constraintType)throw new c.Exception.IllegalArgumentException("regula.validate: If a constraintType attribute is provided, it cannot be undefined.");"undefined"===typeof b&&"function"===typeof a&&(a={callback:a});"undefined"!==
typeof b&&(a.callback=b);if("undefined"!==typeof a&&"undefined"!==typeof a.elements)if(a.elements instanceof Array){if(0==a.elements.length)throw new c.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must not be empty.");j=g.validate(a)}else throw new c.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must be an array.");else j=g.validate(a);return j},custom:function(a){if(!a)throw new c.Exception.IllegalArgumentException("regula.custom expects options");
var b=a.name,f=a.formSpecific||!1,g=a.validator,h=a.params||[],j=a.defaultMessage||"",a="undefined"===typeof a.async?!1:a.async;if(b){if("string"!=typeof b)throw new c.Exception.IllegalArgumentException("regula.custom expects the name attribute in the options argument to be a string");if(0==b.replace(/\s/g,"").length)throw new c.Exception.IllegalArgumentException("regula.custom cannot accept an empty string for the name attribute in the options argument");}else throw new c.Exception.IllegalArgumentException("regula.custom expects a name attribute in the options argument");
if("boolean"!=typeof f)throw new c.Exception.IllegalArgumentException("regula.custom expects the formSpecific attribute in the options argument to be a boolean");if(g){if("function"!=typeof g)throw new c.Exception.IllegalArgumentException("regula.custom expects the validator attribute in the options argument to be a function");}else throw new c.Exception.IllegalArgumentException("regula.custom expects a validator attribute in the options argument");if(0>h.constructor.toString().indexOf("Array"))throw new c.Exception.IllegalArgumentException("regula.custom expects the params attribute in the options argument to be an array");
if("string"!=typeof j)throw new c.Exception.IllegalArgumentException("regula.custom expects the defaultMessage attribute in the options argument to be a string");if(d.constraintDefinitions[b])throw new c.Exception.IllegalArgumentException("There is already a constraint called "+b+". If you wish to override this constraint, use regula.override");d.custom({async:a,name:b,formSpecific:f,validator:g,custom:!0,compound:!1,params:h,defaultMessage:j})},compound:function(a){if(!a)throw new c.Exception.IllegalArgumentException("regula.compound expects options");
var b=a.name,f=a.constraints||[],g=a.formSpecific||!1,h=a.defaultMessage||"",j=a.params||[],a="undefined"===typeof a.reportAsSingleViolation?!1:a.reportAsSingleViolation;if(!b)throw new c.Exception.IllegalArgumentException("regula.compound expects a name attribute in the options argument");if("string"!=typeof b)throw new c.Exception.IllegalArgumentException("regula.compound expects name to be a string parameter");if(0>j.constructor.toString().indexOf("Array"))throw new c.Exception.IllegalArgumentException("regula.compound expects the params attribute in the options argument to be an array");
if(0==f.length)throw new c.Exception.IllegalArgumentException("regula.compound expects an array of composing constraints under a constraints attribute in the options argument");if(d.constraintDefinitions[b])throw new c.Exception.IllegalArgumentException("regula.compound: There is already a constraint called "+b+". If you wish to override this constraint, use regula.override");d.compound({name:b,formSpecific:g,params:j,reportAsSingleViolation:a,constraints:f,defaultMessage:h})},override:function(a){if(!a)throw new c.Exception.IllegalArgumentException("regula.override expects options");
if("undefined"==typeof a.constraintType)throw new c.Exception.IllegalArgumentException("regula.override expects a valid constraintType attribute in the options argument");var b=d.ReverseConstraint[a.constraintType];if("undefined"===typeof b)throw new c.Exception.IllegalArgumentException("regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: "+c.explodeParameters(a));var f=!1,g=d.constraintDefinitions[b].formSpecific;d.constraintDefinitions[b].custom&&
(g="undefined"===typeof a.formSpecific?d.constraintDefinitions[b].formSpecific:a.formSpecific);var h=d.constraintDefinitions[b].custom&&"undefined"!==typeof a.async?a.async:d.constraintDefinitions[b].async,j=d.constraintDefinitions[b].custom?a.params||d.constraintDefinitions[b].params:d.constraintDefinitions[b].params,n=a.defaultMessage||d.constraintDefinitions[b].defaultMessage,D=d.constraintDefinitions[b].compound,H=a.constraints||d.constraintDefinitions[b].constraints,r=d.constraintDefinitions[b].validator;
d.constraintDefinitions[b].custom&&(!d.constraintDefinitions[b].compound&&"undefined"!==typeof a.validator)&&(r=a.validator,f=!0);if("boolean"!=typeof g)throw new c.Exception.IllegalArgumentException("regula.override expects the formSpecific attribute in the options argument to be a boolean");if("function"!=typeof r)throw new c.Exception.IllegalArgumentException("regula.override expects the validator attribute in the options argument to be a function");if(!(j instanceof Array))throw new c.Exception.IllegalArgumentException("regula.override expects the params attribute in the options argument to be an array");
if("string"!=typeof n)throw new c.Exception.IllegalArgumentException("regula.override expects the defaultMessage attribute in the options argument to be a string");d.override({async:h,formSpecific:g,name:b,constraintType:a.constraintType,compound:D,params:j,composingConstraints:H,defaultMessage:n,validator:r,validatorRedefined:f})},Constraint:d.Constraint,Group:j.Group,DateFormat:{DMY:"DMY",MDY:"MDY",YMD:"YMD"},Exception:c.Exception}});(function(a,b,f){function c(c){var d=b.console;g[c]||(g[c]=!0,a.migrateWarnings.push(c),d&&(d.warn&&!a.migrateMute)&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function d(b,d,f,g){if(Object.defineProperty)try{Object.defineProperty(b,d,{configurable:!0,enumerable:!0,get:function(){c(g);return f},set:function(a){c(g);f=a}});return}catch(h){}a._definePropertyBroken=!0;b[d]=f}var g={};a.migrateWarnings=[];a.migrateMute=!0;!a.migrateMute&&(b.console&&b.console.log)&&b.console.log("JQMIGRATE: Logging is active");
a.migrateTrace===f&&(a.migrateTrace=!0);a.migrateReset=function(){g={};a.migrateWarnings.length=0};"BackCompat"===document.compatMode&&c("jQuery is not compatible with Quirks Mode");var j=a("<input/>",{size:1}).attr("size")&&a.attrFn,n=a.attr,l=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},q=a.attrHooks.value&&a.attrHooks.value.set||function(){return f},t=/^(?:input|button)$/i,p=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
y=/^(?:checked|selected)$/i;d(a,"attrFn",j||{},"jQuery.attrFn is deprecated");a.attr=function(b,d,g,r){var l=d.toLowerCase(),q=b&&b.nodeType;if(r&&(4>n.length&&c("jQuery.fn.attr( props, pass ) is deprecated"),b&&!p.test(q)&&(j?d in j:a.isFunction(a.fn[d]))))return a(b)[d](g);"type"===d&&(g!==f&&t.test(b.nodeName)&&b.parentNode)&&c("Can't change the 'type' of an input or button in IE 6/7/8");!a.attrHooks[l]&&h.test(l)&&(a.attrHooks[l]={get:function(b,c){var d,g=a.prop(b,c);return!0===g||"boolean"!==
typeof g&&(d=b.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():f},set:function(b,c,d){!1===c?a.removeAttr(b,d):(c=a.propFix[d]||d,c in b&&(b[c]=!0),b.setAttribute(d,d.toLowerCase()));return d}},y.test(l)&&c("jQuery.fn.attr('"+l+"') may use property instead of attribute"));return n.call(a,b,d,g)};a.attrHooks.value={get:function(a,b){var d=(a.nodeName||"").toLowerCase();if("button"===d)return l.apply(this,arguments);"input"!==d&&"option"!==d&&c("jQuery.fn.attr('value') no longer gets properties");
return b in a?a.value:null},set:function(a,b){var d=(a.nodeName||"").toLowerCase();if("button"===d)return q.apply(this,arguments);"input"!==d&&"option"!==d&&c("jQuery.fn.attr('value', val) no longer sets properties");a.value=b}};var w,D,H=a.fn.init,r=a.parseJSON,B=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,d,f){var g;if(b&&"string"===typeof b&&!a.isPlainObject(d)&&(g=B.exec(a.trim(b)))&&g[0])if("<"!==b.charAt(0)&&c("$(html) HTML strings must start with '<' character"),g[3]&&c("$(html) HTML text after last tag is ignored"),
"#"===g[0].charAt(0)&&(c("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),d&&d.context&&(d=d.context),a.parseHTML)return H.call(this,a.parseHTML(g[2],d,!0),d,f);return H.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(a){return!a&&null!==a?(c("jQuery.parseJSON requires a valid JSON string"),null):r.apply(this,arguments)};a.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||
/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a.browser||(w=a.uaMatch(navigator.userAgent),D={},w.browser&&(D[w.browser]=!0,D.version=w.version),D.chrome?D.webkit=!0:D.webkit&&(D.safari=!0),a.browser=D);d(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this);b.superclass=this;b.fn=
b.prototype=this();b.fn.constructor=b;b.sub=this.sub;b.fn.init=function(c,f){f&&(f instanceof a&&!(f instanceof b))&&(f=b(f));return a.fn.init.call(this,c,f,d)};b.fn.init.prototype=b.fn;var d=b(document);c("jQuery.sub() is deprecated");return b};a.ajaxSetup({converters:{"text json":a.parseJSON}});var E=a.fn.data;a.fn.data=function(b){var d,g;if((g=this[0])&&"events"===b&&1===arguments.length)if(d=a.data(g,b),g=a._data(g,b),(d===f||d===g)&&g!==f)return c("Use of jQuery.fn.data('events') is deprecated"),
g;return E.apply(this,arguments)};var F=/\/(java|ecma)script/i,x=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){c("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");return x.apply(this,arguments)};a.clean||(a.clean=function(b,d,f,g){d=d||document;d=!d.nodeType&&d[0]||d;d=d.ownerDocument||d;c("jQuery.clean() is deprecated");var h,j=[];a.merge(j,a.buildFragment(b,d).childNodes);if(f){d=function(a){if(!a.type||F.test(a.type))return g?g.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a)};
for(b=0;null!=(h=j[b]);b++)if(!a.nodeName(h,"script")||!d(h))f.appendChild(h),"undefined"!==typeof h.getElementsByTagName&&(h=a.grep(a.merge([],h.getElementsByTagName("script")),d),j.splice.apply(j,[b+1,0].concat(h)),b+=h.length)}return j});var u=a.event.add,A=a.event.remove,C=a.event.trigger,K=a.fn.toggle,I=a.fn.live,R=a.fn.die,S=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,V=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){if("string"!==typeof b||a.event.special.hover)return b;
V.test(b)&&c("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return b&&b.replace(V,"mouseenter$1 mouseleave$1")};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&d(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(a,b,d,f,g){a!==document&&S.test(b)&&c("AJAX events should be attached to document: "+b);u.call(this,a,L(b||""),d,f,g)};
a.event.remove=function(a,b,c,d,f){A.call(this,a,L(b)||"",c,d,f)};a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);c("jQuery.fn.error() is deprecated");a.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,a);this.triggerHandler.apply(this,a);return this};a.fn.toggle=function(b,d){if(!a.isFunction(b)||!a.isFunction(d))return K.apply(this,arguments);c("jQuery.fn.toggle(handler, handler...) is deprecated");var f=arguments,g=b.guid||a.guid++,h=0,j=function(c){var d=
(a._data(this,"lastToggle"+b.guid)||0)%h;a._data(this,"lastToggle"+b.guid,d+1);c.preventDefault();return f[d].apply(this,arguments)||!1};for(j.guid=g;h<f.length;)f[h++].guid=g;return this.click(j)};a.fn.live=function(b,d,f){c("jQuery.fn.live() is deprecated");if(I)return I.apply(this,arguments);a(this.context).on(b,this.selector,d,f);return this};a.fn.die=function(b,d){c("jQuery.fn.die() is deprecated");if(R)return R.apply(this,arguments);a(this.context).off(b,this.selector||"**",d);return this};
a.event.trigger=function(a,b,d,f){!d&&!S.test(a)&&c("Global events are undocumented and deprecated");return C.call(this,a,b,d||document,f)};a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(b,c){a.event.special[c]={setup:function(){var b=this;b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++));return!1},teardown:function(){this!==document&&a.event.remove(document,c+"."+a._data(this,c));return!1}}})})(jQuery,
window);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){return d.raw?a:encodeURIComponent(a)}function f(b,f){var n;if(d.raw)n=b;else a:{var l=b;0===l.indexOf('"')&&(l=l.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{l=decodeURIComponent(l.replace(c," "))}catch(q){n=void 0;break a}try{n=d.json?JSON.parse(l):l;break a}catch(t){}n=void 0}return a.isFunction(f)?f(n):n}var c=/\+/g,d=a.cookie=function(c,j,n){if(void 0!==j&&!a.isFunction(j)){n=
a.extend({},d.defaults,n);if("number"===typeof n.expires){var l=n.expires,q=n.expires=new Date;q.setDate(q.getDate()+l)}return document.cookie=[b(c),"=",b(d.json?JSON.stringify(j):String(j)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var n=c?void 0:{},l=document.cookie?document.cookie.split("; "):[],q=0,t=l.length;q<t;q++){var p=l[q].split("="),h;h=p.shift();h=d.raw?h:decodeURIComponent(h);p=p.join("=");
if(c&&c===h){n=f(p,j);break}if(!c&&void 0!==(p=f(p)))n[h]=p}return n};d.defaults={};a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}});$(function(){$(".maxheight").each(function(){$(this).contents().wrapAll("<div class='box_inner'></div>")});$(".maxheight4").each(function(){$(this).contents().wrapAll("<div class='box_inner'></div>")})});$(window).bind("resize",height_handler).bind("load",height_handler);function height_handler(){0<$(window).width()?$(".maxheight").equalHeights():$(".maxheight").css({height:"auto"});0<$(window).width()?$(".maxheight4").equalHeights():$(".maxheight4").css({height:"auto"})}
(function(a){a.fn.equalHeights=function(b,f){tallest=b?b:0;this.each(function(){a(">.box_inner",this).outerHeight()>tallest&&(tallest=a(">.box_inner",this).outerHeight())});f&&tallest>f&&(tallest=f);return this.each(function(){a(this).height(tallest)})}})(jQuery);(function(a){function b(b){if(b&&void 0===b.allowPageScroll&&(void 0!==b.swipe||void 0!==b.swipeStatus))b.allowPageScroll=q;void 0!==b.click&&void 0===b.tap&&(b.tap=b.click);b||(b={});b=a.extend({},a.fn.swipe.defaults,b);return this.each(function(){var c=a(this),d=c.data(K);d||(d=new f(this,b),c.data(K,d))})}function f(b,f){function S(b){if(!0!==T.data(K+"_intouch")&&!(0<a(b.target).closest(f.excludedElements,T).length)){var h=b.originalEvent?b.originalEvent:b,p,v=C?h.touches[0]:h;da=F;C?ea=h.touches.length:
b.preventDefault();ia=0;Ca=fa=null;Ea=Ja=U=0;za=1;Ba=0;for(var b=[],k=0;5>=k;k++)b.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});ja=b;b={};b[c]=ka(c);b[d]=ka(d);b[g]=ka(g);b[j]=ka(j);gb=b;Pa=Z=0;if(!C||ea===f.fingers||f.fingers===B||Q()){if(z(0,v),Xa=pa(),2==ea&&(z(1,h.touches[1]),Ja=Ea=Da(ja[0].start,ja[1].start)),f.swipeStatus||f.pinchStatus)p=ca(h,da)}else p=!1;if(!1===p)return da=A,ca(h,da),p;m(!0)}}function V(b){var m,h,p,v=b.originalEvent?b.originalEvent:b;if(!(da===u||da===A||Ia())){var k,
J=ga(C?v.touches[0]:v);Ka=pa();C&&(ea=v.touches.length);da=x;2==ea&&(0==Ja?(z(1,v.touches[1]),Ja=Ea=Da(ja[0].start,ja[1].start)):(ga(v.touches[1]),Ea=Da(ja[0].end,ja[1].end),Ca=1>za?l:n),za=(1*(Ea/Ja)).toFixed(2),Ba=Math.abs(Ja-Ea));if(ea===f.fingers||f.fingers===B||!C||Q()){m=J.start;h=J.end;m=Math.atan2(h.y-m.y,m.x-h.x);m=Math.round(180*m/Math.PI);0>m&&(m=360-Math.abs(m));m=fa=45>=m&&0<=m?c:360>=m&&315<=m?c:135<=m&&225>=m?d:45<m&&135>m?j:g;if(f.allowPageScroll===q||Q())b.preventDefault();else switch(h=
f.allowPageScroll===t,m){case c:(f.swipeLeft&&h||!h&&f.allowPageScroll!=H)&&b.preventDefault();break;case d:(f.swipeRight&&h||!h&&f.allowPageScroll!=H)&&b.preventDefault();break;case g:(f.swipeUp&&h||!h&&f.allowPageScroll!=r)&&b.preventDefault();break;case j:(f.swipeDown&&h||!h&&f.allowPageScroll!=r)&&b.preventDefault()}ia=Math.round(Math.sqrt(Math.pow(J.end.x-J.start.x,2)+Math.pow(J.end.y-J.start.y,2)));U=Ka-Xa;b=fa;m=ia;m=Math.max(m,gb[b].distance);gb[b].distance=m;if(f.swipeStatus||f.pinchStatus)k=
ca(v,da);if(!f.triggerOnTouchEnd||f.triggerOnTouchLeave){b=!0;if(f.triggerOnTouchLeave){p=a(this);var N=p.offset(),b=N.left;m=N.left+p.outerWidth();h=N.top;p=N.top+p.outerHeight();b=J.end.x>b&&J.end.x<m&&J.end.y>h&&J.end.y<p}!f.triggerOnTouchEnd&&b?da=ba(x):f.triggerOnTouchLeave&&!b&&(da=ba(u));(da==A||da==u)&&ca(v,da)}}else da=A,ca(v,da);!1===k&&(da=A,ca(v,da))}}function L(a){var b=a.originalEvent;if(C&&0<b.touches.length)return Z=pa(),Pa=event.touches.length+1,!0;Ia()&&(ea=Pa);a.preventDefault();
Ka=pa();U=Ka-Xa;M()?(da=A,ca(b,da)):f.triggerOnTouchEnd||!1==f.triggerOnTouchEnd&&da===x?(da=u,ca(b,da)):!f.triggerOnTouchEnd&&f.tap?(da=u,P(b,da,y)):da===x&&(da=A,ca(b,da));m(!1)}function J(){Ea=Ja=Xa=Ka=ea=0;za=1;Pa=Z=0;m(!1)}function v(a){a=a.originalEvent;f.triggerOnTouchLeave&&(da=ba(u),ca(a,da))}function N(){T.unbind(ua,S);T.unbind(k,J);T.unbind(Wa,V);T.unbind(xa,L);ya&&T.unbind(ya,v);m(!1)}function ba(a){var b=a,c=f.maxTimeThreshold?U>=f.maxTimeThreshold?!1:!0:!0,d=G(),m=M();!c||m?b=A:d&&a==
x&&(!f.triggerOnTouchEnd||f.triggerOnTouchLeave)?b=u:!d&&(a==u&&f.triggerOnTouchLeave)&&(b=A);return b}function ca(a,b){var c=void 0;if(ma()&&ha()||ha())c=P(a,b,p);else if((Y()&&Q()||Q())&&!1!==c)c=P(a,b,h);O()&&f.doubleTap&&!1!==c?c=P(a,b,w):U>f.longTapThreshold&&ia<E&&f.longTap&&!1!==c?c=P(a,b,D):(1===ea||!C)&&(isNaN(ia)||0===ia)&&f.tap&&!1!==c&&(c=P(a,b,y));b===A&&J(a);b===u&&(C?0==a.touches.length&&J(a):J(a));return c}function P(b,m,z){var v=void 0;if(z==p){T.trigger("swipeStatus",[m,fa||null,
ia||0,U||0,ea]);if(f.swipeStatus&&(v=f.swipeStatus.call(T,b,m,fa||null,ia||0,U||0,ea),!1===v))return!1;if(m==u&&ma()){T.trigger("swipe",[fa,ia,U,ea]);if(f.swipe&&(v=f.swipe.call(T,b,fa,ia,U,ea),!1===v))return!1;switch(fa){case c:T.trigger("swipeLeft",[fa,ia,U,ea]);f.swipeLeft&&(v=f.swipeLeft.call(T,b,fa,ia,U,ea));break;case d:T.trigger("swipeRight",[fa,ia,U,ea]);f.swipeRight&&(v=f.swipeRight.call(T,b,fa,ia,U,ea));break;case g:T.trigger("swipeUp",[fa,ia,U,ea]);f.swipeUp&&(v=f.swipeUp.call(T,b,fa,ia,
U,ea));break;case j:T.trigger("swipeDown",[fa,ia,U,ea]),f.swipeDown&&(v=f.swipeDown.call(T,b,fa,ia,U,ea))}}}if(z==h){T.trigger("pinchStatus",[m,Ca||null,Ba||0,U||0,ea,za]);if(f.pinchStatus&&(v=f.pinchStatus.call(T,b,m,Ca||null,Ba||0,U||0,ea,za),!1===v))return!1;if(m==u&&Y())switch(Ca){case n:T.trigger("pinchIn",[Ca||null,Ba||0,U||0,ea,za]);f.pinchIn&&(v=f.pinchIn.call(T,b,Ca||null,Ba||0,U||0,ea,za));break;case l:T.trigger("pinchOut",[Ca||null,Ba||0,U||0,ea,za]),f.pinchOut&&(v=f.pinchOut.call(T,b,
Ca||null,Ba||0,U||0,ea,za))}}if(z==y){if(m===A||m===u)clearTimeout(qa),f.doubleTap&&!O()?(oa=pa(),qa=setTimeout(a.proxy(function(){oa=null;T.trigger("tap",[b.target]);f.tap&&(v=f.tap.call(T,b,b.target))},this),f.doubleTapThreshold)):(oa=null,T.trigger("tap",[b.target]),f.tap&&(v=f.tap.call(T,b,b.target)))}else if(z==w){if(m===A||m===u)clearTimeout(qa),oa=null,T.trigger("doubletap",[b.target]),f.doubleTap&&(v=f.doubleTap.call(T,b,b.target))}else if(z==D&&(m===A||m===u))clearTimeout(qa),oa=null,T.trigger("longtap",
[b.target]),f.longTap&&(v=f.longTap.call(T,b,b.target));return v}function G(){var a=!0;null!==f.threshold&&(a=ia>=f.threshold);return a}function M(){var a=!1;null!==f.cancelThreshold&&null!==fa&&(a=gb[fa].distance-ia>=f.cancelThreshold);return a}function Y(){var a=ea===f.fingers||f.fingers===B||!C,b=0!==ja[0].end.x,c;c=null!==f.pinchThreshold?Ba>=f.pinchThreshold:!0;return a&&b&&c}function Q(){return!(!f.pinchStatus&&!f.pinchIn&&!f.pinchOut)}function ma(){var a=f.maxTimeThreshold?U>=f.maxTimeThreshold?
!1:!0:!0,b=G(),c=ea===f.fingers||f.fingers===B||!C,d=0!==ja[0].end.x;return!M()&&d&&c&&b&&a}function ha(){return!(!f.swipe&&!f.swipeStatus&&!f.swipeLeft&&!f.swipeRight&&!f.swipeUp&&!f.swipeDown)}function O(){if(null==oa)return!1;var a=pa();return!!f.doubleTap&&a-oa<=f.doubleTapThreshold}function Ia(){var a=!1;Z&&pa()-Z<=f.fingerReleaseThreshold&&(a=!0);return a}function m(a){!0===a?(T.bind(Wa,V),T.bind(xa,L),ya&&T.bind(ya,v)):(T.unbind(Wa,V,!1),T.unbind(xa,L,!1),ya&&T.unbind(ya,v,!1));T.data(K+"_intouch",
!0===a)}function z(a,b){ja[a].identifier=void 0!==b.identifier?b.identifier:0;ja[a].start.x=ja[a].end.x=b.pageX||b.clientX;ja[a].start.y=ja[a].end.y=b.pageY||b.clientY;return ja[a]}function ga(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<ja.length;c++)if(ja[c].identifier==b){b=ja[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;return b}function ka(a){return{direction:a,distance:0}}function Da(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*
c+d*d))}function pa(){return(new Date).getTime()}var ra=C||!f.fallbackToMouseEvents,ua=ra?"touchstart":"mousedown",Wa=ra?"touchmove":"mousemove",xa=ra?"touchend":"mouseup",ya=ra?null:"mouseleave",k="touchcancel",ia=0,fa=null,U=0,Ja=0,Ea=0,za=1,Ba=0,Ca=0,gb=null,T=a(b),da="start",ea=0,ja=null,Xa=0,Ka=0,Z=0,Pa=0,oa=0,qa=null;try{T.bind(ua,S),T.bind(k,J)}catch(wb){a.error("events not supported "+ua+","+k+" on jQuery.swipe")}this.enable=function(){T.bind(ua,S);T.bind(k,J);return T};this.disable=function(){N();
return T};this.destroy=function(){N();T.data(K,null);return T};this.option=function(b,c){if(void 0!==f[b]){if(void 0===c)return f[b];f[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options")}}var c="left",d="right",g="up",j="down",n="in",l="out",q="none",t="auto",p="swipe",h="pinch",y="tap",w="doubletap",D="longtap",H="horizontal",r="vertical",B="all",E=10,F="start",x="move",u="end",A="cancel",C="ontouchstart"in window,K="TouchSwipe";a.fn.swipe=function(c){var d=a(this),f=d.data(K);
if(f&&"string"===typeof c){if(f[c])return f[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(!f&&("object"===typeof c||!c))return b.apply(this,arguments);return d};a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,
pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:F,PHASE_MOVE:x,PHASE_END:u,PHASE_CANCEL:A};a.fn.swipe.directions={LEFT:c,RIGHT:d,UP:g,DOWN:j,IN:n,OUT:l};a.fn.swipe.pageScroll={NONE:q,HORIZONTAL:H,VERTICAL:r,AUTO:t};a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:B}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,f,c,d){return jQuery.easing[jQuery.easing.def](a,b,f,c,d)},easeInQuad:function(a,b,f,c,d){return c*(b/=d)*b+f},easeOutQuad:function(a,b,f,c,d){return-c*(b/=d)*(b-2)+f},easeInOutQuad:function(a,b,f,c,d){return 1>(b/=d/2)?c/2*b*b+f:-c/2*(--b*(b-2)-1)+f},easeInCubic:function(a,b,f,c,d){return c*(b/=d)*b*b+f},easeOutCubic:function(a,b,f,c,d){return c*((b=b/d-1)*b*b+1)+f},easeInOutCubic:function(a,b,f,c,d){return 1>(b/=d/2)?c/2*b*b*b+f:
c/2*((b-=2)*b*b+2)+f},easeInQuart:function(a,b,f,c,d){return c*(b/=d)*b*b*b+f},easeOutQuart:function(a,b,f,c,d){return-c*((b=b/d-1)*b*b*b-1)+f},easeInOutQuart:function(a,b,f,c,d){return 1>(b/=d/2)?c/2*b*b*b*b+f:-c/2*((b-=2)*b*b*b-2)+f},easeInQuint:function(a,b,f,c,d){return c*(b/=d)*b*b*b*b+f},easeOutQuint:function(a,b,f,c,d){return c*((b=b/d-1)*b*b*b*b+1)+f},easeInOutQuint:function(a,b,f,c,d){return 1>(b/=d/2)?c/2*b*b*b*b*b+f:c/2*((b-=2)*b*b*b*b+2)+f},easeInSine:function(a,b,f,c,d){return-c*Math.cos(b/
d*(Math.PI/2))+c+f},easeOutSine:function(a,b,f,c,d){return c*Math.sin(b/d*(Math.PI/2))+f},easeInOutSine:function(a,b,f,c,d){return-c/2*(Math.cos(Math.PI*b/d)-1)+f},easeInExpo:function(a,b,f,c,d){return 0==b?f:c*Math.pow(2,10*(b/d-1))+f},easeOutExpo:function(a,b,f,c,d){return b==d?f+c:c*(-Math.pow(2,-10*b/d)+1)+f},easeInOutExpo:function(a,b,f,c,d){return 0==b?f:b==d?f+c:1>(b/=d/2)?c/2*Math.pow(2,10*(b-1))+f:c/2*(-Math.pow(2,-10*--b)+2)+f},easeInCirc:function(a,b,f,c,d){return-c*(Math.sqrt(1-(b/=d)*
b)-1)+f},easeOutCirc:function(a,b,f,c,d){return c*Math.sqrt(1-(b=b/d-1)*b)+f},easeInOutCirc:function(a,b,f,c,d){return 1>(b/=d/2)?-c/2*(Math.sqrt(1-b*b)-1)+f:c/2*(Math.sqrt(1-(b-=2)*b)+1)+f},easeInElastic:function(a,b,f,c,d){var a=1.70158,g=0,j=c;if(0==b)return f;if(1==(b/=d))return f+c;g||(g=0.3*d);j<Math.abs(c)?(j=c,a=g/4):a=g/(2*Math.PI)*Math.asin(c/j);return-(j*Math.pow(2,10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/g))+f},easeOutElastic:function(a,b,f,c,d){var a=1.70158,g=0,j=c;if(0==b)return f;if(1==
(b/=d))return f+c;g||(g=0.3*d);j<Math.abs(c)?(j=c,a=g/4):a=g/(2*Math.PI)*Math.asin(c/j);return j*Math.pow(2,-10*b)*Math.sin((b*d-a)*2*Math.PI/g)+c+f},easeInOutElastic:function(a,b,f,c,d){var a=1.70158,g=0,j=c;if(0==b)return f;if(2==(b/=d/2))return f+c;g||(g=d*0.3*1.5);j<Math.abs(c)?(j=c,a=g/4):a=g/(2*Math.PI)*Math.asin(c/j);return 1>b?-0.5*j*Math.pow(2,10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/g)+f:0.5*j*Math.pow(2,-10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/g)+c+f},easeInBack:function(a,b,f,c,d,g){void 0==
g&&(g=1.70158);return c*(b/=d)*b*((g+1)*b-g)+f},easeOutBack:function(a,b,f,c,d,g){void 0==g&&(g=1.70158);return c*((b=b/d-1)*b*((g+1)*b+g)+1)+f},easeInOutBack:function(a,b,f,c,d,g){void 0==g&&(g=1.70158);return 1>(b/=d/2)?c/2*b*b*(((g*=1.525)+1)*b-g)+f:c/2*((b-=2)*b*(((g*=1.525)+1)*b+g)+2)+f},easeInBounce:function(a,b,f,c,d){return c-jQuery.easing.easeOutBounce(a,d-b,0,c,d)+f},easeOutBounce:function(a,b,f,c,d){return(b/=d)<1/2.75?c*7.5625*b*b+f:b<2/2.75?c*(7.5625*(b-=1.5/2.75)*b+0.75)+f:b<2.5/2.75?
c*(7.5625*(b-=2.25/2.75)*b+0.9375)+f:c*(7.5625*(b-=2.625/2.75)*b+0.984375)+f},easeInOutBounce:function(a,b,f,c,d){return b<d/2?0.5*jQuery.easing.easeInBounce(a,2*b,0,c,d)+f:0.5*jQuery.easing.easeOutBounce(a,2*b-d,0,c,d)+0.5*c+f}});(function(a){a.flexslider=function(b,f){var c=a(b);c.vars=a.extend({},a.flexslider.defaults,f);var d=c.vars.namespace,g=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,j=("ontouchstart"in window||g||window.DocumentTouch&&document instanceof DocumentTouch)&&c.vars.touch,n="",l,q="vertical"===c.vars.direction,t=c.vars.reverse,p=0<c.vars.itemWidth,h="fade"===c.vars.animation,y=""!==c.vars.asNavFor,w={};a.data(b,"flexslider",c);w={init:function(){c.animating=!1;c.currentSlide=parseInt(c.vars.startAt?
c.vars.startAt:0,10);isNaN(c.currentSlide)&&(c.currentSlide=0);c.animatingTo=c.currentSlide;c.atEnd=0===c.currentSlide||c.currentSlide===c.last;c.containerSelector=c.vars.selector.substr(0,c.vars.selector.search(" "));c.slides=a(c.vars.selector,c);c.container=a(c.containerSelector,c);c.count=c.slides.length;c.syncExists=0<a(c.vars.sync).length;"slide"===c.vars.animation&&(c.vars.animation="swing");c.prop=q?"top":"marginLeft";c.args={};c.manualPause=!1;c.stopped=!1;c.started=!1;c.startTimeout=null;
var b;if(b=!c.vars.video)if(b=!h)if(b=c.vars.useCSS)a:{b=document.createElement("div");var d=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],f;for(f in d)if(void 0!==b.style[d[f]]){b=(c.pfx=d[f].replace("Perspective","").toLowerCase(),c.prop="-"+c.pfx+"-transform",!0);break a}b=!1}c.transitions=b;""!==c.vars.controlsContainer&&(c.controlsContainer=0<a(c.vars.controlsContainer).length&&a(c.vars.controlsContainer));""!==c.vars.manualControls&&(c.manualControls=
0<a(c.vars.manualControls).length&&a(c.vars.manualControls));c.vars.randomize&&(c.slides.sort(function(){return Math.round(Math.random())-0.5}),c.container.empty().append(c.slides));c.doMath();c.setup("init");c.vars.controlNav&&w.controlNav.setup();c.vars.directionNav&&w.directionNav.setup();c.vars.keyboard&&(1===a(c.containerSelector).length||c.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){a=a.keyCode;c.animating||39!==a&&37!==a||(a=39===a?c.getTarget("next"):37===a?c.getTarget("prev"):
!1,c.flexAnimate(a,c.vars.pauseOnAction))});c.vars.mousewheel&&c.bind("mousewheel",function(a,b){a.preventDefault();a=0>b?c.getTarget("next"):c.getTarget("prev");c.flexAnimate(a,c.vars.pauseOnAction)});c.vars.pausePlay&&w.pausePlay.setup();c.vars.slideshow&&c.vars.pauseInvisible&&w.pauseInvisible.init();c.vars.slideshow&&(c.vars.pauseOnHover&&c.hover(function(){c.manualPlay||c.manualPause||c.pause()},function(){c.manualPause||c.manualPlay||c.stopped||c.play()}),c.vars.pauseInvisible&&w.pauseInvisible.isHidden()||
(0<c.vars.initDelay?c.startTimeout=setTimeout(c.play,c.vars.initDelay):c.play()));y&&w.asNav.setup();j&&c.vars.touch&&w.touch();(!h||h&&c.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",w.resize);c.find("img").attr("draggable","false");setTimeout(function(){c.vars.start(c)},200)},asNav:{setup:function(){c.asNav=!0;c.animatingTo=Math.floor(c.currentSlide/c.move);c.currentItem=c.currentSlide;c.slides.removeClass(d+"active-slide").eq(c.currentItem).addClass(d+"active-slide");if(g)b._slider=
c,c.slides.each(function(){this._gesture=new MSGesture;this._gesture.target=this;this.addEventListener("MSPointerDown",function(a){a.preventDefault();a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1);this.addEventListener("MSGestureTap",function(b){b.preventDefault();var b=a(this),d=b.index();a(c.vars.asNavFor).data("flexslider").animating||b.hasClass("active")||(c.direction=c.currentItem<d?"next":"prev",c.flexAnimate(d,c.vars.pauseOnAction,!1,!0,!0))})});else c.slides.on("click touchend MSPointerUp",
function(b){b.preventDefault();var b=a(this),f=b.index();0>=b.offset().left-a(c).scrollLeft()&&b.hasClass(d+"active-slide")?c.flexAnimate(c.getTarget("prev"),!0):a(c.vars.asNavFor).data("flexslider").animating||b.hasClass(d+"active-slide")||(c.direction=c.currentItem<f?"next":"prev",c.flexAnimate(f,c.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){c.manualControls?w.controlNav.setupManual():w.controlNav.setupPaging()},setupPaging:function(){var b=1,f,g;c.controlNavScaffold=a('<ol class="'+
d+"control-nav "+d+("thumbnails"===c.vars.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<c.pagingCount)for(var h=0;h<c.pagingCount;h++)g=c.slides.eq(h),f="thumbnails"===c.vars.controlNav?'<img src="'+g.attr("data-thumb")+'"/>':"<a>"+b+"</a>","thumbnails"===c.vars.controlNav&&!0===c.vars.thumbCaptions&&(g=g.attr("data-thumbcaption"),""!=g&&void 0!=g&&(f+='<span class="'+d+'caption">'+g+"</span>")),c.controlNavScaffold.append("<li>"+f+"</li>"),b++;c.controlsContainer?a(c.controlsContainer).append(c.controlNavScaffold):
c.append(c.controlNavScaffold);w.controlNav.set();w.controlNav.active();c.controlNavScaffold.delegate("a, img","click touchend MSPointerUp",function(b){b.preventDefault();if(""===n||n===b.type){var f=a(this),g=c.controlNav.index(f);f.hasClass(d+"active")||(c.direction=g>c.currentSlide?"next":"prev",c.flexAnimate(g,c.vars.pauseOnAction))}""===n&&(n=b.type);w.setToClearWatchedEvent()})},setupManual:function(){c.controlNav=c.manualControls;w.controlNav.active();c.controlNav.bind("click touchend MSPointerUp",
function(b){b.preventDefault();if(""===n||n===b.type){var f=a(this),g=c.controlNav.index(f);f.hasClass(d+"active")||(g>c.currentSlide?c.direction="next":c.direction="prev",c.flexAnimate(g,c.vars.pauseOnAction))}""===n&&(n=b.type);w.setToClearWatchedEvent()})},set:function(){c.controlNav=a("."+d+"control-nav li "+("thumbnails"===c.vars.controlNav?"img":"a"),c.controlsContainer?c.controlsContainer:c)},active:function(){c.controlNav.removeClass(d+"active").eq(c.animatingTo).addClass(d+"active")},update:function(b,
d){1<c.pagingCount&&"add"===b?c.controlNavScaffold.append(a("<li><a>"+c.count+"</a></li>")):1===c.pagingCount?c.controlNavScaffold.find("li").remove():c.controlNav.eq(d).closest("li").remove();w.controlNav.set();1<c.pagingCount&&c.pagingCount!==c.controlNav.length?c.update(d,b):w.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+d+'direction-nav"><li><a class="'+d+'prev" href="#">'+c.vars.prevText+'</a></li><li><a class="'+d+'next" href="#">'+c.vars.nextText+"</a></li></ul>");
c.controlsContainer?(a(c.controlsContainer).append(b),c.directionNav=a("."+d+"direction-nav li a",c.controlsContainer)):(c.append(b),c.directionNav=a("."+d+"direction-nav li a",c));w.directionNav.update();c.directionNav.bind("click touchend MSPointerUp",function(b){b.preventDefault();var f;if(""===n||n===b.type)f=a(this).hasClass(d+"next")?c.getTarget("next"):c.getTarget("prev"),c.flexAnimate(f,c.vars.pauseOnAction);""===n&&(n=b.type);w.setToClearWatchedEvent()})},update:function(){var a=d+"disabled";
1===c.pagingCount?c.directionNav.addClass(a).attr("tabindex","-1"):c.vars.animationLoop?c.directionNav.removeClass(a).removeAttr("tabindex"):0===c.animatingTo?c.directionNav.removeClass(a).filter("."+d+"prev").addClass(a).attr("tabindex","-1"):c.animatingTo===c.last?c.directionNav.removeClass(a).filter("."+d+"next").addClass(a).attr("tabindex","-1"):c.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=a('<div class="'+d+'pauseplay"><a></a></div>');c.controlsContainer?
(c.controlsContainer.append(b),c.pausePlay=a("."+d+"pauseplay a",c.controlsContainer)):(c.append(b),c.pausePlay=a("."+d+"pauseplay a",c));w.pausePlay.update(c.vars.slideshow?d+"pause":d+"play");c.pausePlay.bind("click touchend MSPointerUp",function(b){b.preventDefault();if(""===n||n===b.type)a(this).hasClass(d+"pause")?(c.manualPause=!0,c.manualPlay=!1,c.pause()):(c.manualPause=!1,c.manualPlay=!0,c.play());""===n&&(n=b.type);w.setToClearWatchedEvent()})},update:function(a){"play"===a?c.pausePlay.removeClass(d+
"pause").addClass(d+"play").html(c.vars.playText):c.pausePlay.removeClass(d+"play").addClass(d+"pause").html(c.vars.pauseText)}},touch:function(){var a,d,f,j,l,n,y=!1,w=0,A=0,C=0;if(g){b.style.msTouchAction="none";b._gesture=new MSGesture;b._gesture.target=b;b.addEventListener("MSPointerDown",K,!1);b._slider=c;b.addEventListener("MSGestureChange",I,!1);b.addEventListener("MSGestureEnd",R,!1);var K=function(a){a.stopPropagation();c.animating?a.preventDefault():(c.pause(),b._gesture.addPointer(a.pointerId),
C=0,j=q?c.h:c.w,n=Number(new Date),f=p&&t&&c.animatingTo===c.last?0:p&&t?c.limit-(c.itemW+c.vars.itemMargin)*c.move*c.animatingTo:p&&c.currentSlide===c.last?c.limit:p?(c.itemW+c.vars.itemMargin)*c.move*c.currentSlide:t?(c.last-c.currentSlide+c.cloneOffset)*j:(c.currentSlide+c.cloneOffset)*j)},I=function(a){a.stopPropagation();var c=a.target._slider;if(c){var d=-a.translationX,g=-a.translationY;l=C+=q?g:d;y=q?Math.abs(C)<Math.abs(-d):Math.abs(C)<Math.abs(-g);if(a.detail===a.MSGESTURE_FLAG_INERTIA)setImmediate(function(){b._gesture.stop()});
else if(!y||500<Number(new Date)-n)a.preventDefault(),!h&&c.transitions&&(c.vars.animationLoop||(l=C/(0===c.currentSlide&&0>C||c.currentSlide===c.last&&0<C?Math.abs(C)/j+2:1)),c.setProps(f+l,"setTouch"))}},R=function(b){b.stopPropagation();if(b=b.target._slider){if(b.animatingTo===b.currentSlide&&!y&&null!==l){var c=t?-l:l,g=0<c?b.getTarget("next"):b.getTarget("prev");b.canAdvance(g)&&(550>Number(new Date)-n&&50<Math.abs(c)||Math.abs(c)>j/2)?b.flexAnimate(g,b.vars.pauseOnAction):h||b.flexAnimate(b.currentSlide,
b.vars.pauseOnAction,!0)}f=l=d=a=null;C=0}}}else{b.addEventListener("touchstart",S,!1);var S=function(g){if(c.animating)g.preventDefault();else if(window.navigator.msPointerEnabled||1===g.touches.length)c.pause(),j=q?c.h:c.w,n=Number(new Date),w=g.touches[0].pageX,A=g.touches[0].pageY,f=p&&t&&c.animatingTo===c.last?0:p&&t?c.limit-(c.itemW+c.vars.itemMargin)*c.move*c.animatingTo:p&&c.currentSlide===c.last?c.limit:p?(c.itemW+c.vars.itemMargin)*c.move*c.currentSlide:t?(c.last-c.currentSlide+c.cloneOffset)*
j:(c.currentSlide+c.cloneOffset)*j,a=q?A:w,d=q?w:A,b.addEventListener("touchmove",V,!1),b.addEventListener("touchend",L,!1)},V=function(b){w=b.touches[0].pageX;A=b.touches[0].pageY;l=q?a-A:a-w;y=q?Math.abs(l)<Math.abs(w-d):Math.abs(l)<Math.abs(A-d);if(!y||500<Number(new Date)-n)b.preventDefault(),!h&&c.transitions&&(c.vars.animationLoop||(l/=0===c.currentSlide&&0>l||c.currentSlide===c.last&&0<l?Math.abs(l)/j+2:1),c.setProps(f+l,"setTouch"))},L=function(g){b.removeEventListener("touchmove",V,!1);if(c.animatingTo===
c.currentSlide&&!y&&null!==l){var g=t?-l:l,p=0<g?c.getTarget("next"):c.getTarget("prev");c.canAdvance(p)&&(550>Number(new Date)-n&&50<Math.abs(g)||Math.abs(g)>j/2)?c.flexAnimate(p,c.vars.pauseOnAction):h||c.flexAnimate(c.currentSlide,c.vars.pauseOnAction,!0)}b.removeEventListener("touchend",L,!1);f=l=d=a=null}}},resize:function(){!c.animating&&c.is(":visible")&&(p||c.doMath(),h?w.smoothHeight():p?(c.slides.width(c.computedW),c.update(c.pagingCount),c.setProps()):q?(c.viewport.height(c.h),c.setProps(c.h,
"setTotal")):(c.vars.smoothHeight&&w.smoothHeight(),c.newSlides.width(c.computedW),c.setProps(c.computedW,"setTotal")))},smoothHeight:function(a){if(!q||h){var b=h?c:c.viewport;a?b.animate({height:c.slides.eq(c.animatingTo).height()},a):b.height(c.slides.eq(c.animatingTo).height())}},sync:function(b){var d=a(c.vars.sync).data("flexslider"),f=c.animatingTo;switch(b){case "animate":d.flexAnimate(f,c.vars.pauseOnAction,!1,!0);break;case "play":d.playing||d.asNav||d.play();break;case "pause":d.pause()}},
uniqueID:function(b){b.find("[id]").each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")});return b},pauseInvisible:{visProp:null,init:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)a[b]+"Hidden"in document&&(w.pauseInvisible.visProp=a[b]+"Hidden");w.pauseInvisible.visProp&&(a=w.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(a,function(){w.pauseInvisible.isHidden()?c.startTimeout?
clearTimeout(c.startTimeout):c.pause():c.started?c.play():0<c.vars.initDelay?setTimeout(c.play,c.vars.initDelay):c.play()}))},isHidden:function(){return document[w.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(l);l=setTimeout(function(){n=""},3E3)}};c.flexAnimate=function(b,f,g,l,n){c.vars.animationLoop||b===c.currentSlide||(c.direction=b>c.currentSlide?"next":"prev");y&&1===c.pagingCount&&(c.direction=c.currentItem<b?"next":"prev");if(!c.animating&&(c.canAdvance(b,
n)||g)&&c.is(":visible")){if(y&&l)if(g=a(c.vars.asNavFor).data("flexslider"),c.atEnd=0===b||b===c.count-1,g.flexAnimate(b,!0,!1,!0,n),c.direction=c.currentItem<b?"next":"prev",g.direction=c.direction,Math.ceil((b+1)/c.visible)-1!==c.currentSlide&&0!==b)c.currentItem=b,c.slides.removeClass(d+"active-slide").eq(b).addClass(d+"active-slide"),b=Math.floor(b/c.visible);else return c.currentItem=b,c.slides.removeClass(d+"active-slide").eq(b).addClass(d+"active-slide"),!1;c.animating=!0;c.animatingTo=b;
f&&c.pause();c.vars.before(c);c.syncExists&&!n&&w.sync("animate");c.vars.controlNav&&w.controlNav.active();p||c.slides.removeClass(d+"active-slide").eq(b).addClass(d+"active-slide");c.atEnd=0===b||b===c.last;c.vars.directionNav&&w.directionNav.update();b===c.last&&(c.vars.end(c),c.vars.animationLoop||c.pause());if(h)j?(c.slides.eq(c.currentSlide).css({opacity:0,zIndex:1}),c.slides.eq(b).css({opacity:1,zIndex:2}),c.wrapup(F)):(c.slides.eq(c.currentSlide).css({zIndex:1}).animate({opacity:0},c.vars.animationSpeed,
c.vars.easing),c.slides.eq(b).css({zIndex:2}).animate({opacity:1},c.vars.animationSpeed,c.vars.easing,c.wrapup));else{var F=q?c.slides.filter(":first").height():c.computedW;p?(b=c.vars.itemMargin,b=(c.itemW+b)*c.move*c.animatingTo,b=b>c.limit&&1!==c.visible?c.limit:b):b=0===c.currentSlide&&b===c.count-1&&c.vars.animationLoop&&"next"!==c.direction?t?(c.count+c.cloneOffset)*F:0:c.currentSlide===c.last&&0===b&&c.vars.animationLoop&&"prev"!==c.direction?t?0:(c.count+1)*F:t?(c.count-1-b+c.cloneOffset)*
F:(b+c.cloneOffset)*F;c.setProps(b,"",c.vars.animationSpeed);c.transitions?(c.vars.animationLoop&&c.atEnd||(c.animating=!1,c.currentSlide=c.animatingTo),c.container.unbind("webkitTransitionEnd transitionend"),c.container.bind("webkitTransitionEnd transitionend",function(){c.wrapup(F)})):c.container.animate(c.args,c.vars.animationSpeed,c.vars.easing,function(){c.wrapup(F)})}c.vars.smoothHeight&&w.smoothHeight(c.vars.animationSpeed)}};c.wrapup=function(a){h||p||(0===c.currentSlide&&c.animatingTo===
c.last&&c.vars.animationLoop?c.setProps(a,"jumpEnd"):c.currentSlide===c.last&&0===c.animatingTo&&c.vars.animationLoop&&c.setProps(a,"jumpStart"));c.animating=!1;c.currentSlide=c.animatingTo;c.vars.after(c)};c.animateSlides=function(){c.animating||c.flexAnimate(c.getTarget("next"))};c.pause=function(){clearInterval(c.animatedSlides);c.animatedSlides=null;c.playing=!1;c.vars.pausePlay&&w.pausePlay.update("play");c.syncExists&&w.sync("pause")};c.play=function(){c.playing&&clearInterval(c.animatedSlides);
c.animatedSlides=c.animatedSlides||setInterval(c.animateSlides,c.vars.slideshowSpeed);c.started=c.playing=!0;c.vars.pausePlay&&w.pausePlay.update("pause");c.syncExists&&w.sync("play")};c.stop=function(){c.pause();c.stopped=!0};c.canAdvance=function(a,b){var d=y?c.pagingCount-1:c.last;return b?!0:y&&c.currentItem===c.count-1&&0===a&&"prev"===c.direction?!0:y&&0===c.currentItem&&a===c.pagingCount-1&&"next"!==c.direction?!1:a!==c.currentSlide||y?c.vars.animationLoop?!0:c.atEnd&&0===c.currentSlide&&a===
d&&"next"!==c.direction?!1:c.atEnd&&c.currentSlide===d&&0===a&&"next"===c.direction?!1:!0:!1};c.getTarget=function(a){c.direction=a;return"next"===a?c.currentSlide===c.last?0:c.currentSlide+1:0===c.currentSlide?c.last:c.currentSlide-1};c.setProps=function(a,b,d){var f,g=a?a:(c.itemW+c.vars.itemMargin)*c.move*c.animatingTo;f=-1*function(){if(p)return"setTouch"===b?a:t&&c.animatingTo===c.last?0:t?c.limit-(c.itemW+c.vars.itemMargin)*c.move*c.animatingTo:c.animatingTo===c.last?c.limit:g;switch(b){case "setTotal":return t?
(c.count-1-c.currentSlide+c.cloneOffset)*a:(c.currentSlide+c.cloneOffset)*a;case "setTouch":return a;case "jumpEnd":return t?a:c.count*a;case "jumpStart":return t?c.count*a:a;default:return a}}()+"px";c.transitions&&(f=q?"translate3d(0,"+f+",0)":"translate3d("+f+",0,0)",d=void 0!==d?d/1E3+"s":"0s",c.container.css("-"+c.pfx+"-transition-duration",d),c.container.css("transition-duration",d));c.args[c.prop]=f;(c.transitions||void 0===d)&&c.container.css(c.args);c.container.css("transform",f)};c.setup=
function(b){if(h)c.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(j?c.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+c.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(c.currentSlide).css({opacity:1,zIndex:2}):c.slides.css({opacity:0,display:"block",zIndex:1}).eq(c.currentSlide).css({zIndex:2}).animate({opacity:1},c.vars.animationSpeed,c.vars.easing)),c.vars.smoothHeight&&w.smoothHeight();else{var f,g;"init"===b&&(c.viewport=a('<div class="'+
d+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(c).append(c.container),c.cloneCount=0,c.cloneOffset=0,t&&(g=a.makeArray(c.slides).reverse(),c.slides=a(g),c.container.empty().append(c.slides)));c.vars.animationLoop&&!p&&(c.cloneCount=2,c.cloneOffset=1,"init"!==b&&c.container.find(".clone").remove(),w.uniqueID(c.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(c.container),w.uniqueID(c.slides.last().clone().addClass("clone").attr("aria-hidden",
"true")).prependTo(c.container));c.newSlides=a(c.vars.selector,c);f=t?c.count-1-c.currentSlide+c.cloneOffset:c.currentSlide+c.cloneOffset;q&&!p?(c.container.height(200*(c.count+c.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){c.newSlides.css({display:"block"});c.doMath();c.viewport.height(c.h);c.setProps(f*c.h,"init")},"init"===b?100:0)):(c.container.width(200*(c.count+c.cloneCount)+"%"),c.setProps(f*c.computedW,"init"),setTimeout(function(){c.doMath();c.newSlides.css({width:c.computedW,
"float":"left",display:"block"});c.vars.smoothHeight&&w.smoothHeight()},"init"===b?100:0))}p||c.slides.removeClass(d+"active-slide").eq(c.currentSlide).addClass(d+"active-slide");c.vars.init(c)};c.doMath=function(){var a=c.slides.first(),b=c.vars.itemMargin,d=c.vars.minItems,f=c.vars.maxItems;c.w=void 0===c.viewport?c.width():c.viewport.width();c.h=a.height();c.boxPadding=a.outerWidth()-a.width();p?(c.itemT=c.vars.itemWidth+b,c.minW=d?d*c.itemT:c.w,c.maxW=f?f*c.itemT-b:c.w,c.itemW=c.minW>c.w?(c.w-
b*(d-1))/d:c.maxW<c.w?(c.w-b*(f-1))/f:c.vars.itemWidth>c.w?c.w:c.vars.itemWidth,c.visible=Math.floor(c.w/c.itemW),c.move=0<c.vars.move&&c.vars.move<c.visible?c.vars.move:c.visible,c.pagingCount=Math.ceil((c.count-c.visible)/c.move+1),c.last=c.pagingCount-1,c.limit=1===c.pagingCount?0:c.vars.itemWidth>c.w?c.itemW*(c.count-1)+b*(c.count-1):(c.itemW+b)*c.count-c.w-b):(c.itemW=c.w,c.pagingCount=c.count,c.last=c.count-1);c.computedW=c.itemW-c.boxPadding};c.update=function(a,b){c.doMath();p||(a<c.currentSlide?
c.currentSlide+=1:a<=c.currentSlide&&0!==a&&(c.currentSlide-=1),c.animatingTo=c.currentSlide);if(c.vars.controlNav&&!c.manualControls)if("add"===b&&!p||c.pagingCount>c.controlNav.length)w.controlNav.update("add");else if("remove"===b&&!p||c.pagingCount<c.controlNav.length)p&&c.currentSlide>c.last&&(c.currentSlide-=1,c.animatingTo-=1),w.controlNav.update("remove",c.last);c.vars.directionNav&&w.directionNav.update()};c.addSlide=function(b,d){var f=a(b);c.count+=1;c.last=c.count-1;q&&t?void 0!==d?c.slides.eq(c.count-
d).after(f):c.container.prepend(f):void 0!==d?c.slides.eq(d).before(f):c.container.append(f);c.update(d,"add");c.slides=a(c.vars.selector+":not(.clone)",c);c.setup();c.vars.added(c)};c.removeSlide=function(b){var d=isNaN(b)?c.slides.index(a(b)):b;c.count-=1;c.last=c.count-1;isNaN(b)?a(b,c.slides).remove():q&&t?c.slides.eq(c.last).remove():c.slides.eq(b).remove();c.doMath();c.update(d,"remove");c.slides=a(c.vars.selector+":not(.clone)",c);c.setup();c.vars.removed(c)};w.init()};a(window).blur(function(){focused=
!1}).focus(function(){focused=!0});a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,
pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};a.fn.flexslider=function(b){void 0===b&&(b={});if("object"===typeof b)return this.each(function(){var c=a(this),d=c.find(b.selector?b.selector:".slides > li");1===d.length&&!0===b.allowOneSlide||0===d.length?
(d.fadeIn(400),b.start&&b.start(c)):void 0===c.data("flexslider")&&new a.flexslider(this,b)});var f=a(this).data("flexslider");switch(b){case "play":f.play();break;case "pause":f.pause();break;case "stop":f.stop();break;case "next":f.flexAnimate(f.getTarget("next"),!0);break;case "prev":case "previous":f.flexAnimate(f.getTarget("prev"),!0);break;default:"number"===typeof b&&f.flexAnimate(b,!0)}}})(jQuery);(function(){var a,b,f,c,d={}.hasOwnProperty,g=function(){this.options_index=0;this.parsed=[]};g.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};g.prototype.add_group=function(a){var b,c,d,f,g,j;b=this.parsed.length;this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled});g=a.childNodes;j=[];d=0;for(f=g.length;d<f;d++)c=g[d],j.push(this.add_option(c,b,a.disabled));return j};g.prototype.add_option=
function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};g.prototype.escapeExpression=function(a){var b;
if(null==a||!1===a)return"";if(!/[\&\<\>\"\'\`]/.test(a))return a;b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(a){return b[a]||"&amp;"})};g.select_to_array=function(a){var b,c,d,f;b=new g;f=a.childNodes;c=0;for(d=f.length;c<d;c++)a=f[c],b.add_node(a);return b.parsed};var j=function(a,b){this.form_field=a;this.options=null!=b?b:{};j.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),
this.setup(),this.set_up_html(),this.register_observers())};j.prototype.set_default_values=function(){var a=this;this.click_test_action=function(b){return a.test_active_click(b)};this.activate_action=function(b){return a.activate_field(b)};this.results_showing=this.mouse_on_container=this.active_field=!1;this.result_highlighted=null;this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:
!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0;this.max_selected_options=
this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!1;this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0;return this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0};j.prototype.set_default_text=function(){this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):
this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||j.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||j.default_single_text;return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||j.default_no_result_text};j.prototype.mouse_enter=function(){return this.mouse_on_container=!0};j.prototype.mouse_leave=function(){return this.mouse_on_container=!1};j.prototype.input_focus=
function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()};j.prototype.input_blur=function(){var a=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return a.blur_test()},100)};j.prototype.results_option_build=function(a){var b,c,d,f,g;b="";g=this.results_data;d=0;for(f=g.length;d<f;d++)c=g[d],b=c.group?b+this.result_add_group(c):b+this.result_add_option(c),
null!=a&&a.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b};j.prototype.result_add_option=function(a){var b,c;if(!a.search_match||!this.include_option_in_results(a))return"";b=[];!a.disabled&&(!a.selected||!this.is_multiple)&&b.push("active-result");a.disabled&&(!a.selected||!this.is_multiple)&&b.push("disabled-result");a.selected&&b.push("result-selected");null!=a.group_array_index&&b.push("group-option");""!==
a.classes&&b.push(a.classes);c=document.createElement("li");c.className=b.join(" ");c.style.cssText=a.style;c.setAttribute("data-option-array-index",a.array_index);c.innerHTML=a.search_text;return this.outerHTML(c)};j.prototype.result_add_group=function(a){var b;if(!a.search_match&&!a.group_match||!(0<a.active_options))return"";b=document.createElement("li");b.className="group-result";b.innerHTML=a.search_text;return this.outerHTML(b)};j.prototype.results_update_field=function(){this.set_default_text();
this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};j.prototype.reset_single_select_options=function(){var a,b,c,d,f;d=this.results_data;f=[];b=0;for(c=d.length;b<c;b++)a=d[b],a.selected?f.push(a.selected=!1):f.push(void 0);return f};j.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};j.prototype.results_search=function(){return this.results_showing?
this.winnow_results():this.results_show()};j.prototype.winnow_results=function(){var a,b,c,d,f,g,j,l,n,q,t;this.no_results_clear();c=0;f=this.get_search_text();a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");l=RegExp(a,"i");b=this.get_search_regex(a);t=this.results_data;n=0;for(q=t.length;n<q;n++)if(a=t[n],a.search_match=!1,d=null,this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(d=this.results_data[a.group_array_index],
0===d.active_options&&d.search_match&&(c+=1),d.active_options+=1),!a.group||this.group_search))a.search_text=a.group?a.label:a.text,a.search_match=this.search_string_match(a.search_text,b),a.search_match&&!a.group&&(c+=1),a.search_match?(f.length&&(g=a.search_text.search(l),j=a.search_text.substr(0,g+f.length)+"</em>"+a.search_text.substr(g+f.length),a.search_text=j.substr(0,g)+"<em>"+j.substr(g)),null!=d&&(d.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&
(a.search_match=!0);this.result_clear_highlight();if(1>c&&f.length)return this.update_results_content(""),this.no_results(f);this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()};j.prototype.get_search_regex=function(a){return RegExp((this.search_contains?"":"^")+a,"i")};j.prototype.search_string_match=function(a,b){var c,d,f,g;if(b.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===a.indexOf("[")))if(d=a.replace(/\[|\]/g,"").split(" "),
d.length){f=0;for(g=d.length;f<g;f++)if(c=d[f],b.test(c))return!0}};j.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;this.selected_option_count=0;d=this.form_field.options;b=0;for(c=d.length;b<c;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count};j.prototype.choices_click=function(a){a.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()};j.prototype.keyup_checker=
function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};
j.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)};j.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"};j.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||a.empty?!1:!0};j.prototype.search_results_touchstart=function(a){this.touch_started=!0;return this.search_results_mouseover(a)};
j.prototype.search_results_touchmove=function(a){this.touch_started=!1;return this.search_results_mouseout(a)};j.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)};j.prototype.outerHTML=function(a){var b;if(a.outerHTML)return a.outerHTML;b=document.createElement("div");b.appendChild(a);return b.innerHTML};j.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:/iP(od|hone)/i.test(window.navigator.userAgent)||
/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0};j.default_multiple_text="Select Some Options";j.default_single_text="Select an Option";j.default_no_result_text="No results match";b=j;a=jQuery;a.fn.extend({chosen:function(c){return!b.browser_is_supported()?this:this.each(function(){var b,d;b=a(this);d=b.data("chosen");"destroy"===c&&d instanceof f?d.destroy():d instanceof f||b.data("chosen",new f(this,c))})}});var n=function(){return c=n.__super__.constructor.apply(this,
arguments)},l=n,q=function(){this.constructor=l},t;for(t in b)d.call(b,t)&&(l[t]=b[t]);q.prototype=b.prototype;l.prototype=new q;l.__super__=b.prototype;n.prototype.setup=function(){this.form_field_jq=a(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};n.prototype.set_up_html=function(){var b;b=["chosen-container"];b.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&
b.push(this.form_field.className);this.is_rtl&&b.push("chosen-rtl");b={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=a("<div />",b);this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):
this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();
this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",
{chosen:this})};n.prototype.register_observers=function(){var a=this;this.container.bind("touchstart.chosen",function(b){a.container_mousedown(b)});this.container.bind("touchend.chosen",function(b){a.container_mouseup(b)});this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)});this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)});this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)});this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)});
this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)});this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)});this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)});this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)});this.search_results.bind("touchmove.chosen",
function(b){a.search_results_touchmove(b)});this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)});this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)});this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)});this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)});this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)});this.search_field.bind("blur.chosen",function(b){a.input_blur(b)});
this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)});this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)});this.search_field.bind("focus.chosen",function(b){a.input_focus(b)});this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)});this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)});return this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",
function(a){a.preventDefault()})};n.prototype.destroy=function(){a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex);this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};n.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=
!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled");this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)};n.prototype.container_mousedown=function(b){if(!this.is_disabled&&(b&&("mousedown"===b.type&&!this.results_showing)&&b.preventDefault(),!(null!=b&&a(b.target).hasClass("search-choice-close")))){if(this.active_field){if(!this.is_multiple&&
b&&(a(b.target)[0]===this.selected_item[0]||a(b.target).parents("a.chosen-single").length))b.preventDefault(),this.results_toggle()}else this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show();return this.activate_field()}};n.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)};n.prototype.search_results_mousewheel=function(a){var b;a.originalEvent&&
(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail);if(null!=b)return a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())};n.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};n.prototype.close_field=function(){a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=!1;this.results_hide();
this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};n.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};n.prototype.test_active_click=function(b){b=a(b.target).closest(".chosen-container");return b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()};
n.prototype.results_build=function(){this.parsing=!0;this.selected_option_count=null;this.results_data=g.select_to_array(this.form_field);this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch")));
this.update_results_content(this.results_option_build({first:!0}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=!1};n.prototype.result_do_highlight=function(a){var b,c,d,f;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");c=parseInt(this.search_results.css("maxHeight"),10);f=this.search_results.scrollTop();d=c+f;b=this.result_highlight.position().top+this.search_results.scrollTop();
a=b+this.result_highlight.outerHeight();if(a>=d)return this.search_results.scrollTop(0<a-c?a-c:0);if(b<f)return this.search_results.scrollTop(b)}};n.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};n.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop");
this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};n.prototype.update_results_content=function(a){return this.search_results.html(a)};n.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=
!1};n.prototype.set_tab_index=function(){var a;if(this.form_field.tabIndex)return a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a};n.prototype.set_label_behavior=function(){var b=this;this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?
b.container_mousedown(a):b.activate_field()})};n.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};n.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=
c,this.result_select(b),this.search_field.focus()};n.prototype.search_results_mouseover=function(b){if(b=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first())return this.result_do_highlight(b)};n.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()};n.prototype.choice_build=function(b){var c,d=this;c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>");b.disabled?c.addClass("search-choice-disabled"):
(b=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),b.bind("click.chosen",function(a){return d.choice_destroy_link_click(a)}),c.append(b));return this.search_container.before(c)};n.prototype.choice_destroy_link_click=function(b){b.preventDefault();b.stopPropagation();if(!this.is_disabled)return this.choice_destroy(a(b.target))};n.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),
this.is_multiple&&(0<this.choices_count()&&1>this.search_field.val().length)&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()};n.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=!0;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};n.prototype.results_reset_cleanup=function(){this.current_selectedIndex=
this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};n.prototype.result_select=function(a){var b;if(this.result_highlight){b=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options();b=this.results_data[b[0].getAttribute("data-option-array-index")];b.selected=
!0;this.form_field.options[b.options_index].selected=!0;this.selected_option_count=null;this.is_multiple?this.choice_build(b):this.single_set_selected_text(b.text);(!a.metaKey&&!a.ctrlKey||!this.is_multiple)&&this.results_hide();this.search_field.val("");(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[b.options_index].value});this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};
n.prototype.single_set_selected_text=function(a){null==a&&(a=this.default_text);a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.selected_item.find("span").text(a)};n.prototype.result_deselect=function(a){a=this.results_data[a];if(this.form_field.options[a.options_index].disabled)return!1;a.selected=!1;this.form_field.options[a.options_index].selected=!1;this.selected_option_count=
null;this.result_clear_highlight();this.results_showing&&this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[a.options_index].value});this.search_field_scale();return!0};n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")};n.prototype.get_search_text=
function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()};n.prototype.winnow_results_set_highlight=function(){var a;a=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];a=a.length?a.first():this.search_results.find(".active-result").first();if(null!=a)return this.result_do_highlight(a)};n.prototype.no_results=function(b){var c;c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');
c.find("span").first().html(b);this.search_results.append(c);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};n.prototype.keydown_arrow=function(){var a;if(this.results_showing&&this.result_highlight){if(a=this.result_highlight.nextAll("li.active-result").first())return this.result_do_highlight(a)}else return this.results_show()};n.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&
!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};n.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();if(a.length&&
!a.hasClass("search-choice-disabled"))return this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};n.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};n.prototype.keydown_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();8!==b&&this.pending_backstroke&&this.clear_backstroke();
switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}};n.prototype.search_field_scale=function(){var b,c,d,f,g;if(this.is_multiple){b="position:absolute; left: -1000px; top: -1000px; display:none;";
d="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");f=0;for(g=d.length;f<g;f++)c=d[f],b+=c+":"+this.search_field.css(c)+";";b=a("<div />",{style:b});b.text(this.search_field.val());a("body").append(b);c=b.width()+25;b.remove();b=this.container.outerWidth();c>b-10&&(c=b-10);return this.search_field.css({width:c+"px"})}};f=n}).call(this);(function(a){var b,f,c,d,g=0,j={isMsie:function(){var a=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return a?parseInt(a[2],10):!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},bind:a.proxy,
bindAll:function(b){var c,d;for(d in b)a.isFunction(c=b[d])&&(b[d]=a.proxy(c,b))},indexOf:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},each:a.each,map:a.map,filter:a.grep,every:function(b,c){var d=!0;if(!b)return d;a.each(b,function(a,f){if(!(d=c.call(null,f,a,b)))return!1});return!!d},some:function(b,c){var d=!1;if(!b)return d;a.each(b,function(a,f){if(d=c.call(null,f,a,b))return!1});return!!d},mixin:a.extend,getUniqueId:function(){return g++},defer:function(a){setTimeout(a,
0)},debounce:function(a,b,c){var d,f;return function(){var g=this,h=arguments,j;j=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(f=a.apply(g,h))},b);j&&(f=a.apply(g,h));return f}},throttle:function(a,b){var c,d,f,g,h,j;h=0;j=function(){h=new Date;f=null;g=a.apply(c,d)};return function(){var l=new Date,p=b-(l-h);c=this;d=arguments;0>=p?(clearTimeout(f),f=null,h=l,g=a.apply(c,d)):f||(f=setTimeout(j,p));return g}},tokenizeQuery:function(b){return a.trim(b).toLowerCase().split(/[\s]+/)},tokenizeText:function(b){return a.trim(b).toLowerCase().split(/[\s\-_]+/)},
getProtocol:function(){return location.protocol},noop:function(){}},n,l=/\s+/;n={on:function(a,b){var c;if(!b)return this;this._callbacks=this._callbacks||{};for(a=a.split(l);c=a.shift();)this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push(b);return this},trigger:function(a,b){var c,d;if(!this._callbacks)return this;for(a=a.split(l);c=a.shift();)if(d=this._callbacks[c])for(var f=0;f<d.length;f+=1)d[f].call(this,{type:c,data:b});return this}};var q=function(b){(!b||!b.el)&&a.error("EventBus initialized without el");
this.$el=a(b.el)};j.mixin(q.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+a,b)}});var t=function(a){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=RegExp("^"+this.prefix)},p=function(a){return JSON.stringify(j.isUndefined(a)?null:a)},h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(y){h=null}j.mixin(t.prototype,h&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+
this.ttlKey},get:function(a){this.isExpired(a)&&this.remove(a);a=h.getItem(this._prefix(a));return JSON.parse(a)},set:function(a,b,c){j.isNumber(c)?h.setItem(this._ttlKey(a),p((new Date).getTime()+c)):h.removeItem(this._ttlKey(a));return h.setItem(this._prefix(a),p(b))},remove:function(a){h.removeItem(this._ttlKey(a));h.removeItem(this._prefix(a));return this},clear:function(){var a,b,c=[],d=h.length;for(a=0;a<d;a++)(b=h.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=
c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){a=h.getItem(this._ttlKey(a));a=JSON.parse(a);return j.isNumber(a)&&(new Date).getTime()>a?!0:!1}}:{get:j.noop,set:j.noop,remove:j.noop,clear:j.noop,isExpired:j.noop});var w=function(a){j.bindAll(this);a=a||{};this.sizeLimit=a.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]};j.mixin(w.prototype,{get:function(a){return this.cache[a]},set:function(a,b){var c;this.cachedKeysByAge.length===this.sizeLimit&&(c=this.cachedKeysByAge.shift(),
delete this.cache[c]);this.cache[a]=b;this.cachedKeysByAge.push(a)}});var D=function(a){j.bindAll(this);a=j.isString(a)?{url:a}:a;E=E||new w;B=j.isNumber(a.maxParallelRequests)?a.maxParallelRequests:B||6;this.url=a.url;this.wildcard=a.wildcard||"%QUERY";this.filter=a.filter;this.replace=a.replace;this.ajaxSettings={type:"get",cache:a.cache,timeout:a.timeout,dataType:a.dataType||"json",beforeSend:a.beforeSend};this._get=(/^throttle$/i.test(a.rateLimitFn)?j.throttle:j.debounce)(this._get,a.rateLimitWait||
300)},H=0,r={},B,E;j.mixin(D.prototype,{_get:function(a,b){function c(f){var g=d.filter?d.filter(f):f;b&&b(g);E.set(a,f)}var d=this;H<B?this._sendRequest(a).done(c):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(b){function c(){H--;r[b]=null;d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var d=this,f=r[b];f||(H++,f=r[b]=a.ajax(b,this.ajaxSettings).always(c));return f},get:function(a,b){var c=this,d=encodeURIComponent(a||""),f,b=b||j.noop,
d=this.replace?this.replace(this.url,d):this.url.replace(this.wildcard,d);(f=E.get(d))?j.defer(function(){b(c.filter?c.filter(f):f)}):this._get(d,b);return!!f}});var F=function(b){j.bindAll(this);j.isString(b.template)&&!b.engine&&a.error("no template engine specified");!b.local&&(!b.prefetch&&!b.remote)&&a.error("one of local, prefetch, or remote is required");this.name=b.name||j.getUniqueId();this.limit=b.limit||5;this.minLength=b.minLength||1;this.header=b.header;this.footer=b.footer;this.valueKey=
b.valueKey||"value";var c=b.template,d=b.engine,f=this.valueKey;j.isFunction(c)||(j.isString(c)?(c=d.compile(c),c=j.bind(c.render,c)):c=function(a){return"<p>"+a[f]+"</p>"});this.template=c;this.local=b.local;this.prefetch=b.prefetch;this.remote=b.remote;this.itemHash={};this.adjacencyList={};this.storage=b.name?new t(b.name):null};b="thumbprint";f="protocol";c="itemHash";d="adjacencyList";j.mixin(F.prototype,{_processLocalData:function(a){this._mergeProcessedData(this._processData(a))},_loadPrefetchData:function(g){function h(a){var a=
g.filter?g.filter(a):a,a=l._processData(a),n=a.itemHash,r=a.adjacencyList;l.storage&&(l.storage.set(c,n,g.ttl),l.storage.set(d,r,g.ttl),l.storage.set(b,p,g.ttl),l.storage.set(f,j.getProtocol(),g.ttl));l._mergeProcessedData(a)}var l=this,p="0.9.3"+(g.thumbprint||""),n,r,q,J;this.storage&&(n=this.storage.get(b),r=this.storage.get(f),q=this.storage.get(c),J=this.storage.get(d));n=n!==p||r!==j.getProtocol();g=j.isString(g)?{url:g}:g;g.ttl=j.isNumber(g.ttl)?g.ttl:864E5;q&&J&&!n?(this._mergeProcessedData({itemHash:q,
adjacencyList:J}),q=a.Deferred().resolve()):q=a.getJSON(g.url).done(h);return q},_transformDatum:function(a){var b=j.isString(a)?a:a[this.valueKey],c=a.tokens||j.tokenizeText(b),b={value:b,tokens:c};j.isString(a)?(b.datum={},b.datum[this.valueKey]=a):b.datum=a;b.tokens=j.filter(b.tokens,function(a){return!j.isBlankString(a)});b.tokens=j.map(b.tokens,function(a){return a.toLowerCase()});return b},_processData:function(a){var b=this,c={},d={};j.each(a,function(a,f){var g=b._transformDatum(f),h=j.getUniqueId(g.value);
c[h]=g;j.each(g.tokens,function(a,b){var c=b.charAt(0),c=d[c]||(d[c]=[h]);!~j.indexOf(c,h)&&c.push(h)})});return{itemHash:c,adjacencyList:d}},_mergeProcessedData:function(a){var b=this;j.mixin(this.itemHash,a.itemHash);j.each(a.adjacencyList,function(a,c){var d=b.adjacencyList[a];b.adjacencyList[a]=d?d.concat(c):c})},_getLocalSuggestions:function(a){var b=this,c=[],d=[],f,g=[];j.each(a,function(a,b){var d=b.charAt(0);!~j.indexOf(c,d)&&c.push(d)});j.each(c,function(a,c){var g=b.adjacencyList[c];if(!g)return!1;
d.push(g);if(!f||g.length<f.length)f=g});if(d.length<c.length)return[];j.each(f,function(c,f){var h=b.itemHash[f];j.every(d,function(a){return~j.indexOf(a,f)})&&j.every(a,function(a){return j.some(h.tokens,function(b){return 0===b.indexOf(a)})})&&g.push(h)});return g},initialize:function(){var b;this.local&&this._processLocalData(this.local);this.transport=this.remote?new D(this.remote):null;b=this.prefetch?this._loadPrefetchData(this.prefetch):a.Deferred().resolve();this.local=this.prefetch=this.remote=
null;this.initialize=function(){return b};return b},getSuggestions:function(a,b){function c(a){g=g.slice(0);j.each(a,function(a,b){var c=d._transformDatum(b);!j.some(g,function(a){return c.value===a.value})&&g.push(c);return g.length<d.limit});b&&b(g)}var d=this,f,g,h=!1;a.length<this.minLength||(f=j.tokenizeQuery(a),g=this._getLocalSuggestions(f).slice(0,this.limit),g.length<this.limit&&this.transport&&(h=this.transport.get(a,c)),!h&&b&&b(g))}});var x=function(b){var c=this;j.bindAll(this);this.specialKeyCodeMap=
{9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=a(b.hint);this.$input=a(b.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(j.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){c.specialKeyCodeMap[a.which||a.keyCode]||j.defer(c._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=a("<span></span>").css({position:"absolute",
left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:this.$input.css("font-family"),fontSize:this.$input.css("font-size"),fontStyle:this.$input.css("font-style"),fontVariant:this.$input.css("font-variant"),fontWeight:this.$input.css("font-weight"),wordSpacing:this.$input.css("word-spacing"),letterSpacing:this.$input.css("letter-spacing"),textIndent:this.$input.css("text-indent"),textRendering:this.$input.css("text-rendering"),textTransform:this.$input.css("text-transform")}).insertAfter(this.$input)};
j.mixin(x.prototype,n,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(a){var b=this.specialKeyCodeMap[a.which||a.keyCode];b&&this.trigger(b+"Keyed",a)},_compareQueryToInputValue:function(){var a=this.getInputValue(),b;b=this.query;var c=a;b=(b||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");c=(c||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");(b=b===c)&&this.query.length!==a.length?this.trigger("whitespaceChanged",{value:this.query}):
b||this.trigger("queryChanged",{value:this.query=a})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a);!b&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},
setHintValue:function(a){this.$hint.val(a)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var a=this.$input.val().length,b=this.$input[0].selectionStart;return j.isNumber(b)?b===a:document.selection?(b=document.selection.createRange(),b.moveStart("character",-a),a===b.text.length):!0}});var u=function(b){j.bindAll(this);
this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=a(b.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)},A=function(a){return a.data("suggestion")},C={display:"block"},K={whiteSpace:"nowrap",cursor:"pointer"},I={whiteSpace:"normal"};j.mixin(u.prototype,n,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=
!1},_handleMouseover:function(b){b=a(b.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");b.addClass("tt-is-under-cursor")},_handleSelection:function(b){b=a(b.currentTarget);this.trigger("suggestionSelected",A(b))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(a){var b,c;this.isVisible()&&(b=this._getSuggestions(),c=b.filter(".tt-is-under-cursor"),c.removeClass("tt-is-under-cursor"),a=b.index(c)+a,a=(a+1)%(b.length+
1)-1,-1===a?this.trigger("cursorRemoved"):(-1>a&&(a=b.length-1),b=b.eq(a).addClass("tt-is-under-cursor"),this._ensureVisibility(b),this.trigger("cursorMoved",A(b))))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(a){var b=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),c=this.$menu.scrollTop(),d=a.position().top,a=d+a.outerHeight(!0);0>d?this.$menu.scrollTop(c+d):b<a&&this.$menu.scrollTop(c+
(a-b))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isMouseOverDropdown=this.isOpen=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){var b=
{left:"0",right:"auto"},c={left:"auto",right:" 0"};"ltr"===a?this.$menu.css(b):this.$menu.css(c)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var a=this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<a.length?A(a):null},getFirstSuggestion:function(){var a=this._getSuggestions().first();return 0<a.length?A(a):null},renderSuggestions:function(b,c){var d="tt-dataset-"+b.name,f,g;g=this.$menu.find("."+
d);var h,l,p;0===g.length&&(g=a('<span class="tt-suggestions"></span>').css(C),g=a("<div></div>").addClass(d).append(b.header).append(g).append(b.footer).appendTo(this.$menu));0<c.length?(this.isEmpty=!1,this.isOpen&&this._show(),h=document.createElement("div"),l=document.createDocumentFragment(),j.each(c,function(c,d){d.dataset=b.name;f=b.template(d.datum);h.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",f);p=a(h.firstChild).css(K).data("suggestion",d);p.children().each(function(){a(this).css(I)});
l.appendChild(p[0])}),g.show().find(".tt-suggestions").html(l)):this.clearSuggestions(b.name);this.trigger("suggestionsRendered")},clearSuggestions:function(a){var a=a?this.$menu.find(".tt-dataset-"+a):this.$menu.find('[class^="tt-dataset-"]'),b=a.find(".tt-suggestions");a.hide();b.empty();0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}});var R=function(b){var c,d;j.bindAll(this);var f=b.input;c=a(S.wrapper);d=a(S.dropdown);var f=a(f),g=a(S.hint);c=c.css(V.wrapper);d=d.css(V.dropdown);
g.css(V.hint).css({backgroundAttachment:f.css("background-attachment"),backgroundClip:f.css("background-clip"),backgroundColor:f.css("background-color"),backgroundImage:f.css("background-image"),backgroundOrigin:f.css("background-origin"),backgroundPosition:f.css("background-position"),backgroundRepeat:f.css("background-repeat"),backgroundSize:f.css("background-size")});f.data("ttAttrs",{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")});
f.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(V.query);try{!f.attr("dir")&&f.attr("dir","auto")}catch(h){}this.$node=f.wrap(c).parent().prepend(g).append(d);this.datasets=b.datasets;this.dir=null;this.eventBus=b.eventBus;b=this.$node.find(".tt-dropdown-menu");c=this.$node.find(".tt-query");d=this.$node.find(".tt-hint");this.dropdownView=(new u({menu:b})).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",
this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=(new x({input:c,hint:d})).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",
this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)},S={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',
dropdown:'<span class="tt-dropdown-menu"></span>'},V={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};j.isMsie()&&j.mixin(V.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});j.isMsie()&&7>=j.isMsie()&&
(j.mixin(V.wrapper,{display:"inline",zoom:"1"}),j.mixin(V.query,{marginTop:"-1px"}));j.mixin(R.prototype,n,{_managePreventDefault:function(a){var b=a.data,c;c=!1;switch(a.type){case "tabKeyed":a=this.inputView.getHintValue();c=this.inputView.getInputValue();c=a&&a!==c;break;case "upKeyed":case "downKeyed":c=!b.shiftKey&&!b.ctrlKey&&!b.metaKey}c&&b.preventDefault()},_setLanguageDirection:function(){var a=this.inputView.getLanguageDirection();a!==this.dir&&(this.dir=a,this.$node.css("direction",a),
this.dropdownView.setLanguageDirection(a))},_updateHint:function(){var a=this.dropdownView.getFirstSuggestion(),a=a?a.value:null,b=this.dropdownView.isVisible(),c=this.inputView.isOverflow();a&&(b&&!c)&&(b=this.inputView.getInputValue(),c=b.replace(/\s{2,}/g," ").replace(/^\s+/g,""),c=j.escapeRegExChars(c),c=RegExp("^(?:"+c+")(.*$)","i"),a=c.exec(a),this.inputView.setHintValue(b+(a?a[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},
_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(a){this.inputView.setInputValue(a.data.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(a){this.dropdownView["blured"===a.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(a){var b=a.data;if(!b.shiftKey&&!b.ctrlKey&&!b.metaKey)this.dropdownView["upKeyed"===a.type?"moveCursorUp":"moveCursorDown"]()},
_handleSelection:function(a){var b="suggestionSelected"===a.type,c=b?a.data:this.dropdownView.getSuggestionUnderCursor();c&&(this.inputView.setInputValue(c.value),b?this.inputView.focus():a.data.preventDefault(),b&&j.isMsie()?j.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",c.datum,c.dataset))},_getSuggestions:function(){var a=this,b=this.inputView.getQuery();j.isBlankString(b)||j.each(this.datasets,function(c,d){d.getSuggestions(b,function(c){b===a.inputView.getQuery()&&
a.dropdownView.renderSuggestions(d,c)})})},_autocomplete:function(a){var b;if("rightKeyed"===a.type||"leftKeyed"===a.type)if(b=this.inputView.isCursorAtEnd(),a="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===a.type:"rightKeyed"===a.type,!b||a)return;b=this.inputView.getQuery();a=this.inputView.getHintValue();""!==a&&b!==a&&(b=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(b.value),this.eventBus.trigger("autocompleted",b.datum,b.dataset))},_propagateEvent:function(a){this.eventBus.trigger(a.type)},
destroy:function(){this.inputView.destroy();this.dropdownView.destroy();var a=this.$node,b=a.find(".tt-query");j.each(b.data("ttAttrs"),function(a,c){j.isUndefined(c)?b.removeAttr(a):b.attr(a,c)});b.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(a);a.remove();this.$node=null},setQuery:function(a){this.inputView.setQuery(a);this.inputView.setInputValue(a);this._clearHint();this._clearSuggestions();this._getSuggestions()}});var L={},J;J={initialize:function(b){var c,b=j.isArray(b)?
b:[b];0===b.length&&a.error("no datasets provided");c=j.map(b,function(a){var b=L[a.name]?L[a.name]:new F(a);a.name&&(L[a.name]=b);return b});return this.each(function(){var b=a(this),d,f=new q({el:b});d=j.map(c,function(a){return a.initialize()});b.data("ttView",new R({input:b,eventBus:f=new q({el:b}),datasets:c}));a.when.apply(a,d).always(function(){j.defer(function(){f.trigger("initialized")})})})},destroy:function(){return this.each(function(){var b=a(this),c=b.data("ttView");c&&(c.destroy(),
b.removeData("ttView"))})},setQuery:function(b){return this.each(function(){var c=a(this).data("ttView");c&&c.setQuery(b)})}};jQuery.fn.typeahead=function(a){return J[a]?J[a].apply(this,[].slice.call(arguments,1)):J.initialize.apply(this,arguments)}})(window.jQuery);(function(a,b,f,c){function d(b,c){this.element=b;this.options=a.extend(!0,{},j,c);this.options.share=c.share;this._defaults=j;this._name=g;this.init()}var g="sharrre",j={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:f.location.href,text:f.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},
click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,
counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},n={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",
delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},l={googlePlus:function(c){var d=c.options.buttons.googlePlus;a(c.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+d.size+'" data-href="'+(""!==d.url?d.url:c.options.url)+'" data-annotation="'+
d.annotation+'"></div></div>');b.___gcfg={lang:c.options.buttons.googlePlus.lang};"undefined"===typeof gapi?(c=f.createElement("script"),c.type="text/javascript",c.async=!0,c.src="//apis.google.com/js/plusone.js",d=f.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d)):gapi.plusone.go()},facebook:function(b){var c=b.options.buttons.facebook;a(b.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==c.url?c.url:b.options.url)+
'" data-send="'+c.send+'" data-layout="'+c.layout+'" data-width="'+c.width+'" data-show-faces="'+c.faces+'" data-action="'+c.action+'" data-colorscheme="'+c.colorscheme+'" data-font="'+c.font+'" data-via="'+c.via+'"></div></div>');if("undefined"===typeof FB){var d=f.getElementsByTagName("script")[0];f.getElementById("facebook-jssdk")||(b=f.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.net/"+c.lang+"/all.js#xfbml=1",d.parentNode.insertBefore(b,d))}else FB.XFBML.parse()},twitter:function(b){var c=
b.options.buttons.twitter;a(b.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==c.url?c.url:b.options.url)+'" data-count="'+c.count+'" data-text="'+b.options.text+'" data-via="'+c.via+'" data-hashtags="'+c.hashtags+'" data-related="'+c.related+'" data-lang="'+c.lang+'">Tweet</a></div>');"undefined"===typeof twttr?(b=f.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//platform.twitter.com/widgets.js",
c=f.getElementsByTagName("script")[0],c.parentNode.insertBefore(b,c)):a.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(b){var c=b.options.buttons.digg;a(b.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+c.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==c.url?c.url:b.options.url)+'"></a></div>');"undefined"===typeof __DBW&&(b=f.createElement("SCRIPT"),c=f.getElementsByTagName("SCRIPT")[0],
b.type="text/javascript",b.async=!0,b.src="//widgets.digg.com/buttons.js",c.parentNode.insertBefore(b,c))},delicious:function(b){if("tall"==b.options.buttons.delicious.size)var c="width:50px;",d="height:35px;width:50px;font-size:15px;line-height:35px;",f="height:18px;line-height:18px;margin-top:3px;";else c="width:93px;",d="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",f="float:left;height:20px;line-height:20px;";var g=b.shorterTotal(b.options.count.delicious);"undefined"===
typeof g&&(g=0);a(b.element).find(".buttons").append('<div class="button delicious"><div style="'+c+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+d+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+g+'</div><div style="'+f+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>');
a(b.element).find(".delicious").on("click",function(){b.openPopup("delicious")})},stumbleupon:function(c){var d=c.options.buttons.stumbleupon;a(c.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+d.layout+'" location="'+(""!==d.url?d.url:c.options.url)+'"></su:badge></div>');"undefined"===typeof STMBLPN?(c=f.createElement("script"),c.type="text/javascript",c.async=!0,c.src="//platform.stumbleupon.com/1/widgets.js",d=f.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,
d),s=b.setTimeout(function(){"undefined"!==typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(c){var d=c.options.buttons.linkedin;a(c.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==d.url?d.url:c.options.url)+'" data-counter="'+d.counter+'"><\/script></div>');"undefined"===typeof b.IN?(c=f.createElement("script"),c.type="text/javascript",c.async=!0,c.src="//platform.linkedin.com/in.js",
d=f.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d)):b.IN.init()},pinterest:function(b){var c=b.options.buttons.pinterest;a(b.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==c.url?c.url:b.options.url)+"&media="+c.media+"&description="+c.description+'" class="pin-it-button" count-layout="'+c.layout+'">Pin It</a></div>');b=f.createElement("script");b.type="text/javascript";b.async=!0;b.src="//assets.pinterest.com/js/pinit.js";
c=f.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}},q={googlePlus:function(){},facebook:function(){fb=b.setInterval(function(){"undefined"!==typeof FB&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}),clearInterval(fb))},1E3)},twitter:function(){tw=
b.setInterval(function(){"undefined"!==typeof twttr&&(twttr.events.bind("tweet",function(a){a&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1E3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},t={googlePlus:function(a){b.open("https://plus.google.com/share?hl="+a.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==a.buttons.googlePlus.url?a.buttons.googlePlus.url:a.url),"","toolbar=0, status=0, width=900, height=500")},
facebook:function(a){b.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==a.buttons.facebook.url?a.buttons.facebook.url:a.url)+"&t="+a.text+"","","toolbar=0, status=0, width=900, height=500")},twitter:function(a){b.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(a.text)+"&url="+encodeURIComponent(""!==a.buttons.twitter.url?a.buttons.twitter.url:a.url)+(""!==a.buttons.twitter.via?"&via="+a.buttons.twitter.via:"")+(""!==a.buttons.twitter.hashtags?"&hashtags="+
a.buttons.twitter.hashtags:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(a){b.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==a.buttons.digg.url?a.buttons.digg.url:a.url)+"&title="+a.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(a){b.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&title="+a.text,"delicious",
"toolbar=no,width=550,height=550")},stumbleupon:function(a){b.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==a.buttons.stumbleupon.url?a.buttons.stumbleupon.url:a.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(a){b.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==a.buttons.linkedin.url?a.buttons.linkedin.url:a.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(a){b.open("http://pinterest.com/pin/create/button/?url="+
encodeURIComponent(""!==a.buttons.pinterest.url?a.buttons.pinterest.url:a.url)+"&media="+encodeURIComponent(a.buttons.pinterest.media)+"&description="+a.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};d.prototype.init=function(){var b=this;""!==this.options.urlCurl&&(n.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",n.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon");a(this.element).addClass(this.options.className);"undefined"!==typeof a(this.element).data("title")&&
(this.options.title=a(this.element).attr("data-title"));"undefined"!==typeof a(this.element).data("url")&&(this.options.url=a(this.element).data("url"));"undefined"!==typeof a(this.element).data("text")&&(this.options.text=a(this.element).data("text"));a.each(this.options.share,function(a,c){!0===c&&b.options.shareTotal++});!0===b.options.enableCounter?a.each(this.options.share,function(a,c){if(!0===c)try{b.getSocialJson(a)}catch(d){}}):""!==b.options.template?this.options.render(this,this.options):
this.loadButtons();a(this.element).hover(function(){0===a(this).find(".buttons").length&&!0===b.options.enableHover&&b.loadButtons();b.options.hover(b,b.options)},function(){b.options.hide(b,b.options)});a(this.element).click(function(){b.options.click(b,b.options);return!1})};d.prototype.loadButtons=function(){var b=this;a(this.element).append('<div class="buttons"></div>');a.each(b.options.share,function(a,c){if(!0==c&&(l[a](b),!0===b.options.enableTracking))q[a]()})};d.prototype.getSocialJson=
function(b){var c=this,d=0,f=n[b].replace("{url}",encodeURIComponent(this.options.url));!0===this.options.buttons[b].urlCount&&""!==this.options.buttons[b].url&&(f=n[b].replace("{url}",this.options.buttons[b].url));""!=f&&""!==c.options.urlCurl?a.getJSON(f,function(a){"undefined"!==typeof a.count?(a=a.count+"",a=a.replace("\u00c2\u00a0",""),d+=parseInt(a,10)):a.data&&0<a.data.length&&"undefined"!==typeof a.data[0].total_count?d+=parseInt(a.data[0].total_count,10):"undefined"!==typeof a[0]&&(d+=parseInt(a[0].total_posts,
10));c.options.count[b]=d;c.options.total+=d;c.renderer();c.rendererPerso()}).error(function(){c.options.count[b]=0;c.rendererPerso()}):(c.renderer(),c.options.count[b]=0,c.rendererPerso())};d.prototype.rendererPerso=function(){var a=0;for(e in this.options.count)a++;a===this.options.shareTotal&&this.options.render(this,this.options)};d.prototype.renderer=function(){var b=this.options.total,c=this.options.template;!0===this.options.shorterTotal&&(b=this.shorterTotal(b));""!==c?(c=c.replace("{total}",
b),a(this.element).html(c)):a(this.element).html('<div class="box"><a class="count" href="#">'+b+"</a>"+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")};d.prototype.shorterTotal=function(a){1E6<=a?a=(a/1E6).toFixed(2)+"M":1E3<=a&&(a=(a/1E3).toFixed(1)+"k");return a};d.prototype.openPopup=function(a){t[a](this.options);if(!0===this.options.enableTracking){var b={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",
action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",b[a].site,b[a].action])}};d.prototype.simulateClick=function(){var b=a(this.element).html();a(this.element).html(b.replace(this.options.total,this.options.total+1))};d.prototype.update=function(a,b){""!==a&&(this.options.url=a);""!==b&&(this.options.text=
b)};a.fn[g]=function(b){var f=arguments;if(b===c||"object"===typeof b)return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new d(this,b))});if("string"===typeof b&&"_"!==b[0]&&"init"!==b)return this.each(function(){var c=a.data(this,"plugin_"+g);c instanceof d&&"function"===typeof c[b]&&c[b].apply(c,Array.prototype.slice.call(f,1))})}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){if(c[a])return c[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return c.bind.apply(this,arguments);f.error("Method "+a+" does not exist on jQuery.regula")}var f=a,c={bind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&f.extend(!0,b,{elements:this.get()}));regula.bind(b);return this},unbind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&
f.extend(!0,b,{elements:this.get()}));regula.unbind(b);return this},isBound:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&f.extend(!0,b,{element:this.get(0)}));regula.isBound(b);return this},validate:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&f.extend(!0,b,{elements:this.get()}));return regula.validate(b)},custom:function(a){regula.custom(a);return this},compound:function(a){regula.compound(a);return this},override:function(a){regula.override(a);return this}};
c.on=c.bind;c.off=c.unbind;f.fn.regula=b;f.regula=b});(function(a){a.fn.extend({leanModal:function(b){function f(b){a(b).css({display:"none"}).removeClass("visible-modal");0===a(".visible-modal").length?a("#lean_overlay").fadeOut(200):a(".visible-modal").css({zIndex:11E3})}var c=a("<div id='lean_overlay'></div>");a("body").append(c);b=a.extend({top:100,overlay:0.3,closeButton:null},b);return this.each(function(){var c=b;a(this).click(function(b){var j=a(this).attr("href");a("#lean_overlay").click(function(){f(j)});a(c.closeButton).click(function(){f(j)});
a(j).outerHeight();var n=a(j).outerWidth();a("#lean_overlay").css({display:"block",opacity:0});a("#lean_overlay").fadeTo(200,c.overlay);a(j).css({display:"block",position:"scroll"===c.top?"absolute":"fixed",opacity:0,"z-index":11E3,left:"50%","margin-left":-(n/2)+"px",top:("scroll"===c.top&&a.fn._scrollable?a(window)._scrollable().prop("scrollTop"):c.top)+"px"});a(".visible-modal").css({zIndex:9999});a(j).fadeTo(200,1).addClass("visible-modal");b.preventDefault()})})}})})(jQuery);(function(a){function b(){d=!1;for(var b=0;b<f.length;b++){var c=a(f[b]).filter(function(){return a(this).is(":appeared")});c.trigger("appear",[c]);if(n){var g=n.not(c);g.trigger("disappear",[g])}n=c}}var f=[],c=!1,d=!1,g={interval:250,force_process:!1},j=a(window),n;a.expr[":"].appeared=function(b){b=a(b);if(!b.is(":visible"))return!1;var c=j.scrollLeft(),d=j.scrollTop(),f=b.offset(),g=f.left,f=f.top;return f+b.height()>=d&&f-(b.data("appear-top-offset")||0)<=d+j.height()&&g+b.width()>=c&&g-(b.data("appear-left-offset")||
0)<=c+j.width()?!0:!1};a.fn.extend({appear:function(j){var n=a.extend({},g,j||{}),j=this.selector||this;if(!c){var t=function(){d||(d=!0,setTimeout(b,n.interval))};a(window).scroll(t).resize(t);c=!0}n.force_process&&setTimeout(b,n.interval);f.push(j);return a(j)}});a.extend({force_appear:function(){return c?(b(),!0):!1}})})(jQuery);/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(a,b){var f=a.History=a.History||{},c=a.jQuery;if("undefined"!==typeof f.Adapter)throw Error("History.js Adapter has already been loaded...");f.Adapter={bind:function(a,b,f){c(a).bind(b,f)},trigger:function(a,b,f){c(a).trigger(b,f)},extractEventData:function(a,c,f){return c&&c.originalEvent&&c.originalEvent[a]||f&&f[a]||b},onDomLoad:function(a){c(a)}};"undefined"!==typeof f.init&&f.init()})(window);
(function(a,b){var f=a.console||b,c=a.document,d=a.navigator,g=a.sessionStorage||!1,j=a.setTimeout,n=a.clearTimeout,l=a.setInterval,q=a.clearInterval,t=a.JSON,p=a.alert,h=a.History=a.History||{},y=a.history;try{g.setItem("TEST","1"),g.removeItem("TEST")}catch(w){g=!1}t.stringify=t.stringify||t.encode;t.parse=t.parse||t.decode;if("undefined"!==typeof h.init)throw Error("History.js Core has already been loaded...");h.init=function(){if("undefined"===typeof h.Adapter)return!1;"undefined"!==typeof h.initCore&&
h.initCore();"undefined"!==typeof h.initHtml4&&h.initHtml4();return!0};h.initCore=function(){if("undefined"!==typeof h.initCore.initialized)return!1;h.initCore.initialized=!0;h.options=h.options||{};h.options.hashChangeInterval=h.options.hashChangeInterval||100;h.options.safariPollInterval=h.options.safariPollInterval||500;h.options.doubleCheckInterval=h.options.doubleCheckInterval||500;h.options.disableSuid=h.options.disableSuid||!1;h.options.storeInterval=h.options.storeInterval||1E3;h.options.busyDelay=
h.options.busyDelay||250;h.options.debug=h.options.debug||!1;h.options.initialTitle=h.options.initialTitle||c.title;h.options.html4Mode=h.options.html4Mode||!1;h.options.delayInit=h.options.delayInit||!1;h.intervalList=[];h.clearAllIntervals=function(){var a,b=h.intervalList;if("undefined"!==typeof b&&null!==b){for(a=0;a<b.length;a++)q(b[a]);h.intervalList=null}};h.debug=function(){h.options.debug&&h.log.apply(h,arguments)};h.log=function(){var a=!("undefined"===typeof f||"undefined"===typeof f.log||
"undefined"===typeof f.log.apply),b=c.getElementById("log"),d,g,h,j;a?(g=Array.prototype.slice.call(arguments),d=g.shift(),"undefined"!==typeof f.debug?f.debug.apply(f,[d,g]):f.log.apply(f,[d,g])):d="\n"+arguments[0]+"\n";g=1;for(h=arguments.length;g<h;++g){j=arguments[g];if("object"===typeof j&&"undefined"!==typeof t)try{j=t.stringify(j)}catch(l){}d+="\n"+j+"\n"}b?(b.value+=d+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||p(d);return!0};h.getInternetExplorerMajorVersion=function(){var a=
h.getInternetExplorerMajorVersion,b;if("undefined"!==typeof h.getInternetExplorerMajorVersion.cached)b=h.getInternetExplorerMajorVersion.cached;else{b=3;for(var d=c.createElement("div"),f=d.getElementsByTagName("i");(d.innerHTML="<\!--[if gt IE "+ ++b+"]><i></i><![endif]--\>")&&f[0];);b=4<b?b:!1}return a.cached=b};h.isInternetExplorer=function(){return h.isInternetExplorer.cached="undefined"!==typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion())};
h.emulated=h.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(d.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(d.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in c)||h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion())};h.enabled=!h.emulated.pushState;h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===d.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(d.userAgent)),
safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===d.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(d.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion()),hashEscape:Boolean(h.isInternetExplorer()&&7>h.getInternetExplorerMajorVersion())};h.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};h.cloneObject=function(a){a?(a=t.stringify(a),a=t.parse(a)):a={};return a};h.getRootUrl=function(){var a=c.location.protocol+
"//"+(c.location.hostname||c.location.host);c.location.port&&(a+=":"+c.location.port);return a+"/"};h.getBaseHref=function(){var a=c.getElementsByTagName("base"),b=null,b="";1===a.length&&(b=a[0],b=b.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};h.getBaseUrl=function(){return h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl()};h.getPageUrl=function(){return((h.getState(!1,!1)||{}).url||h.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?
a:a+"/"})};h.getBasePageUrl=function(){return h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};h.getFullUrl=function(a,b){var c=a,d=a.substring(0,1),b="undefined"===typeof b?!0:b;/[a-z]+\:\/\//.test(a)||(c="/"===d?h.getRootUrl()+a.replace(/^\/+/,""):"#"===d?h.getPageUrl().replace(/#.*/,"")+a:"?"===d?h.getPageUrl().replace(/[\?#].*/,"")+a:b?h.getBaseUrl()+a.replace(/^(\.\/)+/,""):h.getBasePageUrl()+a.replace(/^(\.\/)+/,""));
return c.replace(/\#$/,"")};h.getShortUrl=function(a){var b=h.getBaseUrl(),c=h.getRootUrl();h.emulated.pushState&&(a=a.replace(b,""));a=a.replace(c,"/");h.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};h.getLocationHref=function(a){a=a||c;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash||-1==a.URL.indexOf("#")&&-1!=
a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href};h.store={};h.idToState=h.idToState||{};h.stateToId=h.stateToId||{};h.urlToId=h.urlToId||{};h.storedStates=h.storedStates||[];h.savedStates=h.savedStates||[];h.normalizeStore=function(){h.store.idToState=h.store.idToState||{};h.store.urlToId=h.store.urlToId||{};h.store.stateToId=h.store.stateToId||{}};h.getState=function(a,b){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);var c=h.getLastSavedState();!c&&b&&(c=h.createStateObject());
a&&(c=h.cloneObject(c),c.url=c.cleanUrl||c.url);return c};h.getIdByState=function(a){var b=h.extractId(a.url),c;if(!b)if(c=h.getStateString(a),"undefined"!==typeof h.stateToId[c])b=h.stateToId[c];else if("undefined"!==typeof h.store.stateToId[c])b=h.store.stateToId[c];else{for(;!(b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"===typeof h.idToState[b]&&"undefined"===typeof h.store.idToState[b]););h.stateToId[c]=b;h.idToState[b]=a}return b};h.normalizeState=function(a){var b;
if(!a||"object"!==typeof a)a={};if("undefined"!==typeof a.normalized)return a;if(!a.data||"object"!==typeof a.data)a.data={};b={normalized:!0};b.title=a.title||"";b.url=h.getFullUrl(a.url?a.url:h.getLocationHref());b.hash=h.getShortUrl(b.url);b.data=h.cloneObject(a.data);b.id=h.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,"");b.url=b.cleanUrl;a=!h.isEmptyObject(b.data);if((b.title||a)&&!0!==h.options.disableSuid)b.hash=h.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||
(b.hash+="?"),b.hash+="&_suid="+b.id;b.hashedUrl=h.getFullUrl(b.hash);if((h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(b))b.url=b.hashedUrl;return b};h.createStateObject=function(a,b,c){a={data:a,title:b,url:c};return a=h.normalizeState(a)};h.getStateById=function(a){a=String(a);return h.idToState[a]||h.store.idToState[a]||b};h.getStateString=function(a){a={data:h.normalizeState(a).data,title:a.title,url:a.url};return t.stringify(a)};h.getStateId=function(a){return h.normalizeState(a).id};
h.getHashByState=function(a){return h.normalizeState(a).hash};h.extractId=function(a){a=-1!=a.indexOf("#")?a.split("#")[0]:a;return((a=/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};h.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};h.extractState=function(a,b){var c=null,d,f,b=b||!1;(d=h.extractId(a))&&(c=h.getStateById(d));c||(f=h.getFullUrl(a),(d=h.getIdByUrl(f)||!1)&&(c=h.getStateById(d)),!c&&(b&&!h.isTraditionalAnchor(a))&&(c=h.createStateObject(null,null,f)));return c};
h.getIdByUrl=function(a){return h.urlToId[a]||h.store.urlToId[a]||b};h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||b};h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||b};h.hasUrlDuplicate=function(a){var b=!1;return b=(b=h.extractState(a.url))&&b.id!==a.id};h.storeState=function(a){h.urlToId[a.url]=a.id;h.storedStates.push(h.cloneObject(a));return a};h.isLastSavedState=function(a){var b=!1;h.savedStates.length&&(a=a.id,b=h.getLastSavedState(),
b=b.id,b=a===b);return b};h.saveState=function(a){if(h.isLastSavedState(a))return!1;h.savedStates.push(h.cloneObject(a));return!0};h.getStateByIndex=function(a){var b=null;return b="undefined"===typeof a?h.savedStates[h.savedStates.length-1]:0>a?h.savedStates[h.savedStates.length+a]:h.savedStates[a]};h.getCurrentIndex=function(){var a=null;return a=1>h.savedStates.length?0:h.savedStates.length-1};h.getHash=function(a){a=h.getLocationHref(a);return h.getHashByUrl(a)};h.unescapeHash=function(a){a=h.normalizeHash(a);
return a=decodeURIComponent(a)};h.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};h.setHash=function(a,b){var d;if(!1!==b&&h.busy())return h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:b}),!1;h.busy(!0);(d=h.extractState(a,!0))&&!h.emulated.pushState?h.pushState(d.data,d.title,d.url,!1):h.getHash()!==a&&(h.bugs.setHash?(d=h.getPageUrl(),h.pushState(null,null,d+"#"+a,!1)):c.location.hash=a);return h};h.escapeHash=function(b){b=h.normalizeHash(b);b=a.encodeURIComponent(b);
h.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return b};h.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=h.unescapeHash(a)};h.setTitle=function(a){var b=a.title,d;b||(d=h.getStateByIndex(0))&&d.url===a.url&&(b=d.title||h.options.initialTitle);try{c.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}c.title=b;return h};h.queues=[];
h.busy=function(a){"undefined"!==typeof a?h.busy.flag=a:"undefined"===typeof h.busy.flag&&(h.busy.flag=!1);if(!h.busy.flag){n(h.busy.timeout);var b=function(){var a,c;if(!h.busy.flag)for(a=h.queues.length-1;0<=a;--a)c=h.queues[a],0!==c.length&&(c=c.shift(),h.fireQueueItem(c),h.busy.timeout=j(b,h.options.busyDelay))};h.busy.timeout=j(b,h.options.busyDelay)}return h.busy.flag};h.busy.flag=!1;h.fireQueueItem=function(a){return a.callback.apply(a.scope||h,a.args||[])};h.pushQueue=function(a){h.queues[a.queue||
0]=h.queues[a.queue||0]||[];h.queues[a.queue||0].push(a);return h};h.queue=function(a,b){"function"===typeof a&&(a={callback:a});"undefined"!==typeof b&&(a.queue=b);h.busy()?h.pushQueue(a):h.fireQueueItem(a);return h};h.clearQueue=function(){h.busy.flag=!1;h.queues=[];return h};h.stateChanged=!1;h.doubleChecker=!1;h.doubleCheckComplete=function(){h.stateChanged=!0;h.doubleCheckClear();return h};h.doubleCheckClear=function(){h.doubleChecker&&(n(h.doubleChecker),h.doubleChecker=!1);return h};h.doubleCheck=
function(a){h.stateChanged=!1;h.doubleCheckClear();h.bugs.ieDoubleCheck&&(h.doubleChecker=j(function(){h.doubleCheckClear();h.stateChanged||a();return!0},h.options.doubleCheckInterval));return h};h.safariStatePoll=function(){var b=h.extractState(h.getLocationHref());if(!h.isLastSavedState(b))return b||h.createStateObject(),h.Adapter.trigger(a,"popstate"),h};h.back=function(a){if(!1!==a&&h.busy())return h.pushQueue({scope:h,callback:h.back,args:arguments,queue:a}),!1;h.busy(!0);h.doubleCheck(function(){h.back(!1)});
y.go(-1);return!0};h.forward=function(a){if(!1!==a&&h.busy())return h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:a}),!1;h.busy(!0);h.doubleCheck(function(){h.forward(!1)});y.go(1);return!0};h.go=function(a,b){var c;if(0<a)for(c=1;c<=a;++c)h.forward(b);else if(0>a)for(c=-1;c>=a;--c)h.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return h};if(h.emulated.pushState){var w=function(){};h.pushState=h.pushState||w;h.replaceState=h.replaceState||
w}else h.onPopState=function(b,c){var d=!1,d=!1;h.doubleCheckComplete();if(d=h.getHash())return(d=h.extractState(d||h.getLocationHref(),!0))?h.replaceState(d.data,d.title,d.url,!1):(h.Adapter.trigger(a,"anchorchange"),h.busy(!1)),h.expectedStateId=!1;(d=(d=h.Adapter.extractEventData("state",b,c)||!1)?h.getStateById(d):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()))||(d=h.createStateObject(null,null,h.getLocationHref()));h.expectedStateId=!1;if(h.isLastSavedState(d))return h.busy(!1),
!1;h.storeState(d);h.saveState(d);h.setTitle(d);h.Adapter.trigger(a,"statechange");h.busy(!1);return!0},h.Adapter.bind(a,"popstate",h.onPopState),h.pushState=function(b,c,d,f){if(h.getHashByUrl(d)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:f}),!1;h.busy(!0);var g=h.createStateObject(b,c,d);h.isLastSavedState(g)?h.busy(!1):(h.storeState(g),
h.expectedStateId=g.id,y.pushState(g.id,g.title,g.url),h.Adapter.trigger(a,"popstate"));return!0},h.replaceState=function(b,c,d,f){if(h.getHashByUrl(d)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:f}),!1;h.busy(!0);var g=h.createStateObject(b,c,d);h.isLastSavedState(g)?h.busy(!1):(h.storeState(g),h.expectedStateId=g.id,y.replaceState(g.id,
g.title,g.url),h.Adapter.trigger(a,"popstate"));return!0};if(g)try{h.store=t.parse(g.getItem("History.store"))||{}}catch(H){h.store={}}else h.store={};h.normalizeStore();h.Adapter.bind(a,"unload",h.clearAllIntervals);h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0)));g&&(h.onUnload=function(){var a,b;try{a=t.parse(g.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{};a.urlToId=a.urlToId||{};a.stateToId=a.stateToId||{};for(b in h.idToState)h.idToState.hasOwnProperty(b)&&
(a.idToState[b]=h.idToState[b]);for(b in h.urlToId)h.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=h.urlToId[b]);for(b in h.stateToId)h.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=h.stateToId[b]);h.store=a;h.normalizeStore();a=t.stringify(a);try{g.setItem("History.store",a)}catch(d){if(d.code===DOMException.QUOTA_EXCEEDED_ERR)g.length&&(g.removeItem("History.store"),g.setItem("History.store",a));else throw d;}},h.intervalList.push(l(h.onUnload,h.options.storeInterval)),h.Adapter.bind(a,"beforeunload",
h.onUnload),h.Adapter.bind(a,"unload",h.onUnload));if(!h.emulated.pushState&&(h.bugs.safariPoll&&h.intervalList.push(l(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."===d.vendor||"Mozilla"===(d.appCodeName||"")))if(h.Adapter.bind(a,"hashchange",function(){h.Adapter.trigger(a,"popstate")}),h.getHash())h.Adapter.onDomLoad(function(){h.Adapter.trigger(a,"hashchange")})};(!h.options||!h.options.delayInit)&&h.init()})(window);(function(a,b,f,c){var d=a(b);a.fn.lazyload=function(g){function j(){var b=0;n.each(function(){var c=a(this);if((!l.skip_invisible||c.is(":visible"))&&!a.abovethetop(this,l)&&!a.leftofbegin(this,l))if(!a.belowthefold(this,l)&&!a.rightoffold(this,l))c.trigger("appear"),b=0;else if(++b>l.failure_limit)return!1})}var n=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
g&&(c!==g.failurelimit&&(g.failure_limit=g.failurelimit,delete g.failurelimit),c!==g.effectspeed&&(g.effect_speed=g.effectspeed,delete g.effectspeed),a.extend(l,g));g=l.container===c||l.container===b?d:a(l.container);0===l.event.indexOf("scroll")&&g.bind(l.event,function(){return j()});this.each(function(){var b=this,d=a(b);b.loaded=!1;(d.attr("src")===c||!1===d.attr("src"))&&d.is("img")&&d.attr("src",l.placeholder);d.one("appear",function(){this.loaded||(l.appear&&l.appear.call(b,n.length,l),a("<img />").bind("load",
function(){var c=d.attr("data-"+l.data_attribute);d.hide();d.is("img")?d.attr("src",c):d.css("background-image","url('"+c+"')");d[l.effect](l.effect_speed);b.loaded=!0;c=a.grep(n,function(a){return!a.loaded});n=a(c);l.load&&l.load.call(b,n.length,l)}).attr("src",d.attr("data-"+l.data_attribute)))});0!==l.event.indexOf("scroll")&&d.bind(l.event,function(){b.loaded||d.trigger("appear")})});d.bind("resize",function(){j()});/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&d.bind("pageshow",
function(b){b.originalEvent&&b.originalEvent.persisted&&n.each(function(){a(this).trigger("appear")})});a(f).ready(function(){j()});return this};a.belowthefold=function(f,j){return(j.container===c||j.container===b?(b.innerHeight?b.innerHeight:d.height())+d.scrollTop():a(j.container).offset().top+a(j.container).height())<=a(f).offset().top-j.threshold};a.rightoffold=function(f,j){return(j.container===c||j.container===b?d.width()+d.scrollLeft():a(j.container).offset().left+a(j.container).width())<=
a(f).offset().left-j.threshold};a.abovethetop=function(f,j){return(j.container===c||j.container===b?d.scrollTop():a(j.container).offset().top)>=a(f).offset().top+j.threshold+a(f).height()};a.leftofbegin=function(f,j){return(j.container===c||j.container===b?d.scrollLeft():a(j.container).offset().left)>=a(f).offset().left+j.threshold+a(f).width()};a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,
{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,
document);(function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var f=a.scrollTo=function(b,d,f){a(window).scrollTo(b,d,f)};f.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};f.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||
"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(c,d,g){"object"==typeof d&&(g=d,d=0);"function"==typeof g&&(g={onAfter:g});"max"==c&&(c=9E9);g=a.extend({},f.defaults,g);d=d||g.duration;g.queue=g.queue&&1<g.axis.length;g.queue&&(d/=2);g.offset=b(g.offset);g.over=b(g.over);return this._scrollable().each(function(){function j(a){l.animate(p,d,g.easing,a&&function(){a.call(this,q,g)})}if(null!=c){var n=this,l=a(n),q=c,t,p={},h=l.is("html,body");switch(typeof q){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(q)){q=
b(q);break}q=a(q,this);if(!q.length)return;case "object":if(q.is||q.style)t=(q=a(q)).offset()}a.each(g.axis.split(""),function(a,b){var c="x"==b?"Left":"Top",d=c.toLowerCase(),r="scroll"+c,B=n[r],E=f.max(n,b);t?(p[r]=t[d]+(h?0:B-l.offset()[d]),g.margin&&(p[r]-=parseInt(q.css("margin"+c))||0,p[r]-=parseInt(q.css("border"+c+"Width"))||0),p[r]+=g.offset[d]||0,g.over[d]&&(p[r]+=q["x"==b?"width":"height"]()*g.over[d])):(c=q[d],p[r]=c.slice&&"%"==c.slice(-1)?parseFloat(c)/100*E:c);g.limit&&/^\d+$/.test(p[r])&&
(p[r]=0>=p[r]?0:Math.min(p[r],E));!a&&g.queue&&(B!=p[r]&&j(g.onAfterFirst),delete p[r])});j(g.onAfter)}}).end()};f.max=function(b,d){var f="x"==d?"Width":"Height",j="scroll"+f;if(!a(b).is("html,body"))return b[j]-a(b)[f.toLowerCase()]();var f="client"+f,n=b.ownerDocument.documentElement,l=b.ownerDocument.body;return Math.max(n[j],l[j])-Math.min(n[f],l[f])}})(jQuery);(function(a){function b(a){return"string"===typeof a}function f(a){var b=n.call(arguments,1);return function(){return a.apply(this,b.concat(n.call(arguments)))}}function c(c,d,f,g,n){var p;g!==j?(d=f.match(c?A:/^([^#?]*)\??([^#]*)(#?.*)/),f=d[3]||"",2===n&&b(g)?g=g.replace(c?u:x,""):(p=h(d[2]),g=b(g)?h[c?F:E](g):g,g=2===n?g:1===n?a.extend({},g,p):a.extend({},p,g),g=t(g),c&&(g=g.replace(C,l))),c=d[1]+(c?I:g||!d[1]?"?":"")+g+f):c=d(f!==j?f:location.href);return c}function d(a,c,d){c===j||"boolean"===
typeof c?(d=c,c=q[a?F:E]()):c=b(c)?c.replace(a?u:x,""):c;return h(c,d)}function g(c,d,f,g){!b(f)&&"object"!==typeof f&&(g=f,f=d,d=j);return this.each(function(){var b=a(this),h=d||r()[(this.nodeName||"").toLowerCase()]||"",j=h&&b.attr(h)||"";b.attr(h,q[c](j,f,g))})}var j,n=Array.prototype.slice,l=decodeURIComponent,q=a.param,t,p,h,y,w=a.bbq=a.bbq||{},D,H,r,B=a.event.special,E="querystring",F="fragment",x=/^.*\?|#.*$/g,u,A,C,K,I,R={};q[E]=f(c,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});q[F]=p=f(c,1,function(a){return a.replace(A,"$2")});q.sorted=t=function(b,c){var d=[],f={};a.each(q(b,c).split("&"),function(a,b){var c=b.replace(/(?:%5B|=).*$/,""),g=f[c];g||(g=f[c]=[],d.push(c));g.push(b)});return a.map(d.sort(),function(a){return f[a]}).join("&")};p.noEscape=function(b){b=a.map((b||"").split(""),encodeURIComponent);C=RegExp(b.join("|"),"g")};p.noEscape(",/");p.ajaxCrawlable=function(a){a!==j&&(a?(u=/^.*(?:#!|#)/,A=/^([^#]*)(?:#!|#)?(.*)$/,I="#!"):(u=/^.*#/,A=/^([^#]*)#?(.*)$/,
I="#"),K=!!a);return K};p.ajaxCrawlable(0);a.deparam=h=function(b,c){var d={},f={"true":!0,"false":!1,"null":null};a.each(b.replace(/\+/g," ").split("&"),function(b,g){var h=g.split("="),n=l(h[0]),p=d,q=0,r=n.split("]["),t=r.length-1;/\[/.test(r[0])&&/\]$/.test(r[t])?(r[t]=r[t].replace(/\]$/,""),r=r.shift().split("[").concat(r),t=r.length-1):t=0;if(2===h.length)if(h=l(h[1]),c&&(h=h&&!isNaN(h)?+h:"undefined"===h?j:f[h]!==j?f[h]:h),t)for(;q<=t;q++)n=""===r[q]?p.length:r[q],p=p[n]=q<t?p[n]||(r[q+1]&&
isNaN(r[q+1])?{}:[]):h;else a.isArray(d[n])?d[n].push(h):d[n]=d[n]!==j?[d[n],h]:h;else n&&(d[n]=c?j:"")});return d};h[E]=f(d,0);h[F]=y=f(d,1);a.elemUrlAttr||(a.elemUrlAttr=function(b){return a.extend(R,b)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"});r=a.elemUrlAttr;a.fn[E]=f(g,E);a.fn[F]=f(g,F);w.pushState=D=function(a,c){b(a)&&(/^#/.test(a)&&c===j)&&(c=2);var d=a!==j,d=p(location.href,d?a:{},d?c:2);location.href=d};w.getState=H=function(a,b){return a===
j||"boolean"===typeof a?y(a):y(b)[a]};w.removeState=function(b){var c={};b!==j&&(c=H(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]}));D(c,2)};B.hashchange=a.extend(B.hashchange,{add:function(b){function c(a){var b=a[F]=p();a.getState=function(a,c){return a===j||"boolean"===typeof a?h(b,a):h(b,c)[a]};d.apply(this,arguments)}var d;if(a.isFunction(b))return d=b,c;d=b.handler;b.handler=c}})})(jQuery,this);
(function(a,b,f){function c(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var d=document,g,j=a.event.special,n=d.documentMode,l="onhashchange"in b&&(n===f||7<n);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};a.fn.hashchange.delay=50;j.hashchange=a.extend(j.hashchange,{setup:function(){if(l)return!1;a(g.start)},teardown:function(){if(l)return!1;a(g.stop)}});var q=function(){var d=c(),f=y(p);d!==p?(h(p=d,f),a(b).trigger("hashchange")):f!==
p&&(location.href=location.href.replace(/#.*/,"")+f);t=setTimeout(q,a.fn.hashchange.delay)},j={},t,p=c(),h=n=function(a){return a},y=n;j.start=function(){t||q()};j.stop=function(){t&&clearTimeout(t);t=f};if(a.browser.msie&&!l){var w,D;j.start=function(){w||(D=(D=a.fn.hashchange.src)&&D+c(),w=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){D||h(c());q()}).attr("src",D||"javascript:0").insertAfter("body")[0].contentWindow,d.onpropertychange=function(){try{"title"===event.propertyName&&
(w.document.title=d.title)}catch(a){}})};j.stop=n;y=function(){return c(w.location.href)};h=function(b,c){var f=w.document,g=a.fn.hashchange.domain;b!==c&&(f.title=d.title,f.open(),g&&f.write('<script>document.domain="'+g+'"<\/script>'),f.close(),w.location.hash=b)}}g=j})(jQuery,this);var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",makeDOMException:function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(a){var b=Error("DOM Exception 5");b.code=b.number=5;b.name=b.description="INVALID_CHARACTER_ERR";b.toString=function(){return"Error: "+b.name+": "+b.message};return b}},getbyte64:function(a,b){var f=base64.ALPHA.indexOf(a.charAt(b));if(-1===f)throw base64.makeDOMException();return f},decode:function(a){var a=
""+a,b=base64.getbyte64,f,c,d,g=a.length;if(0===g)return a;if(0!==g%4)throw base64.makeDOMException();f=0;a.charAt(g-1)===base64.PADCHAR&&(f=1,a.charAt(g-2)===base64.PADCHAR&&(f=2),g-=4);var j=[];for(c=0;c<g;c+=4)d=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6|b(a,c+3),j.push(String.fromCharCode(d>>16,d>>8&255,d&255));switch(f){case 1:d=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6;j.push(String.fromCharCode(d>>16,d>>8&255));break;case 2:d=b(a,c)<<18|b(a,c+1)<<12,j.push(String.fromCharCode(d>>16))}return j.join("")},
getbyte:function(a,b){var f=a.charCodeAt(b);if(255<f)throw base64.makeDOMException();return f},encode:function(a){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var b=base64.PADCHAR,f=base64.ALPHA,c=base64.getbyte,d,g,j=[],a=""+a,n=a.length-a.length%3;if(0===a.length)return a;for(d=0;d<n;d+=3)g=c(a,d)<<16|c(a,d+1)<<8|c(a,d+2),j.push(f.charAt(g>>18)),j.push(f.charAt(g>>12&63)),j.push(f.charAt(g>>6&63)),j.push(f.charAt(g&63));switch(a.length-n){case 1:g=c(a,d)<<16;j.push(f.charAt(g>>
18)+f.charAt(g>>12&63)+b+b);break;case 2:g=c(a,d)<<16|c(a,d+1)<<8,j.push(f.charAt(g>>18)+f.charAt(g>>12&63)+f.charAt(g>>6&63)+b)}return j.join("")}};serialize=function(a,b){var f=[],c;for(c in a)if(!goog.isString(a[c])||!goog.string.isEmpty(a[c]))if(!goog.isArray(a[c])||!goog.array.isEmpty(a[c])){var d=b?b+"["+c+"]":c,g=a[c];f.push("object"==typeof g?serialize(g,d):encodeURIComponent(d)+"="+encodeURIComponent(g))}return f.join("&")};function unserialize_param(a,b){var b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),f=RegExp("[\\?&]"+b+"=([^&#]*)").exec(a);return null!==f?decodeURIComponent(f[1].replace(/\+/g," ")):!1}
function _normalizeQuery(a){a=a.replace(/&$/,"").replace(/^&/,"");return a.length?"?"+a:""}function _paramToUrl(a){goog.array.forEach(["pr","xpr","category"],function(b){goog.isDef(a[b])&&goog.isArray(a[b])&&(a[b]=a[b].join("-"))});return _normalizeQuery(serialize(a))}(function(a){a.getQueryParam=function(a){return unserialize_param(window.location.href,a)}})(jQuery);window.Modernizr=function(a,b,f){var c={},d=b.documentElement,g=b.createElement("modernizr"),g=g.style,j=" -webkit- -moz- -o- -ms- ".split(" "),n={},l=[],q=l.slice,t,p=function(a,c,f,g){var h,j,l,n,p=b.createElement("div"),q=b.body,r=q||b.createElement("body");if(parseInt(f,10))for(;f--;)l=b.createElement("div"),l.id=g?g[f]:"modernizr"+(f+1),p.appendChild(l);return h=['&#173;<style id="smodernizr">',a,"</style>"].join(""),p.id="modernizr",(q?p:r).innerHTML+=h,r.appendChild(p),q||(r.style.background=
"",r.style.overflow="hidden",n=d.style.overflow,d.style.overflow="hidden",d.appendChild(r)),j=c(p,a),q?p.parentNode.removeChild(p):(r.parentNode.removeChild(r),d.style.overflow=n),!!j},h={}.hasOwnProperty,y;"undefined"!==typeof h&&"undefined"!==typeof h.call?y=function(a,b){return h.call(a,b)}:y=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=q.call(arguments,
1),d=function(){if(this instanceof d){var f=function(){};f.prototype=b.prototype;var f=new f,g=b.apply(f,c.concat(q.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(q.call(arguments)))};return d});n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:p(["@media (",j.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c};n.svg=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg",
"svg").createSVGRect};for(var w in n)y(n,w)&&(t=w.toLowerCase(),c[t]=n[w](),l.push((c[t]?"":"no-")+t));c.addTest=function(a,b){if("object"==typeof a)for(var g in a)y(a,g)&&c.addTest(g,a[g]);else{a=a.toLowerCase();if(c[a]!==f)return c;b="function"==typeof b?b():b;d.className+=" "+(b?"":"no-")+a;c[a]=b}return c};g.cssText="";var g=null,D=function(){var a=V.elements;return"string"==typeof a?a.split(" "):a},H=function(a){var b=A[a[x]];return b||(b={},u++,a[x]=u,A[u]=b),b},r=function(a,c,d){c||(c=b);if(C)return c.createElement(a);
d||(d=H(c));var f;return d.cache[a]?f=d.cache[a].cloneNode():E.test(a)?f=(d.cache[a]=d.createElem(a)).cloneNode():f=d.createElem(a),f.canHaveChildren&&!B.test(a)&&!f.tagUrn?d.frag.appendChild(f):f};t=function(a){a||(a=b);var c=H(a);if(V.shivCSS&&!F&&!c.hasCSS){var d,f=a;d=f.createElement("p");f=f.getElementsByTagName("head")[0]||f.documentElement;d=(d.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",
f.insertBefore(d.lastChild,f.firstChild));c.hasCSS=!!d}if(!C){var g=a;c.cache||(c.cache={},c.createElem=g.createElement,c.createFrag=g.createDocumentFragment,c.frag=c.createFrag());g.createElement=function(a){return V.shivMethods?r(a,g,c):c.createElem(a)};g.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+D().join().replace(/[\w\-]+/g,function(a){return c.createElem(a),c.frag.createElement(a),'c("'+a+'")'})+");return n}")(V,c.frag)}return a};
w=this.html5||{};var B=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,E=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,F,x="_html5shiv",u=0,A={},C;try{var K=b.createElement("a");K.innerHTML="<xyz></xyz>";F="hidden"in K;var I;if(!(I=1==K.childNodes.length)){b.createElement("a");var R=b.createDocumentFragment();I="undefined"==typeof R.cloneNode||"undefined"==typeof R.createDocumentFragment||"undefined"==typeof R.createElement}C=
I}catch(S){C=F=!0}var V={elements:w.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==w.shivCSS,supportsUnknownElements:C,shivMethods:!1!==w.shivMethods,type:"default",shivDocument:t,createElement:r,createDocumentFragment:function(a,c){a||(a=b);if(C)return a.createDocumentFragment();for(var c=c||H(a),d=c.frag.cloneNode(),f=0,g=D(),h=
g.length;f<h;f++)d.createElement(g[f]);return d}};this.html5=V;t(b);return c._version="2.7.1",c._prefixes=j,c.testStyles=p,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+l.join(" ")),c}(this,this.document);
(function(a,b,f){function c(a){return"[object Function]"==y.call(a)}function d(a){return"string"==typeof a}function g(){}function j(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function n(){var a=w.shift();D=1;a?a.t?p(function(){("c"==a.t?I.injectCss:I.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),n()):D=0}function l(a,c,f,g,l){D=0;c=c||"j";if(d(a)){var q="c"==c?F:E,t=this.i++,u=function(b){if(!x&&j(y.readyState)&&(H.r=x=1,!D&&n(),y.onload=y.onreadystatechange=null,b)){"img"!=q&&p(function(){B.removeChild(y)},
50);for(var c in A[a])A[a].hasOwnProperty(c)&&A[a][c].onload()}},l=l||I.errorTimeout,y=b.createElement(q),x=0,C=0,H={t:c,s:a,e:f,a:g,x:l};1===A[a]&&(C=1,A[a]=[]);"object"==q?y.data=a:(y.src=a,y.type=q);y.width=y.height="0";y.onerror=y.onload=y.onreadystatechange=function(){u.call(this,C)};w.splice(t,0,H);"img"!=q&&(C||2===A[a]?(B.insertBefore(y,r?null:h),p(u,l)):A[a].push(y))}else w.splice(this.i++,0,a),1==w.length&&n();return this}function q(){var a=I;return a.loader={load:l,i:0},a}var t=b.documentElement,
p=a.setTimeout,h=b.getElementsByTagName("script")[0],y={}.toString,w=[],D=0,H="MozAppearance"in t.style,r=H&&!!b.createRange().compareNode,B=r?t:h.parentNode,t=a.opera&&"[object Opera]"==y.call(a.opera),t=!!b.attachEvent&&!t,E=H?"object":t?"script":"img",F=t?"script":E,x=Array.isArray||function(a){return"[object Array]"==y.call(a)},u=[],A={},C={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},K,I;I=function(a){function b(a,d,g,h,j){var l,n;n=a.split("!");var p=u.length,r=n.pop(),v=n.length,
r={url:r,origUrl:r,prefixes:n},J,t,m;for(t=0;t<v;t++)m=n[t].split("="),(J=C[m.shift()])&&(r=J(r,m));for(t=0;t<p;t++)r=u[t](r);l=r;var z=l.autoCallback;l.url.split(".").pop().split("?").shift();l.bypass||(d&&(d=c(d)?d:d[a]||d[h]||d[a.split("/").pop().split("?")[0]]),l.instead?l.instead(a,d,g,h,j):(A[l.url]?l.noexec=!0:A[l.url]=1,g.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":f,l.noexec,l.attrs,l.timeout),(c(d)||c(z))&&g.load(function(){q();d&&d(l.origUrl,
j,h);z&&z(l.origUrl,j,h);A[l.url]=2})))}function h(a,f){function j(a,g){if(a)if(d(a))g||(p=function(){var a=[].slice.call(arguments);q.apply(this,a);r()}),b(a,p,f,0,l);else{if(Object(a)===a)for(J in v=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(J)&&(!g&&!--v&&(c(p)?p=function(){var a=[].slice.call(arguments);q.apply(this,a);r()}:p[J]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);r()}}(q[J])),b(a[J],p,f,J,l))}else!g&&r()}
var l=!!a.test,n=a.load||a.both,p=a.callback||g,q=p,r=a.complete||g,v,J;j(l?a.yep:a.nope,!!n);n&&j(n)}var j,l,n=this.yepnope.loader;if(d(a))b(a,0,n,0);else if(x(a))for(j=0;j<a.length;j++)l=a[j],d(l)?b(l,0,n,0):x(l)?I(l):Object(l)===l&&h(l,n);else Object(a)===a&&h(a,n)};I.addPrefix=function(a,b){C[a]=b};I.addFilter=function(a){u.push(a)};I.errorTimeout=1E4;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",K=function(){b.removeEventListener("DOMContentLoaded",
K,0);b.readyState="complete"},0));a.yepnope=q();a.yepnope.executeStack=n;a.yepnope.injectJs=function(a,c,d,f,l,q){var r=b.createElement("script"),t,y,f=f||I.errorTimeout;r.src=a;for(y in d)r.setAttribute(y,d[y]);c=q?n:c||g;r.onreadystatechange=r.onload=function(){!t&&j(r.readyState)&&(t=1,c(),r.onload=r.onreadystatechange=null)};p(function(){t||(t=1,c(1))},f);l?r.onload():h.parentNode.insertBefore(r,h)};a.yepnope.injectCss=function(a,c,d,f,j,l){var f=b.createElement("link"),q,c=l?n:c||g;f.href=a;
f.rel="stylesheet";f.type="text/css";for(q in d)f.setAttribute(q,d[q]);j||(h.parentNode.insertBefore(f,h),p(c,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(a){function b(b,g){b in f&&g(f[b]);var j=b.split("#");2!==j.length&&g(!1);var n=function(a){a=a.getElementById(j[1]);null==a&&(f[b]=!1,g(!1));if(a){var c=a.getAttribute("viewBox");if(c&&4==(viewBoxData=c.split(" ")).length)a.setAttribute("width",viewBoxData[2]),a.setAttribute("height",viewBoxData[3]);a=(new XMLSerializer).serializeToString(a);a="data:image/svg+xml;utf-8,"+escape(a);f[b]=a;g(a)}};"undefined"!==typeof c[j[0]]?n(c[j[0]]):a.ajax({async:!1,url:j[0],cache:!0,dataType:"text",success:function(a){c[j[0]]=
(new window.DOMParser).parseFromString(a,"text/xml");n(c[j[0]])}})}if(/WebKit/.test(navigator.userAgent)){var f={},c={};a.fn.fixSVGStackBackground=function(){this.each(function(){var c=a(this),f=c[0].style.backgroundImage.slice(4,-1).replace(/["']/g,""),j=getComputedStyle(c[0],null);-1!==j.backgroundImage.indexOf(".svg")&&-1!==j.content.indexOf(".svg")&&(f=j.content.replace(/["']/g,""));-1!==f.indexOf(".svg")&&b(f,function(a){!1!==a&&c.css("background-image","url("+a+")")})});return this};a.fn.fixSVGStack=
function(){this.each(function(){var c=a(this),f=c.attr("src");-1!==f.indexOf(".svg")&&b(f,function(a){!1!==a&&c.attr("src",a)})});return this}}else a.fn.fixSVGStack=function(){return this},a.fn.fixSVGStackBackground=function(){return this}})(jQuery);(function(a){var b,f,c,d,g,j,n,l=function(){},q=!!window.jQuery,t=a(window),p=function(a,c){b.ev.on("mfp"+a+".mfp",c)},h=function(b,c,d,f){var g=document.createElement("div");return g.className="mfp-"+b,d&&(g.innerHTML=d),f?c&&c.appendChild(g):(g=a(g),c&&g.appendTo(c)),g},y=function(c,d){b.ev.triggerHandler("mfp"+c,d);b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},w=function(c){return c===n&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=
a(b.st.closeMarkup.replace("%title%",b.st.tClose)),n=c),b.currTemplate.closeBtn},D=function(){a.magnificPopup.instance||(b=new l,b.init(),a.magnificPopup.instance=b)},H=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};l.prototype={constructor:l,init:function(){var f=navigator.appVersion;b.isIE7=-1!==f.indexOf("MSIE 7.");b.isIE8=-1!==f.indexOf("MSIE 8.");b.isLowIE=b.isIE7||
b.isIE8;b.isAndroid=/android/gi.test(f);b.isIOS=/iphone|ipad|ipod/gi.test(f);b.supportsTransition=H();b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);c=a(document.body);d=a(document);b.popupsCache={}},open:function(c){var f;if(!1===c.isObj){b.items=c.items.toArray();b.index=0;var g,l=c.items;for(f=0;l.length>f;f++)if(g=l[f],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=f;break}}else b.items=a.isArray(c.items)?
c.items:[c.items],b.index=c.index||0;if(b.isOpen)return b.updateItemHTML(),void 0;b.types=[];j="";b.ev=c.mainEl&&c.mainEl.length?c.mainEl.eq(0):d;c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={};b.st=a.extend(!0,{},a.magnificPopup.defaults,c);b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos;b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1);
b.bgOverlay||(b.bgOverlay=h("bg").on("click.mfp",function(){b.close()}),b.wrap=h("wrap").attr("tabindex",-1).on("click.mfp",function(a){b._checkIfClose(a.target)&&b.close()}),b.container=h("container",b.wrap));b.contentContainer=h("content");b.st.preloader&&(b.preloader=h("preloader",b.container,b.st.tLoading));g=a.magnificPopup.modules;for(f=0;g.length>f;f++)l=g[f],l=l.charAt(0).toUpperCase()+l.slice(1),b["init"+l].call(b);y("BeforeOpen");b.st.showCloseBtn&&(b.st.closeBtnInside?(p("MarkupParse",
function(a,b,c,d){c.close_replaceWith=w(d.type)}),j+=" mfp-close-btn-in"):b.wrap.append(w()));b.st.alignTop&&(j+=" mfp-align-top");b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:t.scrollTop(),position:"absolute"});(!1===b.st.fixedBgPos||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"});b.st.enableEscapeKey&&d.on("keyup.mfp",function(a){27===a.keyCode&&b.close()});t.on("resize.mfp",
function(){b.updateSize()});b.st.closeOnContentClick||(j+=" mfp-auto-cursor");j&&b.wrap.addClass(j);f=b.wH=t.height();g={};b.fixedContentPos&&b._hasScrollBar(f)&&(l=b._getScrollbarSize())&&(g.marginRight=l);b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):g.overflow="hidden");l=b.st.mainClass;return b.isIE7&&(l+=" mfp-ie7"),l&&b._addClassToMFP(l),b.updateItemHTML(),y("BuildControls"),a("html").css(g),b.bgOverlay.add(b.wrap).prependTo(document.body),b._lastFocusedEl=document.activeElement,
setTimeout(function(){b.content?(b._addClassToMFP("mfp-ready"),b._setFocus()):b.bgOverlay.addClass("mfp-ready");d.on("focusin.mfp",b._onFocusIn)},16),b.isOpen=!0,b.updateSize(f),y("Open"),c},close:function(){b.isOpen&&(y("BeforeClose"),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP("mfp-removing"),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y("Close");var c="mfp-removing mfp-ready ";if(b.bgOverlay.detach(),b.wrap.detach(),
b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos)c={marginRight:""},b.isIE7?a("body, html").css("overflow",""):c.overflow="",a("html").css(c);d.off("keyup.mfp focusin.mfp");b.ev.off(".mfp");b.wrap.attr("class","mfp-wrap").removeAttr("style");b.bgOverlay.attr("class","mfp-bg");b.container.attr("class","mfp-container");!b.st.showCloseBtn||b.st.closeBtnInside&&!0!==b.currTemplate[b.currItem.type]||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach();
b._lastFocusedEl&&a(b._lastFocusedEl).focus();b.currItem=null;b.content=null;b.currTemplate=null;b.prevHeight=0;y("AfterClose")},updateSize:function(a){b.isIOS?(a=window.innerHeight*(document.documentElement.clientWidth/window.innerWidth),b.wrap.css("height",a),b.wH=a):b.wH=a||t.height();b.fixedContentPos||b.wrap.css("height",b.wH);y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach();b.content&&b.content.detach();c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",
[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f);b.currTemplate[d]=f?a(f):!0}g&&g!==c.type&&b.container.removeClass("mfp-"+g+"-holder");f=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(f,d);c.preloaded=!0;y("Change",c);g=c.type;b.container.prepend(b.contentContainer);y("AfterChange")},appendContent:function(a,c){(b.content=a)?b.st.showCloseBtn&&b.st.closeBtnInside&&!0===b.currTemplate[c]?
b.content.find(".mfp-close").length||b.content.append(w()):b.content=a:b.content="";y("BeforeAppend");b.container.addClass("mfp-"+c+"-holder");b.contentContainer.append(b.content)},parseEl:function(c){var d=b.items[c],f=d.type;if(d=d.tagName?{el:a(d)}:{data:d,src:d.src},d.el){for(var g=b.types,h=0;g.length>h;h++)if(d.el.hasClass("mfp-"+g[h])){f=g[h];break}d.src=d.el.attr("data-mfp-src");d.src||(d.src=d.el.attr("href"))}return d.type=f||b.st.type||"inline",d.index=c,d.parsed=!0,b.items[c]=d,y("ElementParse",
d),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this;b._openClick(d,a,c)};c||(c={});c.mainEl=a;c.items?(c.isObj=!0,a.off("click.magnificPopup").on("click.magnificPopup",d)):(c.isObj=!1,c.delegate?a.off("click.magnificPopup").on("click.magnificPopup",c.delegate,d):(c.items=a,a.off("click.magnificPopup").on("click.magnificPopup",d)))},_openClick:function(c,d,f){if((void 0!==f.midClick?f.midClick:a.magnificPopup.defaults.midClick)||2!==c.which&&!c.ctrlKey&&!c.metaKey){var g=void 0!==
f.disableOn?f.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(g>t.width())return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation());f.el=a(c.mfpEl);f.delegate&&(f.items=d.find(f.delegate));b.open(f)}},updateStatus:function(a,c){if(b.preloader){f!==a&&b.container.removeClass("mfp-s-"+f);c||"loading"!==a||(c=b.st.tLoading);var d={status:a,text:c};y("UpdateStatus",d);a=d.status;c=d.text;b.preloader.html(c);b.preloader.find("a").on("click",
function(a){a.stopImmediatePropagation()});b.container.addClass("mfp-s-"+a);f=a}},_checkIfClose:function(c){if(!a(c).hasClass("mfp-prevent-close")){var d=b.st.closeOnContentClick,f=b.st.closeOnBgClick;if(d&&f||!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(f&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a);b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);
b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||t.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var f;d.data&&(c=a.extend(d.data,c));y("MarkupParse",[b,c,d]);a.each(c,function(a,c){if(void 0===c||!1===c)return!0;if(f=a.split("_"),1<f.length){var d=b.find(".mfp-"+
f[0]);if(0<d.length){var g=f[1];"replaceWith"===g?d[0]!==c[0]&&d.replaceWith(c):"img"===g?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(f[1],c)}}else b.find(".mfp-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm";a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);b.scrollbarSize=a.offsetWidth-a.clientWidth;
document.body.removeChild(a)}return b.scrollbarSize}};a.magnificPopup={instance:null,proto:l.prototype,modules:[],open:function(b,c){return D(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options);a.extend(this.proto,c.proto);this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",
closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};a.fn.magnificPopup=function(c){D();var d=a(this);if("string"==typeof c)if("open"===c){var f,g=q?d.data("magnificPopup"):d[0].magnificPopup,h=parseInt(arguments[1],10)||0;g.items?f=g.items[h]:
(f=d,g.delegate&&(f=f.find(g.delegate)),f=f.eq(h));b._openClick({mfpEl:f},d,g)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),q?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var r,B,E,F=function(){E&&(B.after(E.addClass(r)).detach(),E=null)};a.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push("inline");p("Close.inline",function(){F()})},
getInline:function(c,d){if(F(),c.src){var f=b.st.inline,g=a(c.src);if(g.length){var j=g[0].parentNode;j&&j.tagName&&(B||(r=f.hiddenClass,B=h(r),r="mfp-"+r),E=g.after(B).detach().removeClass(r));b.updateStatus("ready")}else b.updateStatus("error",f.tNotFound),g=a("<div>");return c.inlineElement=g,g}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var x,u=function(){x&&c.removeClass(x);b.req&&b.req.abort()};a.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",
tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push("ajax");x=b.st.ajax.cursor;p("Close.ajax",u);p("BeforeChange.ajax",u)},getAjax:function(d){x&&c.addClass(x);b.updateStatus("loading");var f=a.extend({url:d.src,success:function(f,g,h){f={data:f,xhr:h};y("ParseAjax",f);b.appendContent(a(f.data),"ajax");d.finished=!0;x&&c.removeClass(x);b._setFocus();setTimeout(function(){b.wrap.addClass("mfp-ready")},16);b.updateStatus("ready");y("AjaxContentAdded")},
error:function(){x&&c.removeClass(x);d.finished=d.loadError=!0;b.updateStatus("error",b.st.ajax.tError.replace("%url%",d.src))}},b.st.ajax.settings);return b.req=a.ajax(f),""}}});var A,C=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=b.st.image;b.types.push("image");p("Open.image",function(){"image"===b.currItem.type&&a.cursor&&c.addClass(a.cursor)});p("Close.image",function(){a.cursor&&c.removeClass(a.cursor);t.off("resize.mfp")});p("Resize.image",b.resizeImage);b.isLowIE&&p("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=
0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10));a.img.css("",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,A&&clearInterval(A),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],f=function(g){A&&clearInterval(A);A=setInterval(function(){return 0<d.naturalWidth?(b._onImageHasSize(a),void 0):(200<c&&clearInterval(A),c++,3===
c?f(10):40===c?f(50):100===c&&f(500),void 0)},g)};f(1)},getImage:function(c,d){var f=0,g=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(f++,200>f?setTimeout(g,100):h()))},h=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",j.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},j=b.st.image,l=d.find(".mfp-img");
if(l.length){var n=document.createElement("img");n.className="mfp-img";c.img=a(n).on("load.mfploader",g).on("error.mfploader",h);n.src=c.src;l.is("img")&&(c.img=c.img.clone());n=c.img[0];0<n.naturalWidth?c.hasSize=!0:n.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:C(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(A&&clearInterval(A),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",j.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),
d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var K;a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom;if(c.enabled&&b.supportsTransition){var d,f,g=c.duration,h=function(a){var a=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),b={position:"fixed",
zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return b["-webkit-transition"]=b["-moz-transition"]=b["-o-transition"]=b.transition="all "+c.duration/1E3+"s "+c.easing,a.css(b),a},j=function(){b.content.css("visibility","visible")};p("BuildControls.zoom",function(){if(b._allowZoom()){if(clearTimeout(d),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return j(),void 0;f=h(a);f.css(b._getOffset());b.wrap.append(f);d=setTimeout(function(){f.css(b._getOffset(!0));d=setTimeout(function(){j();
setTimeout(function(){f.remove();a=f=null;y("ZoomAnimationEnded")},16)},g)},16)}});p("BeforeClose.zoom",function(){if(b._allowZoom()){if(clearTimeout(d),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=h(a)}f.css(b._getOffset(!0));b.wrap.append(f);b.content.css("visibility","hidden");setTimeout(function(){f.css(b._getOffset())},16)}});p("Close.zoom",function(){b._allowZoom()&&(j(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?
b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var c=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);c.top-=a(window).scrollTop()-f;d={width:d.width(),height:(q?d.innerHeight():d[0].offsetHeight)-g-f};return(void 0===K&&(K=void 0!==document.createElement("p").style.MozTransform),K)?d["-moz-transform"]=d.transform="translate("+c.left+"px,"+c.top+"px)":(d.left=c.left,d.top=c.top),d}}});var I=function(a){if(b.currTemplate.iframe){var c=
b.currTemplate.iframe.find("iframe");c.length&&(a||(c[0].src="//about:blank"),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},
gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push("iframe");p("BeforeChange",function(a,b,c){b!==c&&("iframe"===b?I():"iframe"===c&&I(!0))});p("Close.iframe",function(){I()})},getIframe:function(c,d){var f=c.src,g=b.st.iframe;a.each(g.patterns,function(){return-1<f.indexOf(this.index)?(this.id&&(f="string"==typeof this.id?f.substr(f.lastIndexOf(this.id)+this.id.length,f.length):this.id.call(this,f)),f=this.src.replace("%id%",f),!1):void 0});var h={};
return g.srcAction&&(h[g.srcAction]=f),b._parseMarkup(d,h,c),b.updateStatus("ready"),d}}});var R=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,
f=Boolean(a.fn.mfpFastClick);return b.direction=!0,c&&c.enabled?(j+=" mfp-gallery",p("Open.mfp-gallery",function(){c.navigateByImgClick&&b.wrap.on("click.mfp-gallery",".mfp-img",function(){return 1<b.items.length?(b.next(),!1):void 0});d.on("keydown.mfp-gallery",function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),p("UpdateStatus.mfp-gallery",function(a,c){c.text&&(c.text=c.text.replace(/%curr%/gi,b.currItem.index+1).replace(/%total%/gi,b.items.length))}),p("MarkupParse.mfp-gallery",function(a,
d,f,g){a=b.items.length;f.counter=1<a?c.tCounter.replace(/%curr%/gi,g.index+1).replace(/%total%/gi,a):""}),p("BuildControls.mfp-gallery",function(){if(1<b.items.length&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,g=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),d=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),j=f?"mfpFastClick":"click";g[j](function(){b.prev()});d[j](function(){b.next()});
b.isIE7&&(h("b",g[0],!1,!0),h("a",g[0],!1,!0),h("b",d[0],!1,!0),h("a",d[0],!1,!0));b.container.append(g.add(d))}}),p("Change.mfp-gallery",function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout);b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages();b._preloadTimeout=null},16)}),p("Close.mfp-gallery",function(){d.off(".mfp-gallery");b.wrap.off("click.mfp-gallery");b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick();b.arrowRight=b.arrowLeft=null}),void 0):!1},next:function(){b.direction=
!0;b.index=R(b.index+1);b.updateItemHTML()},prev:function(){b.direction=!1;b.index=R(b.index-1);b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index;b.index=a;b.updateItemHTML()},preloadNearbyImages:function(){var a;a=b.st.gallery.preload;var c=Math.min(a[0],b.items.length),d=Math.min(a[1],b.items.length);for(a=1;(b.direction?d:c)>=a;a++)b._preloadItem(b.index+a);for(a=1;(b.direction?c:d)>=a;a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=R(c),!b.items[c].preloaded){var d=b.items[c];
d.parsed||(d=b.parseEl(c));y("LazyLoad",d);"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0;d.loadError=!0;y("LazyLoadError",d)}).attr("src",d.src));d.preloaded=!0}}}});a.magnificPopup.registerModule("retina",{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var a=b.st.retina,c=a.ratio,c=isNaN(c)?
c():c;1<c&&(p("ImageHasSize.retina",function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),p("ElementParse.retina",function(b,d){d.src=a.replaceSrc(d,c)}))}}}});var S="ontouchstart"in window,V=function(){t.off("touchmove"+L+" touchend"+L)},L=".mfpFastClick";a.fn.mfpFastClick=function(b){return a(this).each(function(){var c,d=a(this);if(S){var f,g,h,j,l,n;d.on("touchstart"+L,function(a){j=!1;n=1;l=a.originalEvent?a.originalEvent.touches[0]:a.touches[0];g=l.clientX;h=l.clientY;
t.on("touchmove"+L,function(a){l=a.originalEvent?a.originalEvent.touches:a.touches;n=l.length;l=l[0];(10<Math.abs(l.clientX-g)||10<Math.abs(l.clientY-h))&&(j=!0,V())}).on("touchend"+L,function(a){V();j||1<n||(c=!0,a.preventDefault(),clearTimeout(f),f=setTimeout(function(){c=!1},1E3),b())})})}d.on("click"+L,function(){c||b()})})};a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+L+" click"+L);S&&t.off("touchmove"+L+" touchend"+L)};D()})(window.jQuery||window.Zepto);"function"!==typeof Object.create&&(Object.create=function(a){function b(){}b.prototype=a;return new b});
(function(a,b,f,c){var d={init:function(b,c){this.$elem=a(c);this.options=a.extend({},a.fn.owlCarousel.options,this.$elem.data(),b);this.userOptions=b;this.loadContent()},loadContent:function(){var b=this;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?a.getJSON(b.options.jsonPath,function(a){if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{var c="",d;for(d in a.owl)c+=a.owl[d].item;b.$elem.html(c)}b.logIn()}):
b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")).data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");
this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display",
"block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&
this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),clearInterval(a.autoPlayInterval),clearInterval(a.checkVisible);
else return!1;a.checkVisible=setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),
b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;var b=a(this.options.responsiveBaseWidth).width();
if(b>(this.options.itemsDesktop[0]||this.orignalItems))this.options.items=this.orignalItems;if("undefined"!==typeof this.options.itemsCustom&&!1!==this.options.itemsCustom){this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(var c in this.options.itemsCustom)"undefined"!==typeof this.options.itemsCustom[c]&&this.options.itemsCustom[c][0]<=b&&(this.options.items=this.options.itemsCustom[c][1])}else b<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=
this.options.itemsDesktop[1]),b<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),b<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),b<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),b<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);
this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var c=this,d;if(!0!==c.options.responsive)return!1;var f=a(b).width();c.resizer=function(){a(b).width()!==f&&(!1!==c.options.autoPlay&&clearInterval(c.autoPlayInterval),clearTimeout(d),d=setTimeout(function(){f=a(b).width();c.updateVars()},c.options.responsiveRefreshRate))};a(b).resize(c.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&
this.checkAp()},appendItemsSizes:function(){var b=this,c=0,d=b.itemsAmount-b.options.items;b.$owlItems.each(function(f){var q=a(this);q.css({width:b.itemWidth}).data("owl-item",Number(f));if(0===f%b.options.items||f===d)f>d||(c+=1);q.data("owl-roundPages",c)})},appendWrapperSizes:function(){var a=0,a=this.$owlItems.length*this.itemWidth;this.$owlWrapper.css({width:2*a,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},
calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){this.positionsInArray=[0];this.pagesInArray=[];for(var b=0,c=0,d=0;d<this.itemsAmount;d++)if(c+=this.itemWidth,this.positionsInArray.push(-c),
!0===this.options.scrollPerPage){var f=a(this.$owlItems[d]).data("owl-roundPages");f!==b&&(this.pagesInArray[b]=this.positionsInArray[d],b=f)}},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=a('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var b=this,c=a('<div class="owl-buttons"/>');
b.owlControls.append(c);b.buttonPrev=a("<div/>",{"class":"owl-prev",html:b.options.navigationText[0]||""});b.buttonNext=a("<div/>",{"class":"owl-next",html:b.options.navigationText[1]||""});c.append(b.buttonPrev).append(b.buttonNext);c.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});c.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(c){c.preventDefault();a(this).hasClass("owl-next")?b.next():b.prev()})},buildPagination:function(){var b=
this;b.paginationWrapper=a('<div class="owl-pagination"/>');b.owlControls.append(b.paginationWrapper);b.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(c){c.preventDefault();Number(a(this).data("owl-page"))!==b.currentItem&&b.goTo(Number(a(this).data("owl-page")),!0)})},updatePagination:function(){if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");for(var b=0,c=this.itemsAmount-this.itemsAmount%this.options.items,d=0;d<this.itemsAmount;d++)if(0===
d%this.options.items){b+=1;if(c===d)var f=this.itemsAmount-this.options.items;var q=a("<div/>",{"class":"owl-page"}),t=a("<span></span>",{text:!0===this.options.paginationNumbers?b:"","class":!0===this.options.paginationNumbers?"owl-numbers":""});q.append(t);q.data("owl-page",c===d?f:d);q.data("owl-roundPages",b);this.paginationWrapper.append(q)}this.checkPagination()},checkPagination:function(){var b=this;if(!1===b.options.pagination)return!1;b.paginationWrapper.find(".owl-page").each(function(){a(this).data("owl-roundPages")===
a(b.$owlItems[b.currentItem]).data("owl-roundPages")&&(b.paginationWrapper.find(".owl-page").removeClass("active"),a(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===
this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;
this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0==this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?
this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,c){var d=this;if(d.isTransition)return!1;"function"===typeof d.options.beforeMove&&d.options.beforeMove.apply(this,[d.$elem]);a>=d.maximumItem?a=d.maximumItem:0>=a&&(a=0);d.currentItem=d.owl.currentItem=a;if(!1!==d.options.transitionStyle&&"drag"!==c&&1===d.options.items&&!0===d.browser.support3d)return d.swapSpeed(0),
!0===d.browser.support3d?d.transition3d(d.positionsInArray[a]):d.css2slide(d.positionsInArray[a],1),d.afterGo(),d.singleItemTransition(),!1;a=d.positionsInArray[a];!0===d.browser.support3d?(d.isCss3Finish=!1,!0===b?(d.swapSpeed("paginationSpeed"),setTimeout(function(){d.isCss3Finish=!0},d.options.paginationSpeed)):"rewind"===b?(d.swapSpeed(d.options.rewindSpeed),setTimeout(function(){d.isCss3Finish=!0},d.options.rewindSpeed)):(d.swapSpeed("slideSpeed"),setTimeout(function(){d.isCss3Finish=!0},d.options.slideSpeed)),
d.transition3d(a)):!0===b?d.css2slide(a,d.options.paginationSpeed):"rewind"===b?d.css2slide(a,d.options.rewindSpeed):d.css2slide(a,d.options.slideSpeed);d.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=this.owl.currentItem=
a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";clearInterval(this.autoPlayInterval)},
checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;clearInterval(a.autoPlayInterval);a.autoPlayInterval=setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},
addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var c=this;c.isCssFinish=!1;c.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||c.options.slideSpeed,complete:function(){c.isCssFinish=!0}})},checkBrowser:function(){var a=f.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in b||navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:
!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(b){return a(b.target).is("input, textarea, select, option")})},
gestures:function(){function d(a){return a.touches?{x:a.touches[0].pageX,y:a.touches[0].pageY}:a.pageX!==c?{x:a.pageX,y:a.pageY}:{x:a.clientX,y:a.clientY}}function j(b){"on"===b?(a(f).on(q.ev_types.move,n),a(f).on(q.ev_types.end,l)):"off"===b&&(a(f).off(q.ev_types.move),a(f).off(q.ev_types.end))}function n(c){c=c.originalEvent||c||b.event;q.newPosX=d(c).x-t.offsetX;q.newPosY=d(c).y-t.offsetY;q.newRelativeX=q.newPosX-t.relativePos;"function"===typeof q.options.startDragging&&(!0!==t.dragging&&0!==
q.newRelativeX)&&(t.dragging=!0,q.options.startDragging.apply(q,[q.$elem]));if(8<q.newRelativeX||-8>q.newRelativeX&&!0===q.browser.isTouch)c.preventDefault?c.preventDefault():c.returnValue=!1,t.sliding=!0;(10<q.newPosY||-10>q.newPosY)&&!1===t.sliding&&a(f).off("touchmove.owl");q.newPosX=Math.max(Math.min(q.newPosX,q.newRelativeX/5),q.maximumPixels+q.newRelativeX/5);!0===q.browser.support3d?q.transition3d(q.newPosX):q.css2move(q.newPosX)}function l(c){c=c.originalEvent||c||b.event;c.target=c.target||
c.srcElement;t.dragging=!1;!0!==q.browser.isTouch&&q.$owlWrapper.removeClass("grabbing");q.dragDirection=0>q.newRelativeX?q.owl.dragDirection="left":q.owl.dragDirection="right";if(0!==q.newRelativeX){var d=q.getNewPosition();q.goTo(d,!1,"drag");if(t.targetElement===c.target&&!0!==q.browser.isTouch){a(c.target).on("click.disable",function(b){b.stopImmediatePropagation();b.stopPropagation();b.preventDefault();a(c.target).off("click.disable")});var d=a._data(c.target,"events").click,f=d.pop();d.splice(0,
0,f)}}j("off")}var q=this,t={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};q.isCssFinish=!0;q.$elem.on(q.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||b.event;if(3===c.which)return!1;if(!(q.itemsAmount<=q.options.items)){if(!1===q.isCssFinish&&!q.options.dragBeforeAnimFinish||!1===q.isCss3Finish&&!q.options.dragBeforeAnimFinish)return!1;!1!==q.options.autoPlay&&clearInterval(q.autoPlayInterval);
!0!==q.browser.isTouch&&!q.$owlWrapper.hasClass("grabbing")&&q.$owlWrapper.addClass("grabbing");q.newPosX=0;q.newRelativeX=0;a(this).css(q.removeTransition());var f=a(this).position();t.relativePos=f.left;t.offsetX=d(c).x-f.left;t.offsetY=d(c).y-f.top;j("on");t.sliding=!1;t.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a;a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0);return a},closestItem:function(){var b=
this,c=!0===b.options.scrollPerPage?b.pagesInArray:b.positionsInArray,d=b.newPosX,f=null;a.each(c,function(q,t){if(d-b.itemWidth/20>c[q+1]&&d-b.itemWidth/20<t&&"left"===b.moveDirection())f=t,b.currentItem=!0===b.options.scrollPerPage?a.inArray(f,b.positionsInArray):q;else if(d+b.itemWidth/20<t&&d+b.itemWidth/20>(c[q+1]||c[q]-b.itemWidth)&&"right"===b.moveDirection())!0===b.options.scrollPerPage?(f=c[q+1]||c[c.length-1],b.currentItem=a.inArray(f,b.positionsInArray)):(f=c[q+1],b.currentItem=q+1)});
return b.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,c){a.options.autoPlay=c;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,c){a.goTo(c)});a.$elem.on("owl.jumpTo",
function(b,c){a.jumpTo(c)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&(!0!==a.browser.isTouch&&!1!==a.options.autoPlay)&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){if(!1===this.options.lazyLoad)return!1;for(var b=0;b<this.itemsAmount;b++){var d=a(this.$owlItems[b]);if("loaded"!==d.data("owl-loaded")){var f=d.data("owl-item"),l=d.find(".lazyOwl"),q;"string"!==typeof l.data("src")?d.data("owl-loaded",
"loaded"):(d.data("owl-loaded")===c&&(l.hide(),d.addClass("loading").data("owl-loaded","checked")),(q=!0===this.options.lazyFollow?f>=this.currentItem:!0)&&(f<this.currentItem+this.options.items&&l.length)&&this.lazyPreload(d,l))}}},lazyPreload:function(a,b){function c(){t+=1;f.completeImg(b.get(0))||!0===p?d():100>=t?setTimeout(c,100):d()}function d(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===f.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof f.options.afterLazyLoad&&
f.options.afterLazyLoad.apply(this,[f.$elem])}var f=this,t=0;if("DIV"===b.prop("tagName")){b.css("background-image","url("+b.data("src")+")");var p=!0}else b[0].src=b.data("src");c()},autoHeight:function(){function b(){q+=1;f.completeImg(l.get(0))?d():100>=q?setTimeout(b,100):f.wrapperOuter.css("height","")}function d(){var b=a(f.$owlItems[f.currentItem]).height();f.wrapperOuter.css("height",b+"px");f.wrapperOuter.hasClass("autoHeight")||setTimeout(function(){f.wrapperOuter.addClass("autoHeight")},
0)}var f=this,l=a(f.$owlItems[f.currentItem]).find("img");if(l.get(0)!==c){var q=0;b()}else d()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0==a.naturalWidth?!1:!0},onVisibleItems:function(){!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(var b=this.currentItem;b<this.currentItem+this.options.items;b++)this.visibleItems.push(b),!0===this.options.addClassActive&&a(this.$owlItems[b]).addClass("active");this.owl.visibleItems=
this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this;a.isTransition=!0;var b=a.outClass,c=a.inClass,d=a.$owlItems.eq(a.currentItem),f=a.$owlItems.eq(a.prevItem),t=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],p=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":p+"px","-moz-perspective-origin":p+"px",
"perspective-origin":p+"px"});f.css({position:"relative",left:t+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;f.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(f,b)});d.addClass(c).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,c)})},clearTransStyle:function(a,b){a.css({position:"",
left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");
a(f).off(".owl owl");a(b).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(b){b=a.extend({},this.userOptions,
b);this.unWrap();this.init(b,this.$elem)},addItem:function(a,b){var d;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();d=b===c||-1===b?-1:b;d>=this.$userItems.length||-1===d?this.$userItems.eq(-1).after(a):this.$userItems.eq(d).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=a===c||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};a.fn.owlCarousel=function(b){return this.each(function(){if(!0===
a(this).data("owl-init"))return!1;a(this).data("owl-init",!0);var c=Object.create(d);c.init(b,this);a.data(this,"owlCarousel",c)})};a.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,
responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:b,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?"undefined"!==typeof jQuery?define(["jquery"],a):define([],a):"undefined"!==typeof jQuery?a(jQuery):a()})(function(a,b){function f(a){a=a.tagName;return"undefined"!==typeof a?n[a.toLowerCase()]:a}function c(a,b,d,f){var j=a.shift();if(j){var l=b[d]=b[d]||[];if("]"==j)if(g(l))""!=f&&l.push(f);else if("object"==typeof l){b=a=l;d=[];for(prop in b)b.hasOwnProperty(prop)&&d.push(prop);a[d.length]=f}else b[d]=[b[d],f];else{~j.indexOf("]")&&(j=j.substr(0,
j.length-1));if(!p.test(j)&&g(l))if(0==b[d].length)l=b[d]={};else{var l={},n;for(n in b[d])l[n]=b[d][n];b[d]=l}c(a,l,j,f)}}else g(b[d])?b[d].push(f):b[d]="object"==typeof b[d]?f:"undefined"==typeof b[d]?f:[b[d],f]}function d(a){for(var a=String(a).split(/&|;/),d=function(a,d){try{d=decodeURIComponent(d.replace(/\+/g," "))}catch(f){}var h=d.indexOf("="),j;a:{for(var l=d.length,n,q=0;q<l;++q)if(n=d[q],"]"==n&&(j=!1),"["==n&&(j=!0),"="==n&&!j){j=q;break a}j=void 0}l=d.substr(0,j||h);j=d.substr(j||h,
d.length);j=j.substr(j.indexOf("=")+1,j.length);""==l&&(l=d,j="");h=l;l=j;if(~h.indexOf("]")){var t=h.split("[");c(t,a,"base",l)}else{if(!p.test(h)&&g(a.base)){j={};for(t in a.base)j[t]=a.base[t];a.base=j}t=a.base;j=t[h];b===j?t[h]=l:g(j)?j.push(l):t[h]=[j,l]}return a},f=0,j=a.length>>0,l={base:{}};f<j;)f in a&&(l=d.call(b,l,a[f],f,a)),++f;return l.base}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(a,c){1===arguments.length&&!0===a&&(c=!0,a=b);for(var a=a||window.location.toString(),
f=c||!1,g=decodeURI(a),f=t[f?"strict":"loose"].exec(g),g={attr:{},param:{},seg:{}},j=14;j--;)g.attr[l[j]]=f[j]||"";g.param.query=d(g.attr.query);g.param.fragment=d(g.attr.fragment);g.seg.path=g.attr.path.replace(/^\/+|\/+$/g,"").split("/");g.seg.fragment=g.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");g.attr.base=g.attr.host?(g.attr.protocol?g.attr.protocol+"://"+g.attr.host:g.attr.host)+(g.attr.port?":"+g.attr.port:""):"";return{data:g,attr:function(a){a=q[a]||a;return"undefined"!==typeof a?
this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},l="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),q={anchor:"fragment"},t={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
p=/^[0-9]+$/;"undefined"!==typeof a?(a.fn.url=function(b){var c="";this.length&&(c=a(this).attr(f(this[0]))||"");return j(c,b)},a.url=j):window.purl=j});/*
 jQuery DateTimePicker plugin v2.3.4
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function(a){var b={i18n:{ar:{months:"\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0634\u0628\u0627\u0637;\u0622\u0630\u0627\u0631;\u0646\u064a\u0633\u0627\u0646;\u0645\u0627\u064a\u0648;\u062d\u0632\u064a\u0631\u0627\u0646;\u062a\u0645\u0648\u0632;\u0622\u0628;\u0623\u064a\u0644\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644".split(";"),
dayOfWeek:"\u0646\u062b\u0639\u062e\u062c\u0633\u062d".split("")},ro:{months:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),dayOfWeek:"l ma mi j v s d".split(" ")},id:{months:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),dayOfWeek:"Sen Sel Rab Kam Jum Sab Min".split(" ")},bg:{months:"\u042f\u043d\u0443\u0430\u0440\u0438 \u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0438\u043b \u041c\u0430\u0439 \u042e\u043d\u0438 \u042e\u043b\u0438 \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u041d\u043e\u0435\u043c\u0432\u0440\u0438 \u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),
dayOfWeek:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},fa:{months:"\u0641\u0631\u0648\u0631\u062f\u06cc\u0646 \u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a \u062e\u0631\u062f\u0627\u062f \u062a\u06cc\u0631 \u0645\u0631\u062f\u0627\u062f \u0634\u0647\u0631\u06cc\u0648\u0631 \u0645\u0647\u0631 \u0622\u0628\u0627\u0646 \u0622\u0630\u0631 \u062f\u06cc \u0628\u0647\u0645\u0646 \u0627\u0633\u0641\u0646\u062f".split(" "),dayOfWeek:"\u06cc\u06a9\u0634\u0646\u0628\u0647;\u062f\u0648\u0634\u0646\u0628\u0647;\u0633\u0647 \u0634\u0646\u0628\u0647;\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647;\u067e\u0646\u062c\u0634\u0646\u0628\u0647;\u062c\u0645\u0639\u0647;\u0634\u0646\u0628\u0647".split(";")},
ru:{months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),dayOfWeek:"\u0412\u0441\u043a \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},
uk:{months:"\u0421\u0456\u0447\u0435\u043d\u044c \u041b\u044e\u0442\u0438\u0439 \u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u041a\u0432\u0456\u0442\u0435\u043d\u044c \u0422\u0440\u0430\u0432\u0435\u043d\u044c \u0427\u0435\u0440\u0432\u0435\u043d\u044c \u041b\u0438\u043f\u0435\u043d\u044c \u0421\u0435\u0440\u043f\u0435\u043d\u044c \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0416\u043e\u0432\u0442\u0435\u043d\u044c \u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0413\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
dayOfWeek:"\u041d\u0434\u043b \u041f\u043d\u0434 \u0412\u0442\u0440 \u0421\u0440\u0434 \u0427\u0442\u0432 \u041f\u0442\u043d \u0421\u0431\u0442".split(" ")},en:{months:"January February March April May June July August September October November December".split(" "),dayOfWeek:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},el:{months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
dayOfWeek:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03b9 \u03a4\u03b5\u03c4 \u03a0\u03b5\u03bc \u03a0\u03b1\u03c1 \u03a3\u03b1\u03b2".split(" ")},de:{months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),dayOfWeek:"So Mo Di Mi Do Fr Sa".split(" ")},nl:{months:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),dayOfWeek:"zo ma di wo do vr za".split(" ")},tr:{months:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),
dayOfWeek:"Paz Pts Sal \u00c7ar Per Cum Cts".split(" ")},fr:{months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),dayOfWeek:"Dim Lun Mar Mer Jeu Ven Sam".split(" ")},es:{months:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),dayOfWeek:"Dom Lun Mar Mi\u00e9 Jue Vie S\u00e1b".split(" ")},th:{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
dayOfWeek:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" ")},pl:{months:"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),dayOfWeek:"nd pn wt \u015br cz pt sb".split(" ")},pt:{months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),dayOfWeek:"Dom Seg Ter Qua Qui Sex Sab".split(" ")},ch:{months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
dayOfWeek:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")},se:{months:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),dayOfWeek:"S\u00f6n M\u00e5n Tis Ons Tor Fre L\u00f6r".split(" ")},kr:{months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayOfWeek:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")},it:{months:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
dayOfWeek:"Dom Lun Mar Mer Gio Ven Sab".split(" ")},da:{months:"January Februar Marts April Maj Juni July August September Oktober November December".split(" "),dayOfWeek:"S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")},no:{months:"Januar Februar Mars April Mai Juni Juli August September Oktober November Desember".split(" "),dayOfWeek:"S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")},ja:{months:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
dayOfWeek:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split("")},vi:{months:"Th\u00e1ng 1;Th\u00e1ng 2;Th\u00e1ng 3;Th\u00e1ng 4;Th\u00e1ng 5;Th\u00e1ng 6;Th\u00e1ng 7;Th\u00e1ng 8;Th\u00e1ng 9;Th\u00e1ng 10;Th\u00e1ng 11;Th\u00e1ng 12".split(";"),dayOfWeek:"CN T2 T3 T4 T5 T6 T7".split(" ")},sl:{months:"Januar Februar Marec April Maj Junij Julij Avgust September Oktober November December".split(" "),dayOfWeek:"Ned Pon Tor Sre \u010cet Pet Sob".split(" ")},cs:{months:"Leden \u00danor B\u0159ezen Duben Kv\u011bten \u010cerven \u010cervenec Srpen Z\u00e1\u0159\u00ed \u0158\u00edjen Listopad Prosinec".split(" "),
dayOfWeek:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" ")},hu:{months:"Janu\u00e1r Febru\u00e1r M\u00e1rcius \u00c1prilis M\u00e1jus J\u00fanius J\u00falius Augusztus Szeptember Okt\u00f3ber November December".split(" "),dayOfWeek:"Va H\u00e9 Ke Sze Cs P\u00e9 Szo".split(" ")}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,
defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,
lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var d=b||0,g=this.length;d<g;d++)if(this[d]===a)return d;return-1});Date.prototype.countDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};a.fn.xdsoftScroller=function(b){return this.each(function(){var c=a(this);
if(!a(this).hasClass("xdsoft_scroller_box")){var d=function(a){var b={x:0,y:0};if("touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type)a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b.x=a.pageX,b.y=a.pageY;else if("mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)b.x=a.pageX,b.y=a.pageY;return b},g=0,j=c.children().eq(0),n=c[0].clientHeight,l=j[0].offsetHeight,
q=a('<div class="xdsoft_scrollbar"></div>'),t=a('<div class="xdsoft_scroller"></div>'),p=100,h=!1;q.append(t);c.addClass("xdsoft_scroller_box").append(q);t.on("mousedown.xdsoft_scroller",function(d){n||c.trigger("resize_scroll.xdsoft_scroller",[b]);var h=d.pageY,j=parseInt(t.css("margin-top")),l=q[0].offsetHeight;a(document.body).addClass("xdsoft_noselect");a([document.body,window]).on("mouseup.xdsoft_scroller",function B(){a([document.body,window]).off("mouseup.xdsoft_scroller",B).off("mousemove.xdsoft_scroller",
g).removeClass("xdsoft_noselect")});a(document.body).on("mousemove.xdsoft_scroller",g=function(a){a=a.pageY-h+j;0>a&&(a=0);a+t[0].offsetHeight>l&&(a=l-t[0].offsetHeight);c.trigger("scroll_element.xdsoft_scroller",[p?a/p:0])})});c.on("scroll_element.xdsoft_scroller",function(a,b){n||c.trigger("resize_scroll.xdsoft_scroller",[b,!0]);b=1<b?1:0>b||isNaN(b)?0:b;t.css("margin-top",p*b);j.css("marginTop",-parseInt((l-n)*b))}).on("resize_scroll.xdsoft_scroller",function(a,b,d){n=c[0].clientHeight;l=j[0].offsetHeight;
var a=n/l,f=a*q[0].offsetHeight;1<a?t.hide():(t.show(),t.css("height",parseInt(10<f?f:10)),p=q[0].offsetHeight-t[0].offsetHeight,!0!==d&&c.trigger("scroll_element.xdsoft_scroller",[b?b:Math.abs(parseInt(j.css("marginTop")))/(l-n)]))});c.mousewheel&&c.mousewheel(function(a,b){var d=Math.abs(parseInt(j.css("marginTop")));c.trigger("scroll_element.xdsoft_scroller",[(d-20*b)/(l-n)]);a.stopPropagation();return!1});c.on("touchstart",function(a){h=d(a)});c.on("touchmove",function(a){if(h){var b=d(a),f=Math.abs(parseInt(j.css("marginTop")));
c.trigger("scroll_element.xdsoft_scroller",[(f-(b.y-h.y))/(l-n)]);a.stopPropagation();a.preventDefault();h=d(a)}});c.on("touchend touchcancel",function(){h=!1})}c.trigger("resize_scroll.xdsoft_scroller",[b])})};a.fn.datetimepicker=function(f){var c=!1,d=a.isPlainObject(f)||!f?a.extend(!0,{},b,f):a.extend({},b),g=0,j=function(b){function f(){var a=!1;d.startDate?a=x.strToDate(d.startDate):(a=d.value?d.value:b&&b.val&&b.val()?b.val():"")?a=x.strToDateTime(a):d.defaultDate&&(a=x.strToDate(d.defaultDate));
a&&x.isValidDate(a)?g.data("changed",!0):a="";return a?a:0}var g=a("<div "+(d.id?'id="'+d.id+'"':"")+" "+(d.style?'style="'+d.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+(d.weeks?" xdsoft_showweeks":"")+d.className+'"></div>'),j=a('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),p=a('<div class="xdsoft_datepicker active"></div>'),h=a('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),
y=a('<div class="xdsoft_calendar"></div>'),w=a('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),D=w.find(".xdsoft_time_box").eq(0),H=a('<div class="xdsoft_time_variant"></div>'),r=a('<div class="xdsoft_scrollbar"></div>');a('<div class="xdsoft_scroller"></div>');var B=a('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),E=a('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');
h.find(".xdsoft_month span").after(B);h.find(".xdsoft_year span").after(E);h.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(b){h.find(".xdsoft_select").hide();var c=a(this).find(".xdsoft_select").eq(0),d=0,f=0;x.currentTime&&(d=x.currentTime[a(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]());c.show();for(var g=c.find("div.xdsoft_option"),j=0;j<g.length&&g.eq(j).data("value")!=d;j++)f+=g[0].offsetHeight;c.xdsoftScroller(f/(c.children()[0].offsetHeight-c[0].clientHeight));
b.stopPropagation();return!1});h.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){if(x&&x.currentTime)x.currentTime[a(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](a(this).data("value"));a(this).parent().parent().hide();g.trigger("xchange.xdsoft");d.onChangeMonth&&d.onChangeMonth.call&&d.onChangeMonth.call(g,x.currentTime,g.data("input"))});g.setOptions=
function(f){d=a.extend(!0,{},d,f);f.allowTimes&&(a.isArray(f.allowTimes)&&f.allowTimes.length)&&(d.allowTimes=a.extend(!0,[],f.allowTimes));f.weekends&&(a.isArray(f.weekends)&&f.weekends.length)&&(d.weekends=a.extend(!0,[],f.weekends));(d.open||d.opened)&&!d.inline&&b.trigger("open.xdsoft");d.inline&&(C=!0,g.addClass("xdsoft_inline"),b.after(g).hide());d.inverseButton&&(d.next="xdsoft_prev",d.prev="xdsoft_next");d.datepicker?p.addClass("active"):p.removeClass("active");d.timepicker?w.addClass("active"):
w.removeClass("active");d.value&&(b&&b.val&&b.val(d.value),x.setCurrentTime(d.value));d.dayOfWeekStart=isNaN(d.dayOfWeekStart)?0:parseInt(d.dayOfWeekStart)%7;d.timepickerScrollbar||r.hide();d.minDate&&/^-(.*)$/.test(d.minDate)&&(d.minDate=x.strToDateTime(d.minDate).dateFormat(d.formatDate));d.maxDate&&/^\+(.*)$/.test(d.maxDate)&&(d.maxDate=x.strToDateTime(d.maxDate).dateFormat(d.formatDate));h.find(".xdsoft_today_button").css("visibility",!d.todayButton?"hidden":"visible");if(d.mask){var j=function(a,
b){var c=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(c).test(b)};b.off("keydown.xdsoft");switch(!0){case !0===d.mask:d.mask=d.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case "string"==a.type(d.mask):j(d.mask,b.val())||b.val(d.mask.replace(/[0-9]/g,
"_")),b.on("keydown.xdsoft",function(f){var g=this.value,h=f.which;switch(!0){case 48<=h&&57>=h||96<=h&&105>=h||8==h||46==h:var l;a:{try{if(document.selection&&document.selection.createRange){l=document.selection.createRange().getBookmark().charCodeAt(2)-2;break a}else if(this.setSelectionRange){l=this.selectionStart;break a}}catch(p){l=0;break a}l=void 0}var q=8!=h&&46!=h?String.fromCharCode(96<=h&&105>=h?h-48:h):"_";if((8==h||46==h)&&l)l--,q="_";for(;/[^0-9_]/.test(d.mask.substr(l,1))&&l<d.mask.length&&
0<l;)l+=8==h||46==h?-1:1;g=g.substr(0,l)+q+g.substr(l+1);if(""==a.trim(g))g=d.mask.replace(/[0-9]/g,"_");else if(l==d.mask.length)break;for(l+=8==h||46==h?0:1;/[^0-9_]/.test(d.mask.substr(l,1))&&l<d.mask.length&&0<l;)l+=8==h||46==h?-1:1;if(j(d.mask,g)){if(this.value=g,g=this,g="string"==typeof g||g instanceof String?document.getElementById(g):g)g.createTextRange?(g=g.createTextRange(),g.collapse(!0),g.moveEnd(l),g.moveStart(l),g.select()):g.setSelectionRange&&g.setSelectionRange(l,l)}else""==a.trim(g)?
this.value=d.mask.replace(/[0-9]/g,"_"):b.trigger("error_input.xdsoft");break;case !!~[65,67,86,90,89].indexOf(h)&&c:case !!~[27,38,40,37,39,116,17,9,13].indexOf(h):return!0}f.preventDefault();return!1})}}if(d.validateOnBlur)b.off("blur.xdsoft").on("blur.xdsoft",function(){d.allowBlank&&!a.trim(a(this).val()).length?(a(this).val(null),g.data("xdsoft_datetime").empty()):(Date.parseDate(a(this).val(),d.format)||a(this).val(x.now().dateFormat(d.format)),g.data("xdsoft_datetime").setCurrentTime(a(this).val()));
g.trigger("changedatetime.xdsoft")});d.dayOfWeekStartPrev=0==d.dayOfWeekStart?6:d.dayOfWeekStart-1;g.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")};g.data("options",d).on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault();E.hide();B.hide();return!1});var F=w.find(".xdsoft_time_box");F.append(H);F.xdsoftScroller();g.on("afterOpen.xdsoft",function(){F.xdsoftScroller()});g.append(p).append(w);!0!==d.withoutCopyright&&g.append(j);p.append(h).append(y);a("body").append(g);var x=
new function(){var a=this;a.now=function(b){var c=new Date;if(!b&&d.defaultDate){var f=a.strToDate(d.defaultDate);c.setFullYear(f.getFullYear());c.setMonth(f.getMonth());c.setDate(f.getDate())}d.yearOffset&&c.setFullYear(c.getFullYear()+d.yearOffset);!b&&d.defaultTime&&(b=a.strtotime(d.defaultTime),c.setHours(b.getHours()),c.setMinutes(b.getMinutes()));return c};a.isValidDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?!1:!isNaN(a.getTime())};a.setCurrentTime=function(b){a.currentTime=
"string"==typeof b?a.strToDateTime(b):a.isValidDate(b)?b:a.now();g.trigger("xchange.xdsoft")};a.empty=function(){a.currentTime=null};a.getCurrentTime=function(){return a.currentTime};a.nextMonth=function(){var b=a.currentTime.getMonth()+1;12==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()+1),b=0);a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(),b+1,0)).getDate(),a.currentTime.getDate()));a.currentTime.setMonth(b);d.onChangeMonth&&d.onChangeMonth.call&&d.onChangeMonth.call(g,
x.currentTime,g.data("input"));g.trigger("xchange.xdsoft");return b};a.prevMonth=function(){var b=a.currentTime.getMonth()-1;-1==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()-1),b=11);a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(),b+1,0)).getDate(),a.currentTime.getDate()));a.currentTime.setMonth(b);d.onChangeMonth&&d.onChangeMonth.call&&d.onChangeMonth.call(g,x.currentTime,g.data("input"));g.trigger("xchange.xdsoft");return b};a.strToDateTime=function(b){if(b&&b instanceof
Date&&a.isValidDate(b))return b;var c=[];(c=/^(\+|\-)(.*)$/.exec(b))&&(c[2]=Date.parseDate(c[2],d.formatDate))?(b=c[2].getTime()-6E4*c[2].getTimezoneOffset(),c=new Date(x.now().getTime()+parseInt(c[1]+"1")*b)):c=b?Date.parseDate(b,d.format):a.now();a.isValidDate(c)||(c=a.now());return c};a.strToDate=function(b){if(b&&b instanceof Date&&a.isValidDate(b))return b;b=b?Date.parseDate(b,d.formatDate):a.now(!0);a.isValidDate(b)||(b=a.now(!0));return b};a.strtotime=function(b){if(b&&b instanceof Date&&a.isValidDate(b))return b;
b=b?Date.parseDate(b,d.formatTime):a.now();a.isValidDate(b)||(b=a.now(!0));return b};a.str=function(){return a.currentTime.dateFormat(d.format)};a.currentTime=this.now()};h.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){g.data("changed",!0);x.setCurrentTime(0);g.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){b.val(x.str());g.trigger("close.xdsoft")});h.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var b=a(this),c=0,f=!1;(function v(a){x.currentTime.getMonth();
b.hasClass(d.next)?x.nextMonth():b.hasClass(d.prev)&&x.prevMonth();d.monthChangeSpinner&&!f&&(c=setTimeout(v,a?a:100))})(500);a([document.body,window]).on("mouseup.xdsoft",function N(){clearTimeout(c);f=!0;a([document.body,window]).off("mouseup.xdsoft",N)})});w.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var b=a(this),c=0,f=!1,g=110;(function N(a){var h=D[0].clientHeight,j=H[0].offsetHeight,l=Math.abs(parseInt(H.css("marginTop")));b.hasClass(d.next)&&j-h-d.timeHeightInTimePicker>=
l?H.css("marginTop","-"+(l+d.timeHeightInTimePicker)+"px"):b.hasClass(d.prev)&&0<=l-d.timeHeightInTimePicker&&H.css("marginTop","-"+(l-d.timeHeightInTimePicker)+"px");D.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(H.css("marginTop"))/(j-h))]);g=10<g?10:g-10;!f&&(c=setTimeout(N,a?a:g))})(500);a([document.body,window]).on("mouseup.xdsoft",function ba(){clearTimeout(c);f=!0;a([document.body,window]).off("mouseup.xdsoft",ba)})});var u=0;g.on("xchange.xdsoft",function(b){clearTimeout(u);
u=setTimeout(function(){for(var b="",c=new Date(x.currentTime.getFullYear(),x.currentTime.getMonth(),1,12,0,0),f=0,j=x.now();c.getDay()!=d.dayOfWeekStart;)c.setDate(c.getDate()-1);b+="<table><thead><tr>";d.weeks&&(b+="<th></th>");for(var l=0;7>l;l++)b+="<th>"+d.i18n[d.lang].dayOfWeek[(l+d.dayOfWeekStart)%7]+"</th>";var b=b+"</tr></thead><tbody>",n=l=!1;!1!==d.maxDate&&(l=x.strToDate(d.maxDate),l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999));!1!==d.minDate&&(n=x.strToDate(d.minDate),
n=new Date(n.getFullYear(),n.getMonth(),n.getDate()));for(var p,r,t,u,w=[],A,C=!0;f<x.currentTime.countDaysInMonth()||c.getDay()!=d.dayOfWeekStart||x.currentTime.getMonth()==c.getMonth();)w=[],f++,p=c.getDate(),r=c.getFullYear(),t=c.getMonth(),u=c.getWeekOfYear(),w.push("xdsoft_date"),A=d.beforeShowDay&&d.beforeShowDay.call?d.beforeShowDay.call(g,c):null,(!1!==l&&c>l||!1!==n&&c<n||A&&!1===A[0])&&w.push("xdsoft_disabled"),A&&""!=A[1]&&w.push(A[1]),x.currentTime.getMonth()!=t&&w.push("xdsoft_other_month"),
(d.defaultSelect||g.data("changed"))&&x.currentTime.dateFormat(d.formatDate)==c.dateFormat(d.formatDate)&&w.push("xdsoft_current"),j.dateFormat(d.formatDate)==c.dateFormat(d.formatDate)&&w.push("xdsoft_today"),(0==c.getDay()||6==c.getDay()||~d.weekends.indexOf(c.dateFormat(d.formatDate)))&&w.push("xdsoft_weekend"),d.beforeShowDay&&"function"==typeof d.beforeShowDay&&w.push(d.beforeShowDay(c)),C&&(b+="<tr>",C=!1,d.weeks&&(b+="<th>"+u+"</th>")),b+='<td data-date="'+p+'" data-month="'+t+'" data-year="'+
r+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+w.join(" ")+'"><div>'+p+"</div></td>",c.getDay()==d.dayOfWeekStartPrev&&(b+="</tr>",C=!0),c.setDate(p+1);b+="</tbody></table>";y.html(b);h.find(".xdsoft_label span").eq(0).text(d.i18n[d.lang].months[x.currentTime.getMonth()]);h.find(".xdsoft_label span").eq(1).text(x.currentTime.getFullYear());var F="";t=b="";c=function(a,b){var c=x.now();c.setHours(a);a=parseInt(c.getHours());c.setMinutes(b);b=parseInt(c.getMinutes());w=[];(!1!==d.maxTime&&
x.strtotime(d.maxTime).getTime()<c.getTime()||!1!==d.minTime&&x.strtotime(d.minTime).getTime()>c.getTime())&&w.push("xdsoft_disabled");if((d.initTime||d.defaultSelect||g.data("changed"))&&parseInt(x.currentTime.getHours())==parseInt(a)&&(59<d.step||Math[d.roundTime](x.currentTime.getMinutes()/d.step)*d.step==parseInt(b)))d.defaultSelect||g.data("changed")?w.push("xdsoft_current"):d.initTime&&w.push("xdsoft_init_time");parseInt(j.getHours())==parseInt(a)&&parseInt(j.getMinutes())==parseInt(b)&&w.push("xdsoft_today");
F+='<div class="xdsoft_time '+w.join(" ")+'" data-hour="'+a+'" data-minute="'+b+'">'+c.dateFormat(d.formatTime)+"</div>"};if(!d.allowTimes||!a.isArray(d.allowTimes)||!d.allowTimes.length)for(l=f=0;f<(d.hours12?12:24);f++)for(l=0;60>l;l+=d.step)b=(10>f?"0":"")+f,t=(10>l?"0":"")+l,c(b,t);else for(f=0;f<d.allowTimes.length;f++)b=x.strtotime(d.allowTimes[f]).getHours(),t=x.strtotime(d.allowTimes[f]).getMinutes(),c(b,t);H.html(F);t="";f=0;for(f=parseInt(d.yearStart,10)+d.yearOffset;f<=parseInt(d.yearEnd,
10)+d.yearOffset;f++)t+='<div class="xdsoft_option '+(x.currentTime.getFullYear()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"</div>";E.children().eq(0).html(t);f=0;for(t="";11>=f;f++)t+='<div class="xdsoft_option '+(x.currentTime.getMonth()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+d.i18n[d.lang].months[f]+"</div>";B.children().eq(0).html(t);a(g).trigger("generate.xdsoft")},10);b.stopPropagation()}).on("afterOpen.xdsoft",function(){if(d.timepicker){var a;H.find(".xdsoft_current").length?
a=".xdsoft_current":H.find(".xdsoft_init_time").length&&(a=".xdsoft_init_time");if(a){var b=D[0].clientHeight,c=H[0].offsetHeight;a=H.find(a).index()*d.timeHeightInTimePicker+1;c-b<a&&(a=c-b);D.trigger("scroll_element.xdsoft_scroller",[parseInt(a)/(c-b)])}else D.trigger("scroll_element.xdsoft_scroller",[0])}});var A=0;y.on("click.xdsoft","td",function(c){c.stopPropagation();A++;var c=a(this),f=x.currentTime;if(void 0===f||null===f)x.currentTime=x.now(),f=x.currentTime;if(c.hasClass("xdsoft_disabled"))return!1;
f.setDate(1);f.setFullYear(c.data("year"));f.setMonth(c.data("month"));f.setDate(c.data("date"));g.trigger("select.xdsoft",[f]);b.val(x.str());(1<A||!0===d.closeOnDateSelect||0===d.closeOnDateSelect&&!d.timepicker)&&!d.inline&&g.trigger("close.xdsoft");d.onSelectDate&&d.onSelectDate.call&&d.onSelectDate.call(g,x.currentTime,g.data("input"));g.data("changed",!0);g.trigger("xchange.xdsoft");g.trigger("changedatetime.xdsoft");setTimeout(function(){A=0},200)});H.on("click.xdsoft","div",function(b){b.stopPropagation();
var b=a(this),c=x.currentTime;if(void 0===c||null===c)x.currentTime=x.now(),c=x.currentTime;if(b.hasClass("xdsoft_disabled"))return!1;c.setHours(b.data("hour"));c.setMinutes(b.data("minute"));g.trigger("select.xdsoft",[c]);g.data("input").val(x.str());!d.inline&&g.trigger("close.xdsoft");d.onSelectTime&&d.onSelectTime.call&&d.onSelectTime.call(g,x.currentTime,g.data("input"));g.data("changed",!0);g.trigger("xchange.xdsoft");g.trigger("changedatetime.xdsoft")});g.mousewheel&&p.mousewheel(function(a,
b){if(!d.scrollMonth)return!0;0>b?x.nextMonth():x.prevMonth();return!1});g.mousewheel&&D.unmousewheel().mousewheel(function(a,b){if(!d.scrollTime)return!0;var c=D[0].clientHeight,f=H[0].offsetHeight,g=Math.abs(parseInt(H.css("marginTop"))),h=!0;0>b&&f-c-d.timeHeightInTimePicker>=g?(H.css("marginTop","-"+(g+d.timeHeightInTimePicker)+"px"),h=!1):0<b&&0<=g-d.timeHeightInTimePicker&&(H.css("marginTop","-"+(g-d.timeHeightInTimePicker)+"px"),h=!1);D.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(H.css("marginTop"))/
(f-c))]);a.stopPropagation();return h});var C=!1;g.on("changedatetime.xdsoft",function(){if(d.onChangeDateTime&&d.onChangeDateTime.call){var a=g.data("input");d.onChangeDateTime.call(g,x.currentTime,a);delete d.value;a.trigger("change")}}).on("generate.xdsoft",function(){d.onGenerate&&d.onGenerate.call&&d.onGenerate.call(g,x.currentTime,g.data("input"));C&&(g.trigger("afterOpen.xdsoft"),C=!1)}).on("click.xdsoft",function(a){a.stopPropagation()});var K=0;b.mousewheel&&b.mousewheel(function(a,c,f,h){if(!d.scrollInput)return!0;
if(!d.datepicker&&d.timepicker)return K=H.find(".xdsoft_current").length?H.find(".xdsoft_current").eq(0).index():0,0<=K+c&&K+c<H.children().length&&(K+=c),H.children().eq(K).length&&H.children().eq(K).trigger("mousedown"),!1;if(d.datepicker&&!d.timepicker)return p.trigger(a,[c,f,h]),b.val&&b.val(x.str()),g.trigger("changedatetime.xdsoft"),!1});var I=function(){var b=g.data("input").offset(),c=b.top+g.data("input")[0].offsetHeight-1,f=b.left,h="absolute";d.fixed?(c-=a(window).scrollTop(),f-=a(window).scrollLeft(),
h="fixed"):(c+g[0].offsetHeight>a(window).height()+a(window).scrollTop()&&(c=b.top-g[0].offsetHeight+1),0>c&&(c=0),f+g[0].offsetWidth>a(window).width()&&(f=b.left-g[0].offsetWidth+g.data("input")[0].offsetWidth));g.css({left:f,top:c,position:h})};g.on("open.xdsoft",function(){var b=!0;d.onShow&&d.onShow.call&&(b=d.onShow.call(g,x.currentTime,g.data("input")));if(!1!==b&&(g.show(),I(),a(window).off("resize.xdsoft",I).on("resize.xdsoft",I),d.closeOnWithoutClick))a([document.body,window]).on("mousedown.xdsoft",
function L(){g.trigger("close.xdsoft");a([document.body,window]).off("mousedown.xdsoft",L)})}).on("close.xdsoft",function(a){var b=!0;d.onClose&&d.onClose.call&&(b=d.onClose.call(g,x.currentTime,g.data("input")));!1!==b&&(!d.opened&&!d.inline)&&g.hide();a.stopPropagation()}).data("input",b);var R=0;g.data("xdsoft_datetime",x);g.setOptions(d);x.setCurrentTime(f());b.data("xdsoft_datetimepicker",g).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){if(!b.is(":disabled")&&!b.is(":hidden")&&
b.is(":visible")&&(!b.data("xdsoft_datetimepicker").is(":visible")||!d.closeOnInputClick))clearTimeout(R),R=setTimeout(function(){!b.is(":disabled")&&(!b.is(":hidden")&&b.is(":visible"))&&(C=!0,x.setCurrentTime(f()),g.trigger("open.xdsoft"))},100)}).on("keydown.xdsoft",function(b){b=b.which;switch(!0){case !!~[13].indexOf(b):return b=a("input:visible,textarea:visible"),g.trigger("close.xdsoft"),b.eq(b.index(this)+1).focus(),!1;case !!~[9].indexOf(b):return g.trigger("close.xdsoft"),!0}})};a(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",
function(a){17==a.keyCode&&(c=!0)}).on("keyup.xdsoftctrl",function(a){17==a.keyCode&&(c=!1)});return this.each(function(){var b;if(b=a(this).data("xdsoft_datetimepicker")){if("string"===a.type(f))switch(f){case "show":a(this).select().focus();b.trigger("open.xdsoft");break;case "hide":b.trigger("close.xdsoft");break;case "destroy":b=a(this);var c=b.data("xdsoft_datetimepicker");c&&(c.data("xdsoft_datetime",null),c.remove(),b.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),
a(window).off("resize.xdsoft"),a([window,document.body]).off("mousedown.xdsoft"),b.unmousewheel&&b.unmousewheel());break;case "reset":this.value=this.defaultValue,(!this.value||!b.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,d.format)))&&b.data("changed",!1),b.data("xdsoft_datetime").setCurrentTime(this.value)}else b.setOptions(f);return 0}if("string"!==a.type(f))if(!d.lazyInit||d.open||d.inline)j(a(this));else{var q=a(this);q.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function p(){!q.is(":disabled")&&
(!q.is(":hidden")&&q.is(":visible")&&!q.data("xdsoft_datetimepicker"))&&(clearTimeout(g),g=setTimeout(function(){q.data("xdsoft_datetimepicker")||j(q);q.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",p).trigger("open.xdsoft")},100))})}})};a.fn.datetimepicker.defaults=b})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a:a(jQuery)})(function(a){function b(b){var c=b||window.event,f=[].slice.call(arguments,1),j=0,p=0,h=0,y=0,y=0,b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(j=c.wheelDelta);c.detail&&(j=-1*c.detail);c.deltaY&&(j=h=-1*c.deltaY);c.deltaX&&(p=c.deltaX,j=-1*p);void 0!==c.wheelDeltaY&&(h=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(p=-1*c.wheelDeltaX);y=Math.abs(j);if(!d||y<d)d=y;y=Math.max(Math.abs(h),
Math.abs(p));if(!g||y<g)g=y;c=0<j?"floor":"ceil";j=Math[c](j/d);p=Math[c](p/g);h=Math[c](h/g);f.unshift(b,j,p,h);return(a.event.dispatch||a.event.handle).apply(this,f)}var f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d,g;if(a.event.fixHooks)for(var j=f.length;j;)a.event.fixHooks[f[--j]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=
c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};
Date.prototype.dateFormat=function(a){if("unixtime"==a)return parseInt(this.getTime()/1E3);null==Date.formatFunctions[a]&&Date.createNewFormat(a);return this[Date.formatFunctions[a]]()};Date.createNewFormat=function(a){var b="format"+Date.formatFunctions.count++;Date.formatFunctions[a]=b;for(var b="Date.prototype."+b+" = function() {return ",f=!1,c="",d=0;d<a.length;++d)c=a.charAt(d),!f&&"\\"==c?f=!0:f?(f=!1,b+="'"+String.escape(c)+"' + "):b+=Date.getFormatCode(c);eval(b.substring(0,b.length-3)+";}")};
Date.getFormatCode=function(a){switch(a){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(a)+"' + "}};
Date.parseDate=function(a,b){if("unixtime"==b)return new Date(!isNaN(parseInt(a))?1E3*parseInt(a):0);null==Date.parseFunctions[b]&&Date.createParser(b);return Date[Date.parseFunctions[b]](a)};
Date.createParser=function(a){var b="parse"+Date.parseFunctions.count++,f=Date.parseRegexes.length,c=1;Date.parseFunctions[a]=b;for(var b="Date."+b+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+f+"]);\nif (results && results.length > 0) {",d="",g=!1,j="",n=0;n<a.length;++n)j=a.charAt(n),!g&&"\\"==j?g=!0:g?(g=!1,d+=String.escape(j)):(obj=
Date.formatCodeToRegex(j,c),c+=obj.g,d+=obj.s,obj.g&&obj.c&&(b+=obj.c));b+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}";
Date.parseRegexes[f]=RegExp("^"+d+"$");eval(b)};
Date.formatCodeToRegex=function(a,b){switch(a){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:1,c:"z = parseInt(results["+b+"], 10);\n",s:"(\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+
b+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+b+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m = parseInt(results["+b+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y = parseInt(results["+b+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty = parseInt(results["+b+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+b+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+b+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,c:"i = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s = parseInt(results["+b+"], 10);\n",
s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(a)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b)a+=Date.daysInMonth[b];return a+this.getDate()};
Date.prototype.getWeekOfYear=function(){var a=this.getDayOfYear()+(4-this.getDay()),b=7-(new Date(this.getFullYear(),0,1)).getDay()+4;return String.leftPad(Math.ceil((a-b)/7)+1,2,"0")};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return 0==(a&3)&&(a%100||0==a%400&&a)};Date.prototype.getFirstDayOfMonth=function(){var a=(this.getDay()-(this.getDate()-1))%7;return 0>a?a+7:a};
Date.prototype.getLastDayOfMonth=function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>a?a+7:a};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(a){return a.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(a,b,f){a=new String(a);for(null==f&&(f=" ");a.length<b;)a=f+a;return a};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames="January February March April May June July August September October November December".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};function defineService(a,b){if("function"===typeof a){b=a;if("undefined"!==typeof b.dependencyIdentities)return b;a=[]}else"string"===typeof a&&(a=[a]);if(!Array.isArray(a))throw Error("identitiesOrConstructor must be an array.");if("function"!==typeof b)throw Error("serviceConstructor must be a function.");b.dependencyIdentities=a;return b}
function ServiceKernel(){function a(b){if(!(b in g)){if(b in c)return c[b];if(b in d){if(b in g)throw Error("resolveInstance is already being called for the service '"+b+"'.");var f;try{g[b]=!0;var n=d[b],p=[];if(n.dependencyIdentities&&Array.isArray(n.dependencyIdentities))for(var h=0;h<n.dependencyIdentities.length;h++)f=a(n.dependencyIdentities[h]),p.push(f);h=function(a){return n.apply(this,a)};h.prototype=n.prototype;f=new h(p);c[b]=f}finally{delete g[b]}p=f;if(0!==j.length){for(var y,h=0;h<
j.length;h++)j[h].resolve(b,p)&&(y=y||[],y.push(h));if(y)for(h=0;h<y.length;h++)j.splice(y[h],1)}return f}throw Error("The service '"+b+"' has not been defined.","identity");}}function b(a,b,c,d){if(!Array.isArray(a))throw Error("identities must be an array.");if(!Array.isArray(b))throw Error("dependencies must be an array.");if("number"!==typeof c)throw Error("pending must be a number.");if("function"!==typeof d)throw Error("callback must be a function.");if(0>=c)throw Error("pending must be positive.");
return{resolve:function(f,g){var j=a.indexOf(f);if(-1===j)return!1;b[j]=g;return 0===--c?(d.apply({},b),!0):!1}}}function f(c,d){if("undefined"===typeof d){if("string"!==typeof c)throw Error("identities must be a string when no callback is specified.");var f=a(c);if("undefined"===typeof f)throw Error("The service '"+c+"' has not been defined.");return f}"string"===typeof c&&(c=[c]);if(!Array.isArray(c))throw Error("identities must be an array.");if("function"!==typeof d)throw Error("callback must be a function.");
for(var g=[],h=0,n=0;n<c.length;n++)f=a(c[n]),g.push(f),"undefined"===typeof f&&h++;0<h?j.push(b(c,g,h,d)):d.apply({},g)}var c={},d={},g={},j=[],n={define:function(a,b,c){if("string"!==typeof a)throw Error("identity must be a string.");if(0===a.length)throw Error("The identity string may not be empty.");if(a in d)throw Error("The service '"+a+"' has already been defined.");b=defineService(b,c);d[a]=b},defineInstance:function(a,b){this.define(a,function(){return b})},undefine:function(a){if("string"!==
typeof a)throw Error("identity must be a string.");return a in d?(delete d[a],a in c&&delete c[a],!0):!1},require:f};n.defineInstance("kernel",n);n.defineInstance("require",f.bind(this));return n};(function(a){var b={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},f=a(window),c=a(document),d=[],g=f.height(),j=function(){for(var b=f.scrollTop(),j=c.height(),l=j-g,l=b>l?l-b:0,h=0;h<d.length;h++){var n=d[h],w=n.stickyWrapper.offset().top-n.topSpacing-l;b<=w?null!==n.currentTop&&(n.stickyElement.css("position","").css("top",""),n.stickyElement.parent().removeClass(n.className),n.currentTop=null):(w=j-n.stickyElement.outerHeight()-
n.topSpacing-n.bottomSpacing-b-l,w=0>w?w+n.topSpacing:n.topSpacing,n.currentTop!=w&&(n.stickyElement.css("position","fixed").css("top",w),"undefined"!==typeof n.getWidthFrom&&n.stickyElement.css("width",a(n.getWidthFrom).width()),n.stickyElement.parent().addClass(n.className),n.currentTop=w))}},n=function(){g=f.height()},l={init:function(c){var f=a.extend(b,c);return this.each(function(){var b=a(this),c=b.attr("id"),c=a("<div></div>").attr("id",c+"-sticky-wrapper").addClass(f.wrapperClassName);b.wrapAll(c);
f.center&&b.parent().css({width:b.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==b.css("float")&&b.css({"float":"none"}).parent().css({"float":"right"});c=b.parent();c.css("height",b.outerHeight());d.push({topSpacing:f.topSpacing,bottomSpacing:f.bottomSpacing,stickyElement:b,currentTop:null,stickyWrapper:c,className:f.className,getWidthFrom:f.getWidthFrom})})},update:j};window.addEventListener?(window.addEventListener("scroll",j,!1),window.addEventListener("resize",n,!1)):window.attachEvent&&
(window.attachEvent("onscroll",j),window.attachEvent("onresize",n));a.fn.sticky=function(b){if(l[b])return l[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return l.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.sticky")};a(function(){setTimeout(j,0)})})(jQuery);(function(a){a.fn.thermometer=function(b){var f=a.extend({percent:0,orientation:"horizontal",animate:!0,speed:1E3},b||{});return this.each(function(){var b=a(this).data("percent")||f.percent,d=a(this).data("orientation")||f.orientation,g=!1===a(this).data("animate")?!1:f.animate,j=a(this).data("speed")||f.speed,d="vertical"===d.toLowerCase()?"v":"h";isNaN(b)||0>b?b=0:100<b&&(b=100);"string"===a.type(j)&&"slow"===j.toLowerCase()&&(j=1500);a(this).html('<div class="thermometer-outer thermometer-outer-'+
d+'"><div class="thermometer-inner thermometer-inner-'+d+'"></div></div>');var n=g?0:b+"%";"v"===d?(a(this).find(".thermometer-outer").css("position","relative"),a(this).find(".thermometer-inner").css({position:"absolute",bottom:"0",height:n})):a(this).find(".thermometer-inner").css("width",n);g&&(g={},"v"===d?g.height=b+"%":g.width=b+"%",a(this).find(".thermometer-inner").animate(g,j))})}})(jQuery);var goog={object:{},array:{},string:{}};goog.array.ARRAY_PROTOTYPE_=Array.prototype;goog.isDef=function(a){return void 0!==a};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var f=Object.prototype.toString.call(a);if("[object Window]"==f)return"object";if("[object Array]"==f||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==f||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isString=function(a){return"string"==typeof a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.object.getCount=function(a){var b=0,f;for(f in a)b++;return b};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};
goog.array.isEmpty=function(a){return 0==a.length};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.subs=function(a,b){for(var f=a.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<f.length;)c+=f.shift()+d.shift();return c+f.join("%s")};
goog.array.forEach=function(a,b,f){for(var c=a.length,d=goog.isString(a)?a.split(""):a,g=0;g<c;g++)g in d&&b.call(f,d[g],g,a)};goog.object.forEach=function(a,b,f){for(var c in a)b.call(f,a[c],c,a)};goog.object.getValues=function(a){var b=[],f=0,c;for(c in a)b[f++]=a[c];return b};goog.object.getKeys=function(a){var b=[],f=0,c;for(c in a)b[f++]=c;return b};goog.object.map=function(a,b,f){var c={},d;for(d in a)c[d]=b.call(f,a[d],d,a);return c};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};
goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var f={},c=0;c<b;c++)f[arguments[c]]=!0;return f};goog.isDefAndNotNull=function(a){return null!=a};goog.array.map=function(a,b,f){for(var c=a.length,d=Array(c),g=goog.isString(a)?a.split(""):a,j=0;j<c;j++)j in g&&(d[j]=b.call(f,g[j],j,a));return d};
goog.array.filter=function(a,b,f){for(var c=a.length,d=[],g=0,j=goog.isString(a)?a.split(""):a,n=0;n<c;n++)if(n in j){var l=j[n];b.call(f,l,n,a)&&(d[g++]=l)}return d};goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.isNumber=function(a){return"number"==typeof a};goog.array.isNumeric=function(a){return goog.array.every(a,function(a){return null!==(""+a).match(/^[0-9]+$/)})};
goog.array.every=function(a,b,f){for(var c=a.length,d=goog.isString(a)?a.split(""):a,g=0;g<c;g++)if(g in d&&!b.call(f,d[g],g,a))return!1;return!0};goog.array.removeDuplicates=function(a,b,f){for(var b=b||a,f=f||function(){return goog.isObject(j)?"o"+goog.getUid(j):(typeof j).charAt(0)+j},c={},d=0,g=0;g<a.length;){var j=a[g++],n=f(j);Object.prototype.hasOwnProperty.call(c,n)||(c[n]=!0,b[d++]=j)}b.length=d};
goog.array.some=function(a,b,f){for(var c=a.length,d=goog.isString(a)?a.split(""):a,g=0;g<c;g++)if(g in d&&b.call(f,d[g],g,a))return!0;return!1};goog.array.bucket=function(a,b,f){for(var c={},d=0;d<a.length;d++){var g=a[d],j=b.call(f,g,d,a);goog.isDef(j)&&(c[j]||(c[j]=[])).push(g)}return c};
goog.inherits=function(a,b){function f(){}f.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new f;a.prototype.constructor=a;a.base=function(a,d,f){var j=Array.prototype.slice.call(arguments,2);return b.prototype[d].apply(a,j)}};
goog.base=function(a,b,f){var c=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(c.superClass_)return c.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),g=!1,j=a.constructor;j;j=j.superClass_&&j.superClass_.constructor)if(j.prototype[b]===c)g=!0;else if(g)return j.prototype[b].apply(a,
d);if(a[b]===c)return a.constructor.prototype[b].apply(a,d);throw Error("goog.base called from a method of one name to a method of a different name");};goog.object.findKey=function(a,b,f){for(var c in a)if(b.call(f,a[c],c,a))return c};goog.object.findValue=function(a,b,f){return(b=goog.object.findKey(a,b,f))&&a[b]};goog.object.some=function(a,b,f){for(var c in a)if(b.call(f,a[c],c,a))return!0;return!1};
goog.object.getValueByKeys=function(a,b){for(var f=goog.isArrayLike(b),c=f?b:arguments,f=f?0:1;f<c.length&&!(a=a[c[f]],!goog.isDef(a));f++);return a};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.indexOf=function(a,b,f){f=null==f?0:0>f?Math.max(0,a.length+f):f;if(goog.isString(a))return!goog.isString(b)||1!=b.length?-1:a.indexOf(b,f);for(;f<a.length;f++)if(f in a&&a[f]===b)return f;return-1};
goog.array.remove=function(a,b){var f=goog.array.indexOf(a,b),c;(c=0<=f)&&goog.array.removeAt(a,f);return c};goog.array.removeAt=function(a,b){return 1==Array.prototype.splice.call(a,b,1).length};goog.array.reduce=function(a,b,f,c){var d=f;goog.array.forEach(a,function(f,j){d=b.call(c,d,f,j,a)});return d};function deepCompare(){function a(c,d){var n;if(isNaN(c)&&isNaN(d)&&"number"===typeof c&&"number"===typeof d||c===d)return!0;if("function"===typeof c&&"function"===typeof d||c instanceof Date&&d instanceof Date||c instanceof RegExp&&d instanceof RegExp||c instanceof String&&d instanceof String||c instanceof Number&&d instanceof Number)return c.toString()===d.toString();if(!(c instanceof Object&&d instanceof Object)||(c.isPrototypeOf(d)||d.isPrototypeOf(c))||c.constructor!==d.constructor||c.prototype!==
d.prototype||-1<b.indexOf(c)||-1<f.indexOf(d))return!1;for(n in d)if(d.hasOwnProperty(n)!==c.hasOwnProperty(n)||typeof d[n]!==typeof c[n])return!1;for(n in c){if(d.hasOwnProperty(n)!==c.hasOwnProperty(n)||typeof d[n]!==typeof c[n])return!1;switch(typeof c[n]){case "object":case "function":b.push(c);f.push(d);if(!a(c[n],d[n]))return!1;b.pop();f.pop();break;default:if(c[n]!==d[n])return!1}}return!0}var b,f;if(1>arguments.length)return!0;for(var c=1,d=arguments.length;c<d;c++)if(b=[],f=[],!a(arguments[0],
arguments[c]))return!1;return!0};var tm=tm||{};tm.index=tm.index||{};tm=tm||{};
$.fn.wizardWidget=function(a){return this.each(function(){function b(b){var c;$(".wizard-block .view-more").removeClass("open");"#step-1"===b&&(g=g.slice(0,1),c=g[0]);"#prev"==b&&(c=g.pop());if((c=c||$(a.items+"[data-id="+b.slice(1)+"]",f))&&c.length)"#prev"!=b&&g.push(d),a.hideFu.call(d),a.showFu.call(d=c)}var f=$(this),c,d,g;a=$.extend({items:">ul>li",followLinkClass:"a",showFu:function(){this.show()},hideFu:function(){this.hide()},def:0},a);c=$(a.items,f);c.not(d=c.eq(a.def)).hide();g=[d];f.on("click",
a.followLinkClass,function(){var a=$(this).attr("href");b(a);f.trigger("change.slide",a);return!1}).on("close.wizard",function(){b("#step-1");f.trigger("close.slide")})})};
CLS7=function(a,b){this.wizardBlock=a;this.wizardBlockWrapper=b;a.wizardWidget({showFu:function(){this.fadeIn(500);$(".last-step").css("color","#2D81D7")},hideFu:function(){this.hide()},items:">.step",followLinkClass:"a.wizard-link"});a.on("change.slide",$.proxy(function(b,c){if("#step-1"===c||"#prev"===c&&a.hasClass("mini"))a.removeClass("mini").stop().animate({height:204,paddingTop:50},{duration:700}),$(".wizard-block-wrapper").stop().animate({height:204},{duration:700}),this.getIndexOverlay().fadeIn()},
this)).on("close.slide",function(){$.when($(".wizard-block-wrapper")).then(function(){a.css({height:204,paddingTop:50})})});this.wizardSpinner=$('<div class="wizard-spinner"><div/></div>').hide(200);this.wizardSpinner.appendTo(this.wizardBlock);this.filter_overlay=$('<div class="overlay"/>').hide().appendTo(".box-search-results");this.wizardSearchResults=$("#wizard-search-results").css({position:"relative"});this.wizardSearchResultsProducts=$("#products")};
CLS7.startup=function(){$(document).ready(function(){var a=new CLS7($(".wizard-block"),$(".wizard-block-wrapper").hide());$(".wizard-type").click($.proxy(a.onClick,a));$("#wizard-start").click($.proxy(a.openWizard,a));$(".wizard-block .close-x").click($.proxy(a.closeWizard,a))})};
CLS7.prototype.onClick=function(a){var b=$(a.target),f=b.html(),a=b.attr("data-keywords"),c=b.attr("data-prop-topic"),d=b.attr("data-prop-type"),g=b.attr("data-exclude-prop-topic"),j=b.attr("data-exclude-prop-types"),n=b.attr("data-exclude-prop-functionality"),b=b.attr("data-prop-functionality"),l={},q=function(){var a=goog.array.map(arguments,function(a){return!goog.isDef(a)?[]:a.split(",")});return goog.array.reduce(a,function(a,b){return a.concat(b)},[]).join("-")},l={keywords:a,xpr:q(g,
j,n),pr:q(b,c,d)};this.wizardSpinner.fadeIn();this.getIndexOverlay().fadeIn();tm.search.engine.search(l,"wizard").done($.proxy(function(a){$("#js-wrap-view-all").remove();for(var b in l)("undefined"==typeof l[b]||0===l[b].length||"buttonWords"==b)&&delete l[b];b=$.param(l);this.wizardSearchResultsProducts.html(a.getText());$(".last-step").css("color","#fff");CLS44.onDiscountUpdate({target:$("#products")});var c="";20<a.getCount()&&(c="<a onClick=\"_gaq.push(['b._trackEvent', 'wizard', 'click', 'view all']);\" class='btn btn-default btn-listing js-simple-progress-button' id='more' href='/templates.php?"+
b+"'>View all "+f+" templates <div class='progress progress-striped active js-none js-cart-spinner' ><div class='progress-bar progress-bar-default' style='width: 100%' aria-valuemax='100' aria-valuemin='0' aria-valuenow='80' role='progressbar'></div></div></a>");$(".thumbnail-link",this.wizardSearchResults).html(c)},this)).done($.proxy(function(){this.onAfterSearch();this.onStopSearch()},this))};
CLS7.prototype.openWizard=function(){if($("#wizard-start").is(".js-none"))return!1;$("#wizard-start").addClass("js-none");this.wizardBlockWrapper.height(0).show().animate({height:204},{duration:700});$.scrollTo(this.wizardBlock,700);this.getIndexOverlay().fadeIn();return!1};
CLS7.prototype.closeWizard=function(){$("#wizard-start").removeClass("js-none");this.wizardBlockWrapper.stop().animate({height:0},{duration:600,complete:$.proxy(function(){this.wizardBlockWrapper.hide();this.wizardBlock.children().css({visibility:"visible"})},this)});this.wizardBlock.children().css({visibility:"hidden"});this.wizardBlock.removeClass("mini").data("indexoverlay").fadeOut(function(){$(this).detach()});this.wizardBlock.trigger("close.wizard");return!1};
CLS7.prototype.getIndexOverlay=function(){if(!this.wizardBlock.data("indexoverlay")){var a=$('<div class="index-overlay"/>').hide();a.appendTo(this.wizardSearchResults);this.wizardBlock.data({indexoverlay:a})}return this.wizardBlock.data("indexoverlay")};
CLS7.prototype.onStopSearch=function(){$("[rel=tooltip]").tooltip();this.filter_overlay.is(":visible")&&this.filter_overlay.fadeOut();$.fn.leanModal&&($(".js-trigger").leanModal({top:200,overlay:0.5,closeButton:".modal_close"}),$(".js-trigger1").leanModal({top:"scroll",overlay:0.6,closeButton:".modal_close"}),$(".js-trigger2").leanModal({top:200,overlay:0.5,closeButton:".modal_close1, .close-popup"}))};
CLS7.prototype.onAfterSearch=function(){this.getIndexOverlay().fadeOut($.proxy(function(){this.getIndexOverlay().detach().css({top:"18px"})},this));this.wizardSpinner.fadeOut();this.wizardBlock.addClass("mini").stop().animate({height:144,paddingTop:24},{duration:700});this.wizardBlockWrapper.stop().animate({height:168},{duration:700});tm.thumbnail.renew();$(".js-thumbnail").hover(function(){$(this).find("a.zoom").stop().animate({opacity:"1"},250)},function(){$(this).find("a.zoom").stop().animate({opacity:"0"},
250)})};var __topics={state:"open",attr:{"single-select":1},data:[{data:"Art & Culture",attr:{"data-topic":51033},children:[{data:"Art",attr:{id:"topicart","data-topic":50233},children:[{data:"Art Gallery",attr:{"data-topic":50234}},{data:"Art School",attr:{"data-topic":50235}},{data:"Artist Portfolio",attr:{"data-topic":50236}},{data:"Art Store",attr:{"data-topic":50237}},{data:"Art Studio",attr:{"data-topic":50238}},{data:"Clip Art",attr:{"data-topic":50239}},{data:"Print Shop",attr:{"data-topic":50240}},
{data:"Sculpture",attr:{"data-topic":50582}}]},{data:"Music",attr:{"data-topic":50564},children:[{data:"Music Band",attr:{"data-topic":50423}},{data:"Music Portal",attr:{"data-topic":50424}},{data:"Music Store",attr:{"data-topic":50425}},{data:"Recording Studio",attr:{"data-topic":50426}},{data:"Music Festival",attr:{"data-topic":50427}},{data:"Music Blog",attr:{"data-topic":50428}},{data:"Singer",attr:{"data-topic":50617}},{data:"MP3 Store",attr:{"data-topic":50339}},{data:"DJ",attr:{"data-topic":50341,
"data-priority":1}}]},{data:"Museum",attr:{"data-topic":50468}},{data:"Movie",attr:{"data-topic":50331,"data-priority":1}},{data:"Theater",attr:{"data-topic":50332,"data-priority":1}}]},{data:"Animals & Pets",attr:{"data-topic":50159},children:[{data:"Pets",attr:{"data-topic":50220},children:[{data:"Exotic",attr:{"data-topic":50227}},{data:"Cat",attr:{"data-topic":50223}},{data:"Dog",attr:{"data-topic":50222}},{data:"Fish",attr:{"data-topic":50226}},{data:"Bird",attr:{"data-topic":50224}},{data:"Guinea Pigs",
attr:{"data-topic":50229}}]},{data:"Wild",attr:{"data-topic":50584}},{data:"Zoo",attr:{"data-topic":50230}},{data:"Veterinary",attr:{"data-topic":50221}},{data:"Horse",attr:{"data-topic":50225}},{data:"Animal Shelter",attr:{"data-topic":50219}},{data:"Pet Sitting",attr:{"data-topic":50585}},{data:"Dolphin",attr:{"data-topic":50231}},{data:"Reptile",attr:{"data-topic":50228}}]},{data:"Design & Photography",attr:{"data-topic":51034},children:[{data:"Design",attr:{"data-topic":50629},children:[{data:"Exterior Design",
attr:{"data-topic":50545,"data-priority":1},children:[{data:"Landscape Design",attr:{"data-topic":50343,"data-priority":1}},{data:"Garden Design",attr:{"data-topic":50344,"data-priority":1}}]},{data:"Interior & Furniture",attr:{"data-topic":50556},children:[{data:"Interior Design",attr:{"data-topic":50395,"data-priority":1},children:[{data:"Feng Shui",attr:{"data-topic":50396,"data-priority":1}},{data:"Home Remodeling",attr:{"data-topic":50398,"data-priority":1}}]},{data:"Furniture",attr:{"data-topic":50397,
"data-priority":1}},{data:"Decor",attr:{"data-topic":88755,"data-priority":1},children:[{data:"Window Decor",attr:{"data-topic":50399,"data-priority":1}},{data:"Home Decor",attr:{"data-topic":50400,"data-priority":1}}]},{data:"Housewares",attr:{"data-topic":50636,"data-priority":1}},{data:"Window",attr:{"data-topic":50647,"data-priority":1}},{data:"Flooring",attr:{"data-topic":50659,"data-priority":1}}]},{data:"Architecture",attr:{"data-topic":50160,"data-priority":1},children:[{data:"Construction Company",
attr:{"data-topic":50232,"data-priority":1}},{data:"Drafting",attr:{"data-topic":50583,"data-priority":1}}]},{data:"Web Design",attr:{"data-topic":50578}},{data:"Design Portfolio",attr:{"data-topic":50631}},{data:"Design Studio",attr:{"data-topic":50630}}]},{data:"Photography",attr:{"data-topic":50241},children:[{data:"Photo Gallery",attr:{"data-topic":50242}},{data:"Photographer Portfolio",attr:{"data-topic":50243}},{data:"Photo Lab",attr:{"data-topic":50244}},{data:"Photo Studio",attr:{"data-topic":50586}},
{data:"Stock Photo",attr:{"data-topic":118530}}]}]},{data:"Education & Books",attr:{"data-topic":51035},children:[{data:"Books",attr:{"data-topic":50156},children:[{data:"Publishing Company",attr:{"data-topic":50255}},{data:"Book Reviews",attr:{"data-topic":50256}}]},{data:"Education",attr:{"data-topic":50540},children:[{data:"Colleges & Universities",attr:{"data-topic":88754},children:[{data:"University",attr:{"data-topic":50317}}]},{data:"Library",attr:{"data-topic":50323}},{data:"Career & Special Education",
attr:{"data-topic":88756},children:[{data:"Traffic School",attr:{"data-topic":50599}},{data:"Cooking School",attr:{"data-topic":50324}},{data:"Career Education",attr:{"data-topic":50322}},{data:"Business School",attr:{"data-topic":50321}},{data:"Music School",attr:{"data-topic":50320}},{data:"Flight School",attr:{"data-topic":50319}},{data:"Dance School",attr:{"data-topic":50318}},{data:"Language School",attr:{"data-topic":50316}},{data:"Swimming School",attr:{"data-topic":50314}},{data:"Religious School",
attr:{"data-topic":50315}}]},{data:"Primary School",attr:{"data-topic":50603}}]},{data:"Science",attr:{"data-topic":50570},children:[{data:"Astronomy",attr:{"data-topic":50450}},{data:"Astrology",attr:{"data-topic":50333}},{data:"Science Lab",attr:{"data-topic":50654}},{data:"UFO",attr:{"data-topic":50452}}]}]},{data:"Business & Services",attr:{"data-topic":51036},children:[{data:"IT",attr:{"data-topic":50269}},{data:"Security",attr:{"data-topic":50571},children:[{data:"Police",attr:{"data-topic":50455}},
{data:"Fire Department",attr:{"data-topic":50453}},{data:"Locksmith",attr:{"data-topic":50456}},{data:"Private Investigator",attr:{"data-topic":50637}}]},{data:"Agriculture",attr:{"data-topic":50524},children:[{data:"Gardening",attr:{"data-topic":50211}},{data:"Farms",attr:{"data-topic":50208},children:[{data:"Cattle",attr:{"data-topic":50209}},{data:"Poultry",attr:{"data-topic":50212}},{data:"Sheep",attr:{"data-topic":50213}}]},{data:"Fruits & Vegetables",attr:{"data-topic":50210}},{data:"Winery",
attr:{"data-topic":50215}}]},{data:"Environmental",attr:{"data-topic":50639},children:[{data:"Alternative Power",attr:{"data-topic":50525}},{data:"Wind Energy",attr:{"data-topic":50217}},{data:"Solar Energy",attr:{"data-topic":50216}},{data:"Biofuel",attr:{"data-topic":50218}}]},{data:"Auction",attr:{"data-topic":50643}},{data:"Law",attr:{"data-topic":50559,"data-priority":1},children:[{data:"Lawyer",attr:{"data-topic":50404,"data-priority":1}},{data:"Law Firm",attr:{"data-topic":50405,"data-priority":1}}]},
{data:"Antique",attr:{"data-topic":50632},children:[{data:"Antique Store",attr:{"data-topic":50633}}]},{data:"Transportation",attr:{"data-topic":50576},children:[{data:"Moving Company",attr:{"data-topic":50384}},{data:"Maritime",attr:{"data-topic":50479}},{data:"Taxi",attr:{"data-topic":50480}},{data:"Private Airline",attr:{"data-topic":50651}},{data:"Trucking",attr:{"data-topic":50627}}]},{data:"Hotels",attr:{"data-topic":50554,"data-priority":1},children:[{data:"Hotel Reviews",attr:{"data-topic":50387,
"data-priority":1}},{data:"Motel",attr:{"data-topic":50388,"data-priority":1}}]},{data:"Industrial",attr:{"data-topic":50555},children:[{data:"Gas & Oil",attr:{"data-topic":50389}},{data:"Steelworks",attr:{"data-topic":50390}},{data:"Welding",attr:{"data-topic":50391}},{data:"Mining Company",attr:{"data-topic":50392}},{data:"Civil Engineering",attr:{"data-topic":50393}},{data:"Lighting & Electricity",attr:{"data-topic":50394}},{data:"Cement",attr:{"data-topic":50610}},{data:"Timber",attr:{"data-topic":50645}},
{data:"Packaging",attr:{"data-topic":50648}}]},{data:"Maintenance Services",attr:{"data-topic":50560},children:[{data:"Air Conditioning",attr:{"data-topic":50644}},{data:"Cleaning",attr:{"data-topic":50382}},{data:"Delivery Services",attr:{"data-topic":50383}},{data:"Dry Cleaners",attr:{"data-topic":50376}},{data:"Home Repairs",attr:{"data-topic":50380}},{data:"Laundry",attr:{"data-topic":50386}},{data:"Painting Company",attr:{"data-topic":50375}},{data:"Pest Control",attr:{"data-topic":50385}},{data:"Plumbing",
attr:{"data-topic":50378}},{data:"Pool Cleaning",attr:{"data-topic":50379}},{data:"Roofing Company",attr:{"data-topic":50381}},{data:"Window Cleaning",attr:{"data-topic":50377}}]},{data:"Media",attr:{"data-topic":50561},children:[{data:"News Portal",attr:{"data-topic":50406}},{data:"Celebrity Website",attr:{"data-topic":50407}},{data:"TV Channel",attr:{"data-topic":50408}},{data:"Weather",attr:{"data-topic":50616}},{data:"Video Lab",attr:{"data-topic":50409}},{data:"Videographer",attr:{"data-topic":50589}},
{data:"Video Gallery",attr:{"data-topic":50590}}]},{data:"Tobacco",attr:{"data-topic":50596}},{data:"Business Services",attr:{"data-topic":88759},children:[{data:"SEO Website",attr:{"data-topic":50265}},{data:"Outsourcing Company",attr:{"data-topic":50266}},{data:"Translation Bureau",attr:{"data-topic":50270}},{data:"Consulting",attr:{"data-topic":50258}},{data:"Marketing",attr:{"data-topic":50259}},{data:"Accounting",attr:{"data-topic":50262}},{data:"Management",attr:{"data-topic":50263}},{data:"Advertising Agency",
attr:{"data-topic":50264}},{data:"Call Center",attr:{"data-topic":50267}},{data:"Public Relations",attr:{"data-topic":50268}},{data:"Merchant",attr:{"data-topic":50605,"data-priority":1}},{data:"Job Portal",attr:{"data-topic":50635}},{data:"Stationery",attr:{"data-topic":50640}},{data:"Office",attr:{"data-topic":50646}}]},{data:"Finance",attr:{"data-topic":88757},children:[{data:"Banking Services",attr:{"data-topic":50594}},{data:"Financial Advisor",attr:{"data-topic":50261}},{data:"Insurance",attr:{"data-topic":50593}},
{data:"Loans",attr:{"data-topic":55681}},{data:"Credit and Collection",attr:{"data-topic":55682}},{data:"Merchant Services",attr:{"data-topic":50605}},{data:"Investment Company",attr:{"data-topic":50260}},{data:"Mortgages",attr:{"data-topic":50595}}]}]},{data:"Cars & Motorcycles",attr:{"data-topic":51037},children:[{data:"Cars",attr:{"data-topic":50535},children:[{data:"Car Dealer",attr:{"data-topic":50295}},{data:"Car Audio",attr:{"data-topic":50296}},{data:"Car Repair",attr:{"data-topic":50297}},
{data:"Car Tuning",attr:{"data-topic":50298}},{data:"Car Rental",attr:{"data-topic":50299}},{data:"Car Club",attr:{"data-topic":50300}},{data:"Car Wash",attr:{"data-topic":50301}},{data:"Car Insurance",attr:{"data-topic":50302}},{data:"Wheels & Tires",attr:{"data-topic":50303}},{data:"Auto Parts",attr:{"data-topic":50304}},{data:"Car Racing",attr:{"data-topic":50305}},{data:"Limousine Services",attr:{"data-topic":50598}},{data:"Car Scrap Yard",attr:{"data-topic":50306}}]},{data:"Motorcycles",attr:{"data-topic":162009},
children:[{data:"Bike Shop",attr:{"data-topic":50307}},{data:"Biker Club",attr:{"data-topic":50308}}]}]},{data:"Computers & Internet",attr:{"data-topic":51038},children:[{data:"Computers",attr:{"data-topic":50538},children:[{data:"Computer Repair",attr:{"data-topic":50541}},{data:"Computer Store",attr:{"data-topic":50542}}]},{data:"Hosting",attr:{"data-topic":50553}},{data:"Internet",attr:{"data-topic":50557},children:[{data:"Domain Registrar",attr:{"data-topic":50401}},{data:"Email Services",attr:{"data-topic":50402}},
{data:"Internet Cafe",attr:{"data-topic":50403}}]},{data:"Software",attr:{"data-topic":50573},children:[{data:"Software Store",attr:{"data-topic":50652}},{data:"Web Development",attr:{"data-topic":50470}},{data:"Software Company",attr:{"data-topic":50469}}]},{data:"Information Security",attr:{"data-topic":50454}},{data:"Communications",attr:{"data-topic":50537},children:[{data:"Satellite TV",attr:{"data-topic":50312}},{data:"ISP",attr:{"data-topic":50311}},{data:"VOIP",attr:{"data-topic":50313}},
{data:"Mobile Company",attr:{"data-topic":50601}}]}]},{data:"Electronics",attr:{"data-topic":50543},children:[{data:"Mobile Store",attr:{"data-topic":50325}},{data:"Electronics Review",attr:{"data-topic":50326}},{data:"Video Store",attr:{"data-topic":50327}},{data:"Audio Store",attr:{"data-topic":50328}},{data:"Electronics Store",attr:{"data-topic":50602}}]},{data:"Entertainment, Games & Nightlife",attr:{"data-topic":51039},children:[{data:"Entertainment",attr:{"data-topic":50544},children:[{data:"Amusement Park",
attr:{"data-topic":50329}},{data:"Tickets Website",attr:{"data-topic":50330}},{data:"Movie",attr:{"data-topic":50331}},{data:"Theater",attr:{"data-topic":50332}},{data:"Mobile",attr:{"data-topic":50334}},{data:"DVD Store",attr:{"data-topic":50335}},{data:"Event Planner",attr:{"data-topic":50336}},{data:"Toy Store",attr:{"data-topic":50337}},{data:"Flash Games",attr:{"data-topic":50338}},{data:"Radio Website",attr:{"data-topic":50340}},{data:"Fortune Teller",attr:{"data-topic":50451}}]},{data:"Games",
attr:{"data-topic":50550},children:[{data:"Game Portal",attr:{"data-topic":50656}}]},{data:"Night Club",attr:{"data-topic":50565},children:[{data:"DJ",attr:{"data-topic":50341}}]},{data:"Online Casino (Gambling)",attr:{"data-topic":50566},children:[{data:"Online Poker",attr:{"data-topic":50429}},{data:"Slot Machines",attr:{"data-topic":50430}},{data:"Online Betting",attr:{"data-topic":50431}}]},{data:"Hobbies & Crafts",attr:{"data-topic":50612}}]},{data:"Home & Family",attr:{"data-topic":51040},children:[{data:"Family",
attr:{"data-topic":50546},children:[{data:"Kids & Children",attr:{"data-topic":88758},children:[{data:"Baby Store",attr:{"data-topic":50604}},{data:"Day Care",attr:{"data-topic":50309}},{data:"Babysitter",attr:{"data-topic":50345}},{data:"Newborn",attr:{"data-topic":50348}},{data:"Kids Center",attr:{"data-topic":50350}},{data:"Summer Camp",attr:{"data-topic":50349}}]},{data:"Family Center",attr:{"data-topic":50346}},{data:"Family Psychologist",attr:{"data-topic":50347}}]},{data:"Exterior Design",
attr:{"data-topic":50545},children:[{data:"Landscape Design",attr:{"data-topic":50343}},{data:"Garden Design",attr:{"data-topic":50344}}]},{data:"Interior & Furniture",attr:{"data-topic":50556,"data-priority":1},children:[{data:"Interior Design",attr:{"data-topic":50395},children:[{data:"Feng Shui",attr:{"data-topic":50396}},{data:"Home Remodeling",attr:{"data-topic":50398}}]},{data:"Furniture",attr:{"data-topic":50397}},{data:"Decor",attr:{"data-topic":88755},children:[{data:"Window Decor",attr:{"data-topic":50399}},
{data:"Home Decor",attr:{"data-topic":50400}}]},{data:"Housewares",attr:{"data-topic":50636}},{data:"Window",attr:{"data-topic":50647}},{data:"Flooring",attr:{"data-topic":50659}}]},{data:"Tools & Equipment",attr:{"data-topic":50575}},{data:"Architecture",attr:{"data-topic":50160},children:[{data:"Construction Company",attr:{"data-topic":50232}},{data:"Drafting",attr:{"data-topic":50583}}]},{data:"Wedding",attr:{"data-topic":50579},children:[{data:"Wedding Shop",attr:{"data-topic":50471}},{data:"Wedding Planner",
attr:{"data-topic":50472}},{data:"Wedding Dresses",attr:{"data-topic":50473}},{data:"Wedding Venues",attr:{"data-topic":50474}},{data:"Wedding Album",attr:{"data-topic":50475}},{data:"Wedding Cake",attr:{"data-topic":50609}}]}]},{data:"Fashion & Beauty",attr:{"data-topic":51041},children:[{data:"Fashion",attr:{"data-topic":50547},children:[{data:"Jeans",attr:{"data-topic":50356}},{data:"T-shirt Shop",attr:{"data-topic":50354}},{data:"Fashion Blog",attr:{"data-topic":50357}},{data:"Fashion Store",
attr:{"data-topic":50650}},{data:"Apparel",attr:{"data-topic":50355}},{data:"Kids' fashion",attr:{"data-topic":55680}},{data:"Shoe Store",attr:{"data-topic":50353}},{data:"Accessories",attr:{"data-topic":88760},children:[{data:"Eye Glasses",attr:{"data-topic":50653}},{data:"Watches",attr:{"data-topic":50607}},{data:"Handbags",attr:{"data-topic":50352}}]},{data:"Swimwear",attr:{"data-topic":50358}},{data:"Men's Fashion",attr:{"data-topic":88761},children:[{data:"Underwear",attr:{"data-topic":50606}}]},
{data:"Model Agency",attr:{"data-topic":50359}},{data:"Model Portfolio",attr:{"data-topic":50360}},{data:"Women's Fashion",attr:{"data-topic":88762},children:[{data:"Lingerie",attr:{"data-topic":50351}}]}]},{data:"Beauty",attr:{"data-topic":50529},children:[{data:"Cosmetics Store",attr:{"data-topic":50246}},{data:"Spa Accessories",attr:{"data-topic":50247}},{data:"Piercing Shop",attr:{"data-topic":50253}},{data:"Salon",attr:{"data-topic":139083},children:[{data:"Tanning Salon",attr:{"data-topic":50591}},
{data:"Beauty Salon",attr:{"data-topic":50245}},{data:"Massage Salon",attr:{"data-topic":50250}},{data:"Nail Salon",attr:{"data-topic":50249}},{data:"Hair Salon",attr:{"data-topic":50251}},{data:"Tattoo Salon",attr:{"data-topic":50252}}]},{data:"Beauty School",attr:{"data-topic":50248}},{data:"Sauna",attr:{"data-topic":50649}}]},{data:"Jewelry",attr:{"data-topic":50558}},{data:"Wedding",attr:{"data-topic":50579,"data-priority":1},children:[{data:"Wedding Shop",attr:{"data-topic":50471,"data-priority":1}},
{data:"Wedding Planner",attr:{"data-topic":50472,"data-priority":1}},{data:"Wedding Dresses",attr:{"data-topic":50473,"data-priority":1}},{data:"Wedding Venues",attr:{"data-topic":50474,"data-priority":1}},{data:"Wedding Album",attr:{"data-topic":50475,"data-priority":1}},{data:"Wedding Cake",attr:{"data-topic":50609,"data-priority":1}}]}]},{data:"Food & Restaurant",attr:{"data-topic":51042},children:[{data:"Cafe",attr:{"data-topic":50271},children:[{data:"Coffee Shop",attr:{"data-topic":50292}},
{data:"Cocktail Bar",attr:{"data-topic":50294}}]},{data:"Restaurant",attr:{"data-topic":50534},children:[{data:"Steakhouse",attr:{"data-topic":50273}},{data:"BBQ",attr:{"data-topic":50272}},{data:"Asian",attr:{"data-topic":50274},children:[{data:"Japanese",attr:{"data-topic":50275}},{data:"Vietnamese",attr:{"data-topic":50276}},{data:"Chinese",attr:{"data-topic":50277}},{data:"Indian",attr:{"data-topic":50278}},{data:"Sushi Bar",attr:{"data-topic":50279}}]},{data:"European",attr:{"data-topic":50280},
children:[{data:"Italian",attr:{"data-topic":50281}},{data:"Greek",attr:{"data-topic":50282}},{data:"French",attr:{"data-topic":50283}},{data:"Spanish",attr:{"data-topic":50284}},{data:"German",attr:{"data-topic":50285}}]},{data:"Seafood",attr:{"data-topic":50286}},{data:"Mexican",attr:{"data-topic":50287}},{data:"Fast Food",attr:{"data-topic":50288}},{data:"Vegetarian",attr:{"data-topic":50289}},{data:"Tapas",attr:{"data-topic":50290}},{data:"Restaurant Reviews",attr:{"data-topic":50293}},{data:"Pizza",
attr:{"data-topic":50291}}]},{data:"Food",attr:{"data-topic":50549},children:[{data:"Food Store",attr:{"data-topic":50369}},{data:"Frozen Food",attr:{"data-topic":50362}},{data:"Grocery Store",attr:{"data-topic":50363}},{data:"Spice Shop",attr:{"data-topic":50364}},{data:"Sweet Shop",attr:{"data-topic":50366}},{data:"Bakery",attr:{"data-topic":50367}},{data:"Ice Cream",attr:{"data-topic":50370}},{data:"Catering",attr:{"data-topic":50371}},{data:"Chef",attr:{"data-topic":50372}},{data:"Cooking",attr:{"data-topic":50373}},
{data:"Honey Store",attr:{"data-topic":50374}}]},{data:"Drink",attr:{"data-topic":88763},children:[{data:"Water",attr:{"data-topic":50608}},{data:"Wine",attr:{"data-topic":50368}},{data:"Tea Shop",attr:{"data-topic":50365}}]},{data:"Brewery",attr:{"data-topic":50532},children:[{data:"Pub",attr:{"data-topic":50257}}]}]},{data:"Holidays, Gifts & Flowers",attr:{"data-topic":51043},children:[{data:"Holiday",attr:{"data-topic":50310},children:[{data:"E-cards",attr:{"data-topic":50342}},{data:"Christmas",
attr:{"data-topic":50166}},{data:"Halloween",attr:{"data-topic":50179}},{data:"St. Valentine",attr:{"data-topic":50203}},{data:"St. Patrick Green",attr:{"data-topic":50202}}]},{data:"Gifts",attr:{"data-topic":50551},children:[{data:"Gifts Store",attr:{"data-topic":50552}}]},{data:"Flowers",attr:{"data-topic":50548},children:[{data:"Flower Shop",attr:{"data-topic":50361}}]}]},{data:"Medical (Healthcare)",attr:{"data-topic":50562},children:[{data:"Dentistry",attr:{"data-topic":50414}},{data:"Plastic Surgery",
attr:{"data-topic":50415}},{data:"Pediatrician",attr:{"data-topic":50416}},{data:"Ambulance",attr:{"data-topic":50417}},{data:"Hair Clinic",attr:{"data-topic":50418}},{data:"Optometry",attr:{"data-topic":50419}},{data:"Weight Loss",attr:{"data-topic":50410}},{data:"Drug Store",attr:{"data-topic":50411}},{data:"Medical Equipment",attr:{"data-topic":50412}},{data:"Nutrition Store",attr:{"data-topic":50413}},{data:"Counseling",attr:{"data-topic":50597}},{data:"Herbal",attr:{"data-topic":50592}},{data:"Reproduction Clinic",
attr:{"data-topic":50614}},{data:"Rehabilitation",attr:{"data-topic":50615}},{data:"Pregnancy",attr:{"data-topic":50613}}]},{data:"Real Estate",attr:{"data-topic":50568},children:[{data:"Real Estate Agency",attr:{"data-topic":50437}},{data:"Land Broker",attr:{"data-topic":50438}},{data:"Home Staging",attr:{"data-topic":50439}},{data:"Mortgage",attr:{"data-topic":50595,"data-priority":1}}]},{data:"Society & People",attr:{"data-topic":51044},children:[{data:"Police",attr:{"data-topic":50455,"data-priority":1}},
{data:"Personal Pages",attr:{"data-topic":50588}},{data:"Politics",attr:{"data-topic":50567},children:[{data:"Political Candidate",attr:{"data-topic":50432}},{data:"Political Party",attr:{"data-topic":50433}},{data:"City Council",attr:{"data-topic":50434}},{data:"Government",attr:{"data-topic":50435}},{data:"Political News",attr:{"data-topic":50436}}]},{data:"Religious",attr:{"data-topic":50569},children:[{data:"Christian",attr:{"data-topic":50440}},{data:"Presbyterian",attr:{"data-topic":50441}},
{data:"Islam",attr:{"data-topic":50442}},{data:"Islamic Social Center",attr:{"data-topic":50465}},{data:"Jehovah",attr:{"data-topic":50443}},{data:"Buddhist",attr:{"data-topic":50444}},{data:"Hinduism",attr:{"data-topic":50445}},{data:"Catholic",attr:{"data-topic":50446}},{data:"Sinagogue",attr:{"data-topic":50447}},{data:"Lutheran",attr:{"data-topic":50448}},{data:"Easter Gifts Store",attr:{"data-topic":50449}}]},{data:"Charity",attr:{"data-topic":50536},children:[{data:"Child Charity",attr:{"data-topic":50600}}]},
{data:"Law",attr:{"data-topic":50559},children:[{data:"Lawyer",attr:{"data-topic":50404}},{data:"Law Firm",attr:{"data-topic":50405}}]},{data:"Military",attr:{"data-topic":50563},children:[{data:"Veterans",attr:{"data-topic":50420}},{data:"Army",attr:{"data-topic":50421}},{data:"Gun Shop",attr:{"data-topic":50422}}]},{data:"Dating",attr:{"data-topic":50539}},{data:"Wedding",attr:{"data-topic":50579},children:[{data:"Wedding Shop",attr:{"data-topic":50471}},{data:"Wedding Planner",attr:{"data-topic":50472}},
{data:"Wedding Dresses",attr:{"data-topic":50473}},{data:"Wedding Venues",attr:{"data-topic":50474}},{data:"Wedding Album",attr:{"data-topic":50475}},{data:"Wedding Cake",attr:{"data-topic":50609}}]},{data:"Elderly Care",attr:{"data-topic":50457}},{data:"Funeral Services",attr:{"data-topic":50458}},{data:"Life Coach",attr:{"data-topic":50459}},{data:"Retirement Planning",attr:{"data-topic":50460}},{data:"Adoption Agency",attr:{"data-topic":50461}},{data:"Boy Scout",attr:{"data-topic":50462}},{data:"Immigration Consulting",
attr:{"data-topic":50463}},{data:"Social Foundation",attr:{"data-topic":50467}},{data:"City Portal",attr:{"data-topic":50466}},{data:"Teen Club",attr:{"data-topic":50464}}]},{data:"Sports, Outdoors & Travel",attr:{"data-topic":51045},children:[{data:"Sports",attr:{"data-topic":50574},children:[{data:"Diving",attr:{"data-topic":50496}},{data:"Fishing",attr:{"data-topic":50482}},{data:"Fitness",attr:{"data-topic":50481}},{data:"Golf",attr:{"data-topic":50495}},{data:"Soccer",attr:{"data-topic":50498}},
{data:"Sports Store",attr:{"data-topic":50503}},{data:"Yoga",attr:{"data-topic":50494}},{data:"More Sports",attr:{"data-topic":88764},children:[{data:"BMX",attr:{"data-topic":50483}},{data:"Boxing",attr:{"data-topic":50484}},{data:"Martial Arts",attr:{"data-topic":50485}},{data:"Swimming",attr:{"data-topic":50486}},{data:"Archery",attr:{"data-topic":50487}},{data:"Baseball",attr:{"data-topic":50488}},{data:"Paintball",attr:{"data-topic":50489}},{data:"Hunting",attr:{"data-topic":50490}},{data:"Rafting",
attr:{"data-topic":50491}},{data:"Bowling",attr:{"data-topic":50492}},{data:"Billiards",attr:{"data-topic":50493}},{data:"Football",attr:{"data-topic":50497}},{data:"Badminton",attr:{"data-topic":50499}},{data:"Skydiving",attr:{"data-topic":50500}},{data:"Surfing",attr:{"data-topic":50501}},{data:"Rugby",attr:{"data-topic":50502}},{data:"Hockey",attr:{"data-topic":50504}},{data:"Wakeboarding",attr:{"data-topic":50505}},{data:"Bodybuilding",attr:{"data-topic":50506}},{data:"F1",attr:{"data-topic":50507}},
{data:"Field Hockey",attr:{"data-topic":50508}},{data:"Climbing",attr:{"data-topic":50509}},{data:"Shooting",attr:{"data-topic":50510}},{data:"Tennis",attr:{"data-topic":50511}},{data:"Yachting",attr:{"data-topic":50512}},{data:"Horse Racing",attr:{"data-topic":50513}},{data:"Squash",attr:{"data-topic":50514}},{data:"Skiing",attr:{"data-topic":50515}},{data:"Basketball",attr:{"data-topic":50516}},{data:"Motor Sports",attr:{"data-topic":50517}},{data:"Cycling",attr:{"data-topic":50518}},{data:"Cricket",
attr:{"data-topic":50519}},{data:"Running",attr:{"data-topic":50520}},{data:"Hiking",attr:{"data-topic":50521}},{data:"Chess",attr:{"data-topic":50522}},{data:"Cheerleading",attr:{"data-topic":50523}},{data:"Skating",attr:{"data-topic":50618}},{data:"Snowboarding",attr:{"data-topic":50619}},{data:"Extreme Sports",attr:{"data-topic":50620}},{data:"Karting",attr:{"data-topic":50621}},{data:"Curling",attr:{"data-topic":50622}},{data:"Paragliding",attr:{"data-topic":50623}},{data:"Kitesurfing",attr:{"data-topic":50624}},
{data:"Polo",attr:{"data-topic":50625}},{data:"Volleyball",attr:{"data-topic":50641}},{data:"Weapons Store",attr:{"data-topic":50642}},{data:"Online Poker",attr:{"data-topic":50429,"data-priority":1}},{data:"Sports News",attr:{"data-topic":50655}}]}]},{data:"Travel",attr:{"data-topic":50577},children:[{data:"Travel Guide",attr:{"data-topic":50476}},{data:"Travel Agency",attr:{"data-topic":50477}},{data:"Camping",attr:{"data-topic":50478}},{data:"Airline Tickets",attr:{"data-topic":50626}},{data:"Travel Store",
attr:{"data-topic":50628}}]},{data:"Hotels",attr:{"data-topic":50554},children:[{data:"Hotel Reviews",attr:{"data-topic":50387}},{data:"Motel",attr:{"data-topic":50388}}]}]}]};var __ui_types={state:"open",data:[{data:"Web Templates",state:"open",attr:{"data-url":"web-templates.php"},children:[{data:"Website Templates",attr:{"data-type":50108,"data-url":"website-templates.php"}},{data:"Mobile Templates",attr:{"data-type":50117,"data-url":"mobile-templates.php"}},{data:"PSD Templates",attr:{"data-type":67711,"data-url":"psd-templates.php"}},{data:"Photo Gallery Templates",attr:{"data-type":50112,"data-url":"photo-gallery-templates.php"}},{data:"Newsletter Templates",attr:{"data-type":109856,
"data-url":"newsletter-email-templates.php"}},{data:"Muse Templates",attr:{"data-type":120709,"data-url":"adobe-muse-templates.php"}}]},{data:"E-commerce Templates",state:"open",attr:{"data-url":"ecommerce-templates.php"},children:[{data:"Magento Themes",attr:{"data-type":50115,"data-url":"magento-themes.php"}},{data:"PrestaShop Themes",attr:{"data-type":50116,"data-url":"prestashop-themes.php"}},{data:"VirtueMart Templates",attr:{"data-type":50118,"data-url":"virtuemart-templates.php"}},{data:"Jigoshop Themes",
attr:{"data-type":50119,"data-url":"jigoshop-themes.php"}},{data:"osCommerce Templates",attr:{"data-type":50120,"data-url":"oscommerce-templates.php"}},{data:"ZenCart Templates",attr:{"data-type":50121,"data-url":"zencart-templates.php"}},{data:"OpenCart Templates",attr:{"data-type":50122,"data-url":"opencart-templates.php"}},{data:"WooCommerce Themes",attr:{"data-type":61529,"data-url":"woocommerce-themes.php"}},{data:"Shopify Themes",attr:{"data-type":67280,"data-url":"shopify-themes.php"}},{data:"Loaded7 Templates",
attr:{"data-type":89070,"data-url":"loaded7-templates.php"}}]},{data:"CMS Templates",state:"open",attr:{"data-url":"cms-blog-templates.php"},children:[{data:"WordPress Themes",attr:{"data-type":50125,"data-url":"wordpress-themes.php"}},{data:"Joomla Templates",attr:{"data-type":50126,"data-url":"joomla-templates.php"}},{data:"Drupal Templates",attr:{"data-type":50127,"data-url":"drupal-themes.php"}},{data:"Moto CMS 3 Templates",attr:{"data-type":168158}},{data:"Moto CMS HTML Templates",attr:{"data-type":50128,
"data-url":"moto-cms-html-templates.php"}},{data:"Flash CMS Templates",attr:{"data-type":50110,"data-url":"flash-cms-templates.php"}},{data:"Wix Website Templates",attr:{"data-type":61528,"data-url":"wix-website-templates.php"}},{data:"Turnkey Websites 1.0",attr:{"data-type":50151,"data-url":"turnkey-websites-1-0.php"}},{data:"Turnkey Websites 2.0",attr:{"data-type":50150,"data-url":"turnkey-websites-2-0.php"}}]},{data:"Corporate Design",state:"open",attr:{"data-url":"corporate-design.php"},children:[{data:"PowerPoint Templates",
attr:{"data-type":50132,"data-url":"powerpoint-templates.php"}},{data:"Logo Templates",attr:{"data-type":50133,"data-url":"logo-templates.php"}},{data:"Corporate Identity",attr:{"data-type":50134,"data-url":"corporate-identity.php"}},{data:"Logosets",attr:{"data-type":50135,"data-url":"logosets.php"}},{data:"Icon Sets",attr:{"data-type":50136,"data-url":"iconsets.php"}}]},{data:"Flash & Media",state:"open",children:[{data:"Flash Intro Templates",attr:{"data-type":50111,"data-url":"flash-intro.php"}},
{data:"Flash Templates",attr:{"data-type":50109,"data-url":"flash-templates.php"}},{data:"SWiSH Templates",attr:{"data-type":50113,"data-url":"swish-templates.php"}},{data:"After Effects Intros",attr:{"data-type":50146,"data-url":"after-effects-intros.php"}},{data:"After Effects Logo Reveals",attr:{"data-type":50147,"data-url":"after-effects-logo-reveals.php"}},{data:"Video Ecards",attr:{"data-type":50148,"data-url":"video-ecards.php"}},{data:"HD Graphics Packages",attr:{"data-type":50149,"data-url":"hd-graphics-packages.php"}},
{data:"Music",attr:{"data-type":50137,"data-url":"stock-music.php"}},{data:"Silverlight Templates",attr:{"data-type":50138,"data-url":"silverlight-templates.php"}},{data:"Silverlight Intro Templates",attr:{"data-type":50139,"data-url":"silverlight-intro-templates.php"}}]},{data:"Facebook Layouts",state:"open",attr:{"data-url":"facebook-layouts.php"},children:[{data:"Facebook Flash Templates",attr:{"data-type":50141,"data-url":"facebook-flash-templates.php"}},{data:"Facebook Flash CMS Templates",attr:{"data-type":50142,
"data-url":"facebook-flash-cms-templates.php"}},{data:"Facebook Templates",attr:{"data-type":50143,"data-url":"facebook-templates.php"}},{data:"Turnkey CMS Facebook Templates",attr:{"data-type":50144,"data-url":"turnkey-cms-facebook-templates.php"}},{data:"Facebook HTML CMS Templates",attr:{"data-type":50145,"data-url":"facebook-html-cms-templates.php"}}]}]};var Tm=Tm||{};Tm.abstractCheckout=function(){};Tm.abstractCheckout.prototype.steps=$("#content");Tm.abstractCheckout.prototype.checkField=function(a){for(var b=[],f=regula.validate(),c=0;c<f.length;c++)$(f[c].failingElements).hasClass(a)&&-1===$.inArray(f[c].message,b)&&b.push(f[c].message);return b};Tm.abstractCheckout.prototype.signChecking=function(a){if(a||!$.getQueryParam("_force_redirect"))a=new Tm.Signin,this.switchStep(a.getCheckOutStep())};
Tm.abstractCheckout.prototype.switchStep=function(a,b){this.steps.checkoutSteps("switch",a,b)};Tm.abstractCheckout.prototype.getStep=function(){return this.steps.checkoutSteps("get-step")};Tm.abstractCheckout.prototype.showLoginError=function(a){var b=$(".js-checkout-login-error:first");a?b.html('<div class="alert" style="width: 225px;">'+a+"</div>"):b.html("")};
Tm.abstractCheckout.prototype.goToSignin=function(a,b){"undefined"==typeof a&&(a=!1);"undefined"==typeof b&&(b="");this.switchStep("step1",{email:b});if(a){$("#returning-customer-radio").click();var f=document.forms.checkout_signin;$(f.email).val(b);$(f.password).val("").focus()}return this};Tm.abstractCheckout.prototype.checkBillingInfoForm=function(){var a=document.forms.billingInfo;$(a).formHandler("validate");return $(a).formHandler("get-errors")};
Tm.abstractCheckout.prototype.signinCallback=function(a){"undefined"!=typeof a.breadcrumbsHTML&&this.changeBredcrumbs(a.breadcrumbsHTML);this.changeDetails(a);this.checkBillingInfoForm();tm.sprite.svginit()};Tm.abstractCheckout.prototype.changeform=function(){};Tm.abstractCheckout.prototype.changeBredcrumbs=function(a){$(".js-checkout-step-links").replaceWith(a)};
Tm.abstractCheckout.prototype.changeDetails=function(a){"undefined"!=typeof a.isCartFree&&!a.isCartFree&&($(".js-free-checkout-block").addClass("js-none"),$(".js-premium-checkout-block").removeClass("js-none"))};
Tm.abstractCheckout.prototype.createOrder=function(a,b){$.ajax({url:"/checkout-ajax/create-order.php",type:"POST",data:a,datatype:"json",success:function(a){"undefined"!=typeof a.error?"undefined"!=typeof a.location?location.href=a.location:(b.paymentSelector("show-server-error",a.error),b.paymentSelector("enable-selector"),b.paymentSelector("enable-submit-button")):"undefined"!=typeof a.paymentForm?($("body:first").html(a.paymentForm),$("form:first").submit()):"undefined"!=typeof a.paymentLink?location.href=
a.paymentLink:"undefined"!=typeof a.redirectUrl&&(location.href=a.redirectUrl)},error:function(){b.paymentSelector("enable-selector");b.paymentSelector("enable-submit-button");b.paymentSelector("show-server-error","The server is temporarily unavailable")}})};Tm.abstractCheckout.prototype.isFree=function(){return!1};(function(a){function b(b){var c=!1;g.each(function(){var d=a(this);d.is(".js-step-link-"+b)?(c=!0,d.addClass("active")):d.removeClass("active");c?d.removeClass("step-passed"):d.addClass("step-passed")})}function f(c){var f=d.filter(".js-step-"+c);d.hide();f.show();b(c);"undefined"!==typeof _gaq&&(_gaq.push(["a._trackPageview"]),_gaq.push(["b._trackPageview"]));a(window.document).scrollTop(0)}function c(b,c){if(a.isFunction(j[b])){var f=d.filter(".js-step-"+c).get(0);return j[b](window.History,f,
c)}}var d,g,j={initial_step:"step1",before_tab_switching:a.noop,after_tab_switching:a.noop};a.fn.checkoutSteps=function(n,l,q){d=a(this).find("div.js-step");g=a(this).find(".js-checkout-step-links .js-step-link");var t=window.History;switch(n){case "switch":a:if(n=d.filter(".js-step-"+l),n.size()){var p=n.data("url"),h="TemplateMonster.com";if(p){if(t.enabled)"undefined"!==typeof n.data("title")&&(h+=": "+n.data("title")),t.pushState({step:l},h,p),window.location.pathname!=p&&(d.hide(),n.show());
else if(window.location.pathname!=p){a.isPlainObject(q)||(q={});q._force_redirect=1;window.location.href=p+"?"+a.param(q);break a}b(l)}}break;case "get-step":return g.filter(".active").data("step");case "redrawNavigationLinks":b(l);break;default:j=a.extend(j,a.isPlainObject(n)?n:{}),l=t.enabled?j.initial_step:a(this).checkoutSteps("get-step"),c("before_tab_switching",l),q=j.initial_step,t.enabled&&(t.Adapter.bind(window,"statechange",function(){var a=t.getState();c("before_tab_switching",a.data.step);
f(a.data.step);c("after_tab_switching",a.data.step)}),f(q)),c("after_tab_switching",l)}return this}})(jQuery);
(function(a){var b={status_index:"selector_status",item_selector:".item.panel",handler_selector:".js-radio-collapse",submit_button_selector:".js-choose-payment-system",server_error_container:".js-checkout3-error-block:first",item_input_name:"paymentCheck"};a.fn.paymentSelector=function(f,c){b=a.extend(b,a.isPlainObject(f)?f:{});switch(f){case "show-server-error":a(b.server_error_container).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+c+
"</div>");break;case "hide-server-error":a(b.server_error_container).html("");break;case "enable-selector":var d=b;a(this).data(d.status_index,!0);break;case "disable-selector":d=b;a(this).data(d.status_index,!1);break;case "enable-submit-button":var g=a(b.submit_button_selector,this);a(document).trigger("stop.cart.load",{button:g,callbackFunk:function(){g.prop("disabled",!1)}});break;case "disable-submit-button":var j=a(b.submit_button_selector,this);a(document).trigger("start.cart.load",{button:j,
callbackFunk:function(){j.removeClass("disabled")}});j.prop("disabled",!0);break;default:var n=this,l=b;a(n).data(l.status_index,!0);a(l.handler_selector,n).attr("data-toggle","collapse");a(n).on("show.bs.collapse",function(b){if(!a(n).data(l.status_index))return!1;a(l.item_selector,n).removeClass("selected").find('input[name="'+l.item_input_name+'"]').removeProp("checked");a(b.target).parents(l.item_selector+":first").addClass("selected").find('input[name="'+l.item_input_name+'"]').prop("checked",
!0);return!0}).on("hide.bs.collapse",function(b){return a(b.target).parents(l.item_selector+".selected").length?!1:!0})}return this}})(jQuery);Tm=Tm||{};Tm.Checkout=function(){Tm.abstractCheckout.call(this)};Tm.Checkout.prototype=new Tm.abstractCheckout;Tm.Checkout.prototype.constructor=Tm.Checkout;Tm.Checkout.prototype.countries_with_states=["US","CA"];Tm.Checkout.prototype._payment_selector=null;Tm.Checkout.prototype._order_data=null;
Tm.Checkout.prototype.fillInfoForm=function(a){var b=document.forms.billingInfo;$(b).formHandler("disable-validation");$(b.name).val(a.name);$(b.email).val(a.email);$(b.postalcode).val(a.postalcode);$(b.city).val(a.city);$(b.address).val(a.address);var f=$(b.contactme).filter(":checkbox");a.phone===a.contactphone?f.attr("checked","checked"):f.removeAttr("checked");f.trigger("change");$(b.phone).val(a.phone);$(b.contactphone).val(a.contactphone);var c=f="";"undefined"!==typeof a.country&&(f=a.country);
f||(f=$.cookie("country_code"));"undefined"!==typeof a.state&&(a.state.length&&"XX"!==a.state)&&(c=a.state);$(b.state).val(c).change();$(b.country).val(f).change();$(b).formHandler("reset-errors");$(b).formHandler("enable-validation")};
Tm.Checkout.prototype.initSignInForms=function(a,b){$(a).formHandler({on_submit_success:function(a,b,d){$(a).formHandler("show-ajax-progress");(new Tm.Signin).signInCallback(d,function(){$(a).formHandler("hide-ajax-progress")})}});$(b.customer).click(function(){var a=$(".js-customer-new-from"),b=$(".js-customer-sigin-from");switch(this.value){case "new":b.hide();a.show();break;case "existing":b.show(function(){var a=$(":input[name=email]",this),b=$(":input[name=password]",this);a.val().length?b.focus():
a.focus()}),a.hide()}})};
Tm.Checkout.prototype.initBillingInfoForm=function(a){var b=this;$(".js-checkout-calback-step2:first").click(function(){b.switchStep("step2");return!1});var f=$(a.country),c=$(a.state);f.val()||f.val($.cookie("country_code"));renameCompleteButton();c.change(function(){$(this).trigger("chosen:updated")});f.change(function(){var a=!0,f="",j="",n="";-1!==$.inArray(this.value,b.countries_with_states)?($(this).is(":disabled")||(a=!1),j="",c.val()&&"XX"!==c.val()&&(n=c.val())):this.value.length&&(f="Outside U.S./Canada",
n=j="XX");c.find("option:first").text(f).val(j).end().attr("disabled",a);c.val(n).data("validation-value",-1);c.change();$(this).trigger("chosen:updated")}).change();f.chosen({placeholder_text_single:" ",width:f.css("width")});c.chosen({placeholder_text_single:" ",width:c.css("width")});$(a.contactme).change(function(){var b=document.forms.billingInfo;$(b.phone).change();$(a.contactphone).trigger("keyup");$(this).is(":checked")?$(".js-contact-phone-container",b).hide():$(".js-contact-phone-container",
b).show();$(this).blur()});$(a).formHandler({on_empty_checks_callbacks:{phone:function(a){$(a.contactme).filter(":checkbox").is(":checked")&&(a.contactphone.value=a.phone.value)},contactphone:function(a){return $(a.contactme).filter(":checkbox").is(":checked")?!0:null}},on_before_validate:function(a){$([a.phone,a.contactphone]).each(function(){this.value=this.value.replace(/[^\d]/gi,"")})},on_after_validate:function(a){var c=(new Date).toString();$(a.localtime).val(c);if(-1===$.inArray(a.country.value,
b.countries_with_states)&&$(a.state).is(":disabled")){var c=$(a).data("validation-errors"),f;for(f in c)"state"===c[f].name&&delete c[f];$(a).data("validation-errors",c)}},on_submit_success:function(c,f,j){$(c).formHandler("show-ajax-progress");$(".js-billinginfo-details").html(j.billingInfoDetailsHtml);$("#payment-methods-container").html(j.paymentMethodsFormHtml);$("#payment-collapse").paymentSelector();c=new Tm.Signin;c.checkCookie();c._wacJsonP(j.wacAuth,function(){0==$(".js-cart-summary .js-total-price").attr("data-price")?
($(a).formHandler("show-ajax-progress"),$(".js-payment-complete-order .js-choose-payment-system").click()):($(a).formHandler("hide-ajax-progress"),b.switchStep("step3"));return!1})}});$(".js-new-customer-link",b.steps).click(function(){b.showLoginError("");b.resetBillingForm();var a=new Tm.Signin;if(a.isSignedIn()){var c=this;$(c).prop("disabled",!0);a.signOut({on_success:function(){$(c).prop("disabled",!1);b.switchStep("step2");(new CLS2).recalculate()}})}else b.switchStep("step2"),(new CLS2).recalculate();
return!1}).removeAttr("disabled").removeClass("disabled");$("#billingInfo-form").on("click",".js-goto-login",function(){b.goToSignin(!0,a.email.value);return!1})};Tm.Checkout.prototype.changeform=function(){$(".billing-details").not(":visible")&&"billingInfo"in document.forms&&($(".user-details").addClass("js-none"),$(".billing-details").removeClass("js-none"),this.initBillingInfoForm(document.forms.billingInfo))};
Tm.Checkout.prototype.initPaymentMethodsContainer=function(){var a=this;$("#payment-collapse").paymentSelector();$("#payment-methods-container").on("click",".js-choose-payment-system",function(){var b=$(this);a._payment_selector=$("#payment-collapse, .js-payment-form-block");a._payment_selector.paymentSelector("disable-submit-button");var f=b.attr("data-payment"),b=b.attr("data-offer-id"),c=$(".js-total-redeemed-bonus-amount").attr("data-amount"),d=(new Date).toString();a._payment_selector.paymentSelector("disable-selector");
a._order_data={payment:f,bonusesAmount:c,localTime:d};"undefined"!=typeof b&&(a._order_data.addOffer=b);a.createOrder(a._order_data,a._payment_selector);return!1})};
Tm.Checkout.prototype.init=function(){var a=document.forms.billingInfo,b=document.forms.signin_mode,f=document.forms.checkout_signin,c={before_tab_switching:this._onBeforeStepSwitching,after_tab_switching:$.proxy(this._onAfterStepSwitching,this)},d=$(".js-checkout-step-links .js-step-link-step4.active");d.length&&(c.initial_step=d.data("step"));if(d=window.location.href.match(/step([0-9]+)\.html$/))c.initial_step="step"+d[1];a&&this.initBillingInfoForm(a);f&&b&&this.initSignInForms(f,b);this.initPaymentMethodsContainer();
this.steps.checkoutSteps(c);this.signChecking()};Tm.Checkout.prototype.resetBillingForm=function(){this.fillInfoForm({});$(document.forms.billingInfo).formHandler("show-errors",[])};Tm.Checkout.prototype._onBeforeStepSwitching=function(a,b,f){-1!==$.inArray(f,["step2","step3"])&&(a=$(b).find(".js-cart-summary-container"),0===a.children("form").size()&&(b=$(".js-cart-summary-container .js-cart-summary"),a.append(b)));-1!==$.inArray(f,["step3"])&&$("#payment-collapse, .js-payment-form-block").paymentSelector("hide-server-error")};
Tm.Checkout.prototype._onAfterStepSwitching=function(a,b,f){if((a=document.forms.checkout_signin)&&"step1"===f)b=new Tm.Signin,(b=b.isSignedIn()?b.getUserEmail():$.getQueryParam("email"))?($(a.email).val(b),$(a.password).val(""),$(a).formHandler("hide-errors"),$("#returning-customer-radio").click()):($(a.email).val(""),$(a.password).val(""),$(a).formHandler("hide-errors"),$("#new-customer-radio").click());"step2"==f&&(a=document.forms.billingInfo,$(a).formHandler("reset-errors"),$(a).formHandler("focus-first"));
"step3"==f&&(new CLS1).focusFirst();this.steps.checkoutSteps("redrawNavigationLinks",f)};Tm.Checkout.prototype.isFree=function(){return!1};$(document).ready(function(){$(".payment-methods .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",!1)})});Tm=Tm||{};
Tm.StatusDownload=function(){return{init:function(){var a=this;this.stopRefresh=!1;var b=detectOldIe()?1E4:3E4;a.initMerchantSystem();this.checkAutoUpdate()&&(this.updateStatusDownloadMarker=setInterval(function(){a.getStatusDownload()},b));b=this.getOrderInfoBlock();a.initApvForm(b);a.checkOffersPopup(b)},skipApvForm:function(a){var b=this.getOrderInfoBlock(),f=this;$(a).data("disabled")||($(a).data("disabled",1).parents("div:first").append('<span class="js-apv-progress">&nbsp;&nbsp;<img src="/img/progress.gif"></span>'),$.ajax({url:"/checkout-ajax/skip-apv.php",
type:"post",data:{order_id:f.getOrderId()},datatype:"json",success:function(c){$(a).data("disabled",0);$(".js-apv-progress").remove();f.onStatusAjaxSuccess(b,c)},error:function(){$(a).data("disabled",0);$(".js-apv-progress").remove()}}));return!1},initApvForm:function(a){var b=this,f=this.getOrderInfoBlock(),c=this.getApvForm(a);c.length&&!c.data("is_form_initialized")&&c.formHandler({popover_placement:"top",enable_inputs_on_load:!0,on_before_validate:function(a){$(a).find("input[name=phone]").each(function(){this.value=
this.value.replace(/[^\d]/gi,"")});$(a).find("#apv-request-form-submit").removeClass("disabled").removeAttr("disabled");$(a).find("#apv-confirm-form-submit").removeClass("disabled").removeAttr("disabled")},on_submit_success:function(c,f,j){b.onStatusAjaxSuccess(a,j)}}).data("is_form_initialized",1);f=f.find(".js-apv-skip");detectOldIe()?f.attr("onclick","(new Tm.StatusDownload()).skipApvForm(); return false;"):f.click(function(){b.skipApvForm(this);return!1})},onStatusAjaxSuccess:function(a,b){b.status&&
("undefined"!==typeof b.orderInfoHTML&&a.html(b.orderInfoHTML),"undefined"!==typeof b.trackingCodeHTML&&$("#order-tracking").html(b.trackingCodeHTML),"undefined"!==typeof b.offersListHTML&&$("#status-download-offers-popup-content").html(b.offersListHTML).data("show-popup",!!b.offersListHTML.length),this.initApvForm(a),this.checkOffersPopup(a));this.checkAutoUpdate()},getOrderInfoBlock:function(){return $(".js-order-info")},getApvForm:function(a){return a.find("form")},getStatusDownload:function(){var a=
this,b=a.getOrderInfoBlock();$.ajax({url:"/checkout-ajax/status-download.php",type:"post",datatype:"json",data:{order_id:a.getOrderId(),status_id:a.getOrderStatusId(),referer:location.href},success:function(f){a.onStatusAjaxSuccess(b,f)},error:function(){}})},getOrderId:function(){return $.url().param("order_id")},getOrderStatusId:function(){return $(".js-order-info .js-order-page").data("status-id")},isAutoUpdate:function(){return!!$(".js-order-info .js-order-page").data("autoupdate")},checkAutoUpdate:function(){var a=
this.isAutoUpdate();!a&&this.updateStatusDownloadMarker&&clearInterval(this.updateStatusDownloadMarker);return a},initRadioButtons:function(){$("li.js-payment-wrapper").click(function(){$(this).addClass("payment-selected").find('input[type="radio"]').attr("checked",!0);$(this).siblings().removeClass("payment-selected").find('input[type="radio"]').attr("checked",!1)})},checkOffersPopup:function(){var a=$("#status-download-offers-popup-content");a.length&&a.data("show-popup")&&(this.initRadioButtons(),
this.initRecurrentMerchantSystem(),$("#js-cart-short-description-block").modal({backdrop:"static"}),$("#js-cart-short-description-block").modal("show"))},enablePaymentMethod:function(){$(".js-buy-now").css("cursor","pointer").removeAttr("disabled");$(".js-payment-wrapper").bind("click",this.initRadioButtons());$(".js-change-card").removeAttr("disabled","disabled").css("pointer-events","auto");$(".js-buy-clicked").removeClass("js-buy-clicked").children().addClass("js-none")},initMerchantSystem:function(){var a=
this;$(".js-order-info").on("click",".js-buy-now",function(){$(".js-buy-now").css("cursor","default").attr("disabled","disabled");$(this).addClass("js-buy-clicked").children().removeClass("js-none");var b={order_id:$("#payment-methods-container").attr("data-order"),pay_type:$(this).attr("data-payment")};$.ajax({url:"/jajaxserver.php?app=SystemCart&controller=CheckFormDetails&action=checkAlternativeCheckout",type:"POST",data:b,datatype:"json",success:function(b){"redirect"in b?location.href=b.redirect:
(a.enablePaymentMethod(),a.errorResponse("ams"))},error:function(){a.enablePaymentMethod();a.errorResponse("ams")}})})},errorResponse:function(a){$(".js-status-download-"+a+"-error-block").html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Error creating order</div>')},initRecurrentMerchantSystem:function(){var a=this;$(".js-choose-payment-system").on("click",function(){var b=$('input[name="paymentCheck"]:checked',
"#payment-methods-container").attr("data-payment"),f=(new Date).toString(),c=$("#payment-methods-container").attr("data-offer-id"),d=$("#payment-methods-container").attr("data-offer-channel-id"),b={payment:b,bonusesAmount:0,localTime:f,addOffer:c,channelId:d};$(".js-buy-now").css("cursor","default").attr("disabled","disabled");$(".js-payment-wrapper").css("cursor","default").unbind("click",a.initRadioButtons());$(".js-change-card").css("cursor","default").attr("disabled","disabled").css("pointer-events",
"none");$(this).addClass("js-buy-clicked").children().removeClass("js-none");$.ajax({url:"/checkout-ajax/create-order.php",type:"POST",data:b,datatype:"json",success:function(b){"undefined"!=typeof b.error?(a.enablePaymentMethod(),a.errorResponse("rms")):"undefined"!=typeof b.paymentForm?($("body:first").html(b.paymentForm),$("form:first").submit()):"undefined"!=typeof b.paymentLink?location.href=b.paymentLink:"undefined"!=typeof b.redirectUrl?location.href=b.redirectUrl:(a.enablePaymentMethod(),
a.errorResponse("rms"))},error:function(){a.enablePaymentMethod();a.errorResponse("rms")}})})}}};regula.override({name:"NotBlank",defaultMessage:"{label} cannot be blank.",constraintType:regula.Constraint.NotBlank});regula.override({name:"HTML5Required",defaultMessage:"{label} is required.",constraintType:regula.Constraint.HTML5Required});regula.override({name:"Length",defaultMessage:"{label} length must be between {min} and {max}.",constraintType:regula.Constraint.Length});regula.override({name:"Email",defaultMessage:"{label} is not a valid email.",constraintType:regula.Constraint.Email});
regula.override({name:"HTML5Email",defaultMessage:"{label} is not a valid email.",constraintType:regula.Constraint.HTML5Email});regula.override({name:"Integer",defaultMessage:"{label} must be an integer.",constraintType:regula.Constraint.Integer});regula.override({name:"Pattern",defaultMessage:"{label} needs to match {regex}{flags}.",constraintType:regula.Constraint.Pattern});regula.override({name:"Max",defaultMessage:"{label} needs to be lesser than or equal to {value}.",constraintType:regula.Constraint.Max});
regula.override({name:"Min",defaultMessage:"{label} needs to be greater than or equal to {value}.",constraintType:regula.Constraint.Min});regula.override({name:"Checked",defaultMessage:"{label} needs to be checked.",constraintType:regula.Constraint.Checked});(function(a){function b(b,c,d){if(n(b)){var f=a(c).val(),g=a(c).data("validation-value");if(f!==g||a(c).is(":checkbox")){d.autotrim_fields&&f!==a.trim(f)&&(f=a.trim(f),a(c).val(f));var g=[],j=a(c).attr("name");if(a(c).is("[required]")&&c&&0===a.trim(a(c).val()).length){var q=a(c).parents(".form-group:first").find("label"),r=a.trim(q.data("label"));r.length||(r=a.trim(q.html()));r.length||(r=a.trim(a(c).data("label")));r.length||(r=a.trim(a(c).attr("placeholder")));r.length&&":"===r.substr(-1)&&(r=
r.substr(0,r.length-1));g.push("Please enter "+r)}else{var B=[],E=[];d.disable_regula||a(a.regula("validate")).each(function(a,c){for(var d in c.failingElements)if(c.failingElements[d].form===b)a:{var f=E,g=c.failingElements[d].name,h=c.constraintName,j=c.message,l=void 0;for(l in f)if(f[l].name===g){f[l].messages[h]=j;break a}l={};l[h]=j;f.push({name:g,messages:l})}});for(r in E)if(E[r].name===j){B=E[r].messages;break}r=B;for(q in r)-1===a.inArray(r[q],g)&&(g.push(r[q]),a(b).formValidation("google-tag-track-event",
j,r[q].substr(0,255)))}0===g.length&&(a.isPlainObject(d.validator_callbacks)&&a.isFunction(d.validator_callbacks[j]))&&(g=d.validator_callbacks[j](b,c,d));var q={name:j,messages:g},d=a(b).data("validation-errors"),r=!1,F;for(F in d)if("undefined"!==typeof d[F]&&d[F].name===q.name){d[F]=q;r=!0;break}r||d.push(q);q=[];for(F in d)d[F].messages&&0<d[F].messages.length&&q.push(d[F]);d=q;a(b).data("validation-errors",d);l(b,"mergeFormErrors ",d);a(c).data("validation-value",f);l(b,'checkField "'+j+'",  messages: ',
g)}}}function f(b,c,f){var g=[],j=d(b),n=a(b).data("validation-errors");a.isArray(f)||(f=[]);var q=[],r;for(r in j)if("undefined"!==typeof j[r]){var B=a(j[r]).attr("name");if(!(f.length&&-1===a.inArray(B,f))){var E=0===a.trim(a(j[r]).val()).length,F=a(j[r]).is(":checkbox");if(!c.hide_errors_for_empty||!E&&!F)for(var x in n)if(n[x].name===B)g.push(n[x]);else if("undefined"===typeof n[x].name||null===n[x].name&&a.isArray(n[x].messages))for(var u in n[x].messages)-1===a.inArray(n[x].messages[u],q)&&
q.push(n[x].messages[u])}}q.length&&g.push({name:null,messages:q});l(b,"getFormErrors: ",g);return g}function c(b){a(b).data("validation-errors",[]);var c=d(b),f;for(f in c)"undefined"!==typeof c[f]&&a(c[f]).data("validation-value",null===a(c[f]).val()?"":null);l(b,"resetFormErrors")}function d(b){return a(b).find(":input").get()}function g(b){return a(d(b)).filter("[data-constraints]").get()}function j(b){a(b).data("form-validation",!0);l(b,"enableFormValidation");return n(b)}function n(b){return a(b).data("form-validation")}
function l(b,c,d){"object"===typeof window.console&&("function"===typeof window.console.info&&a.cookie("form-validation-debug"))&&window.console.info("FV("+a(b).attr("name")+"): ",c,d)}var q={disable_regula:!1,autovalidate_fields:[],default_error_message:"Server Error",validator_callbacks:null,on_before_validate:a.noop,on_after_validate:a.noop};a.fn.formValidation=function(t,p,h){if(!this.size())return this;var y={},w=this.get(0);a.isPlainObject(t)||"undefined"===typeof t?(y=t,t="init"):a.isPlainObject(p)&&
(y=p);var D=y,H="init"===t,y=a.extend({},q);if(!H){var r=a(w).data("validation-options");a.isPlainObject(r)&&a.extend(y,r)}a.isPlainObject(D)&&a.extend(y,D);y.common_errors_container||(y.common_errors_container="#"+a(w).attr("id")+"-errors");y.submit_button||(y.submit_button=a("button,:input[type=button]:input[type=submit]",w));H&&a(w).data("validation-options",y);var B;switch(t){case "validate":if(a.isFunction(y.on_before_validate))y.on_before_validate(w,y);if("undefined"!==typeof p)b(w,p,y);else{B=
g(w);for(var E in B)"undefined"!==typeof B[E]&&b(w,B[E],y)}a.isFunction(y.on_after_validate)&&(B=f(w,y),y.on_after_validate(w,y,B));break;case "get-constraints":y={};w="string"==typeof p?w[p]:p;if("undefined"!=typeof w&&(B=a(w).attr("data-constraints"),"undefined"!=typeof B&&(w=regula._modules.Parser.parse(w,B),w.successful&&null!==w.data&&"object"==typeof w&&"object"==typeof w.data)))for(i in w.data)y[w.data[i].constraintName]=w.data[i].definedParameters;return y;case "get-errors":return B=a.isArray(h)?
h:[],f(w,y,B);case "reset-errors":c(w);break;case "enable":j(w);break;case "disable":a(w).data("form-validation",!1);l(w,"disableFormValidation");n(w);break;case "is-enabled":return n(w);case "init":y.disable_regula||a.regula("bind");a(d(w)).on("invalid",function(){return!1});c(w);p=g(w);a.isPlainObject(y.validator_callbacks)||(y.validator_callbacks={});for(B in p)a(p[B]).data("validation-callback")&&(E=a(p[B]).attr("name"),"undefined"!==typeof E&&"undefined"===typeof y.validator_callbacks[E]&&(y.validator_callbacks[E]=
function(b,c){var d=a(c).data("validation-callback"),f=a(c).data("validation-callback-key");if(d){a(b).formHandler("disable-submit");var g={};f||(f=a(c).attr("name"));g[f]=a(c).val();a.ajax({url:d,type:"POST",data:g,"datatype ":"json",async:!0,success:function(d){d.status||a(b).formHandler("show-errors",[{name:a(c).attr("name"),messages:d.messages}],[],!0);a(b).formHandler("enable-submit");a(b).data("submitInProgress")&&a(b).submit()},error:function(){a(b).formHandler("enable-submit")}});return[]}}));
j(w);break;case "google-tag-track-event":"undefined"!=typeof p&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms errors",eventAction:a(w).attr("id"),eventLabel:p+" : "+h})}return this}})(jQuery);(function(a){function b(b,c){w(b);a(b).data("submitInProgress",!0);a(b).formHandler("validate-and-show");var d=a(b).formHandler("get-errors",c);if(0<d.length)return d=JSON.stringify(d),a(b).formHandler("google-tag-track-event","200 - "+d.substr(0,255)),!1;a(b).formHandler("hide-errors");if(!a(b).formHandler("is-submit-enabled"))return!1;a(b).data("submitInProgress",!1);var d=a(b).attr("action"),f=a(b).attr("method"),g=a(b).serialize();a(b).formHandler("show-ajax-progress");if(a.isFunction(c.on_before_submit)&&
!1===c.on_before_submit(b,c))return!1;if(c.disable_ajax)return a(b).formHandler("google-tag-track-event","Submit"),!0;a(b).formHandler("disable-submit");a.ajax({url:d,type:f,data:g,async:c.ajax_async_mode,dataType:detectOldIe()?null:"json",success:function(d){a(b).formHandler("hide-ajax-progress");a.isFunction(c.on_ajax_response)&&(d=c.on_ajax_response(b,c,d));if(d.status){if(a(b).formHandler("google-tag-track-event","Submit"),a.isFunction(c.on_submit_success))c.on_submit_success(b,c,d)}else{var f=
a.isArray(d.errors)?d.errors:c.default_error_message,g=JSON.stringify(f);a(b).formHandler("google-tag-track-event","200 - "+g.substr(0,255));if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,d);a(b).formHandler("show-errors",f)}a(b).formHandler("enable-submit")},error:function(d){a(b).formHandler("hide-ajax-progress");a(b).formHandler("show-errors",c.default_error_message);a(b).formHandler("google-tag-track-event",d.status+" - "+d.statusText);a(b).formHandler("enable-submit")}});return!1}function f(b,
c){var d=h(b,c),f=a(y(b)).filter("[required]").get(),g=0,j=0,n=[],p,t,w;for(w in f)if("undefined"!==typeof f[w]){t=a(f[w]).attr("id");p=a(f[w]).attr("name");if(a.isPlainObject(c.on_empty_checks_callbacks)&&a.isFunction(c.on_empty_checks_callbacks[p])&&(p=c.on_empty_checks_callbacks[p](b,f[w],c),!0===p))continue;if(0===a.trim(a(f[w]).val()).length){g++;p=f[w];var D=a.trim(a(p).parents(".form-group:first").find("label").html());D.length||(D=a.trim(a(p).data("label")));D.length||(D=a.trim(a(p).attr("placeholder")));
D.length&&":"===D.substr(-1)&&(D=D.substr(0,D.length-1));p=D;n.push('<label for="'+t+'">'+a.trim(p)+"</label>")}else j++}0===g?a(c.submit_button).is(":enabled")||(c.disable_submit_on_empty&&a(d).removeAttr("disabled"),c.show_submit_button_hint&&q(b,c)):(c.disable_submit_on_empty&&a(d).attr("disabled","disabled"),c.show_submit_button_hint&&(d="Please complete the form to proceed",0<j&&0<n.length&&(d="You need to fill the following fields: "+n.join(", ")),l(b,c,d)))}function c(b,c){var d=y(b),g="undefined"!==
typeof c.skip_form_error&&!!c.skip_form_error,h;for(h in d)if("undefined"!==typeof d[h]){var j=d[h],l=c;l.show_popover&&t(j).popover("destroy");l.highlight_border&&p(j)}g||a(c.common_errors_container).html("");f(b,c)}function d(b,c,d){var f,g,h,j;"string"===typeof d&&d.length&&(d=[{messages:d}]);if(a.isArray(d)){h=[];j=0;a(b).formHandler("hide-errors",{skip_form_error:!0});for(var p in d)if("undefined"!==typeof d[p])if(f=d[p].name?b[d[p].name]:null,g=a.isArray(d[p].messages)?d[p].messages.join(c.strings_delimiter):
d[p].messages,"undefined"===typeof f||!f)h.push(g);else if(!c.display_only_firts_popover||0===j)a(b).formHandler("show-field-error",f,g),a(c.submit_button).is(":enabled")&&(g='<label for="'+a(f).attr("id")+'">'+g+"</label>",l(b,c,g)),j++,c.autofocus_firts_popover_field&&n(b,f,c);h.length&&a(b).formHandler("show-form-error",h)}}function g(b,c,d){var f=a.extend({},H),g=a(b).data("validation-options");a.isPlainObject(g)&&a.extend(f,g);a.isPlainObject(c)&&a.extend(f,c);f.common_errors_container||(f.common_errors_container=
"#"+a(b).attr("id")+"-errors");f.submit_button||(f.submit_button=a("button,:input[type=button]:input[type=submit]",b));d&&a(b).data("validation-options",f);return f}function j(b,c){var d=y(b),d=a(d).filter(":not([type=hidden]):not(:hidden)").get(0);"undefined"!==typeof d&&n(b,d,c)}function n(b,c){a(c).focus().filter(":not(select):first").each(function(){var b="password email url tel number range time checkbox".split(" ");a.isFunction(this.setSelectionRange)&&-1==b.indexOf(this.type)&&this.setSelectionRange(this.value.length,
this.value.length)}).end().filter("select").trigger("chosen:activate").end();D(b,"focusField: ",a(c).attr("name"))}function l(b,c,d){b=h(b,c);a(b).next(".js-empty-label-after-submit").children("small").html(d).end().show()}function q(b,c){var d=h(b,c);a(d).next(".js-empty-label-after-submit").children("small").html("").end().hide()}function t(b){return a(b).data("chosen")&&a(b).data("chosen").container?a(b).data("chosen").container:a(b)}function p(b){return a(b).removeClass("error").parents("div.form-group:first").removeClass("has-error")}
function h(b,c){return a(c.submit_button).get()}function y(b){return a(b).find(":input").get()}function w(b){a(y(b)).filter("select").each(function(){a(this).trigger("chosen:close");var b=a(this).next(".chosen-container");b.length&&b.hasClass("chosen-container-active")&&b.removeClass("chosen-container-active")})}function D(b,c,d){"object"===typeof window.console&&("function"===typeof window.console.info&&a.cookie("form-validation-debug"))&&window.console.info("FV("+a(b).attr("name")+"): ",c,d)}var H=
{highlight_border:!0,show_popover:!0,show_chosen_selects:!0,chosen_selector:".js-chosen",disable_submit_on_empty:!1,disable_ajax:!1,enable_inputs_on_load:!1,disable_submit:!1,show_submit_button_hint:!1,check_fields_on_blur:!0,autoscroll_on_form_error:!0,autofocus_first_field:!0,autohandle_form_submit:!0,display_only_firts_popover:!0,autofocus_firts_popover_field:!0,autotrim_fields:!0,hide_errors_on_type:!0,hide_errors_for_empty:!0,autovalidate_fields:[],submit_hint_template:'<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',
popover_placement:"right",popover_title:!1,common_errors_container:null,common_errors_close_handler:'<a class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</a>',show_progressbar:!0,progressbar_code:'<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',common_errors_html_classes:"alert alert-warning fade in",
default_error_message:"Server Error",strings_delimiter:"<br/>",submit_button:null,on_empty_checks_callbacks:{},on_ajax_response:null,on_before_submit:a.noop,on_submit_success:a.noop,on_submit_error:a.noop,ajax_async_mode:!0};a.fn.formHandler=function(r,B,E,F){if(!this.size())return this;var x={},u=this.get(0);a.isPlainObject(r)||"undefined"===typeof r?(x=r,r="init"):a.isPlainObject(B)&&(x=B);var A=g(u,x,"init"===r),C;switch(r){case "validate":a(u).formValidation("validate",B);break;case "validate-and-show":C=
a.isArray(E)?E:[];F&&(A.autofocus_firts_popover_field=!1,A.hide_errors_for_empty=!0);F=C;C=!0;a(u).formHandler("validate");E=a(u).formHandler("get-errors",A,F);if(F.length&&B){B=a(B).attr("name");C=!1;for(var H in E)if("undefined"!==typeof E[H]&&E[H].name===B&&E[H].messages.length){C=!0;break}}C&&d(u,A,E);break;case "show-ajax-progress":B=y(u);C=h(u,A);A.disable_ajax?a(C).find("div.progress").show():(a(B).attr("disabled","disabled").filter("select").change(),a(C).attr("disabled","disabled").find("div.progress").show());
break;case "hide-ajax-progress":B=y(u);C=h(u,A);a(B).removeAttr("disabled").filter("select").change();a(C).removeAttr("disabled").find("div.progress").hide();break;case "enable-submit":g(u,{disable_submit:!1},!0);break;case "disable-submit":g(u,{disable_submit:!0},!0);break;case "is-submit-enabled":return!A.disable_submit;case "get-errors":return C=a.isArray(E)?E:[],a(u).formValidation("get-errors",A,C);case "show-errors":if(F)for(C in B)if("undefined"!==typeof B[C]){H=u;r=B[C];E=a(H).data("validation-errors");
x=!1;F=void 0;for(F in E)if("undefined"!==typeof E[F]&&E[F].name===r.name){E[F]=r;x=!0;break}x||E.push(r);r=[];for(F in E)E[F].messages&&0<E[F].messages.length&&r.push(E[F]);E=r;a(H).data("validation-errors",E);D(H,"mergeFormErrors ",E)}d(u,A,B);break;case "hide-errors":c(u,A);break;case "reset-errors":c(u,A);a(u).formValidation("reset-errors");break;case "show-field-error":!F&&A.popover_title?(C=a(B).parents("div.form-group:first").find("label:first").text(),C=a.trim(C)):C="";if(A.show_popover){H=
a.isArray(E)?E.join(A.strings_delimiter):a.trim(E);E=C;F=A.popover_placement;C=t(B);H={content:H,placement:F,title:E,trigger:"manual",html:!0};if(a.data(B,"placement")){E=["top","bottom","left","right"];for(F=0;F<E.length;F++)a.data(B,"placement")===E[F]&&(H.placement=a.data(B,"placement"))}C.popover(H);C.popover("show")}A.highlight_border&&!(B&&0===a.trim(a(B).val()).length)&&a(B).parents("div.form-group:first").addClass("has-error");break;case "hide-field-error":A.show_popover&&t(B).popover("destroy");
A.highlight_border&&p(B);break;case "show-form-error":B=a.isArray(B)?B.join(A.strings_delimiter):a.trim(B);a(A.common_errors_container).html('<div class="'+A.common_errors_html_classes+'">'+A.common_errors_close_handler+B+"</div>").scrollTop(0);A.autoscroll_on_form_error&&(B=a(A.common_errors_container).offset(),a(window.document).scrollTop(B.top));break;case "hide-form-error":a(A.common_errors_container).html("");break;case "show-submit-hint":l(u,A,B);break;case "hide-submit-hint":q(u,A);break;case "focus":n(u,
B,A);break;case "focus-first":j(u,A);break;case "enable-validation":a(u).formValidation("enable");break;case "disable-validation":a(u).formValidation("disable");break;case "is-validation-enabled":return a(u).formValidation("is-enabled");case "submit":return b(u,A);case "init":A.disable_submit_on_empty||(A.hide_errors_for_empty=!1);"undefined"==typeof A.disable_regula&&(A.disable_regula=detectOldIe());if(A.show_chosen_selects){var B=y(u),I=0;a(B).filter(A.chosen_selector).each(function(){var b={placeholder_text_single:" "};
a(this).css("width")&&(b.width=a(this).css("width"));a(this).data("disable-search-threshold")&&(b.disable_search_threshold=a(this).data("disable-search-threshold"));a(this).chosen(b).on("chosen:showing_dropdown",function(){w(u)});I++});0<I&&a(B).filter(":not("+A.chosen_selector+")").focus(function(){w(u)})}a(u).formValidation(A);B=a(y(u)).filter("[data-constraints]").get();a(u).formHandler("validate");A.show_submit_button_hint&&(C=h(u,A),a(C).after(A.submit_hint_template),f(u,A));C=y(u);a(C).filter(":not(select,:checkbox,:radio)").keyup(function(){f(u,
A)});a(C).filter("select,:checkbox,:radio").change(function(){f(u,A)});a(C).bind("input DOMAutoComplete propertychange DOMCharacterDataModified DOMSubtreeModified",function(){f(u,A)});A.enable_inputs_on_load&&a(C).removeAttr("disabled");A.check_fields_on_blur&&a(B).blur(function(){if(a(this).val()!=a(this).data("validation-value")){var b=A.autovalidate_fields;if(a.isArray(b)&&b.length){var c=a(this).attr("name");-1===a.inArray(c,b)&&b.push(c)}a(u).formHandler("validate-and-show",this,b,!0)}}).filter("select").change(function(){a(this).blur()}).end().filter(":checkbox").change(function(){a(u).formHandler("hide-field-error",
this)}).end();A.hide_errors_on_type&&a(B).filter(":not(select,:checkbox,:radio)").keyup(function(){if(a(this).val()!==a(this).data("validation-value")){a(u).formHandler("hide-field-error",this);var b;if(a(A.submit_button).is(":enabled")&&h(u,A).length){var c=a(h(u,A)).next(".js-empty-label-after-submit").find("label:first").attr("for");c&&(b=a("#"+c).get(0))}b===this&&q(u,A)}});A.autohandle_form_submit&&(detectOldIe()?(a(h(u,A)).attr("onclick","$(this.form).submit(); return false;"),a(u).attr("onsubmit",
"return $(this).formHandler('submit');")):(a(h(u,A)).click(function(){a(u).submit();return!1}),a(u).submit(function(){return b(u,A)})));A.autofocus_first_field&&j(u,A);A.show_progressbar&&a(h(u,A)).each(function(){a(this).html(a(this).html()+A.progressbar_code)});break;case "google-tag-track-event":"undefined"!=typeof B&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms",eventAction:a(u).attr("id"),eventLabel:B})}return this}})(jQuery);Tm.FreeCheckout=function(){Tm.abstractCheckout.call(this)};Tm.FreeCheckout.prototype=new Tm.abstractCheckout;Tm.FreeCheckout.prototype.constructor=Tm.FreeCheckout;
Tm.FreeCheckout.prototype.init=function(){var a=document.forms.freeInfo,b=document.forms.signin_mode,f=document.forms.checkout_signin,c={before_tab_switching:this._onBeforeStepSwitching,after_tab_switching:$.proxy(this._onAfterStepSwitching,this)},d=window.location.href.match(/step([0-9]+)\.html$/);d&&(c.initial_step="step"+d[1]);a&&this.initFreeInfoForm(a);$(f).formHandler({disable_regula:detectOldIe(),on_submit_success:function(a,b,c){$(a).formHandler("show-ajax-progress");(new Tm.Signin).signInCallback(c,
function(){$(a).formHandler("hide-ajax-progress")})}});$(b.customer).click(function(){var a=$(".js-customer-new-from"),b=$(".js-customer-sigin-from");switch(this.value){case "new":b.hide();a.show();break;case "existing":b.show(function(){var a=$(":input[name=email]",this),b=$(":input[name=password]",this);a.val().length?b.focus():a.focus()}),a.hide()}});this.steps.checkoutSteps(c);this.signChecking()};
Tm.FreeCheckout.prototype._onBeforeStepSwitching=function(a,b,f){-1!==$.inArray(f,["step2","step3"])&&(a=$(b).find(".js-cart-summary-container"),0===a.children("form").size()&&(b=$(".js-cart-summary-container .js-cart-summary"),a.append(b)))};
Tm.FreeCheckout.prototype._onAfterStepSwitching=function(a,b,f){"step1"===f&&(a=document.forms.checkout_signin,b=new Tm.Signin,(b=b.isSignedIn()?b.getUserEmail():$.getQueryParam("email"))?($(a.email).val(b),$(a.password).val(""),$(a).formHandler("hide-errors"),$("#returning-customer-radio").click()):($(a.email).val(""),$(a.password).val(""),$(a).formHandler("hide-errors"),$("#new-customer-radio").click()));"step2"==f&&(f=document.forms.freeInfo,$(f).formHandler("reset-errors"),$(f).formHandler("focus-first"))};
Tm.FreeCheckout.prototype.checkBillingInfoForm=function(){var a=document.forms.freeInfo;$(a).formHandler("validate");return $(a).formHandler("get-errors")};Tm.FreeCheckout.prototype.fillInfoForm=function(a){var b=document.forms.freeInfo;$(b).formHandler("disable-validation");$(b.name).val(a.name);$(b.email).val(a.email);$(b.phone).val(a.phone);$(b.contactphone).val(a.contactphone);$(b).formHandler("reset-errors");$(b).formHandler("enable-validation")};
Tm.FreeCheckout.prototype.changeform=function(){$(".billing-details").addClass("js-none");$(".user-details").removeClass("js-none");this.initFreeInfoForm(document.forms.freeInfo)};Tm.FreeCheckout.prototype.isFree=function(){return!0};
Tm.FreeCheckout.prototype.initFreeInfoForm=function(a){var b=this;$(".js-checkout-calback-step2:first").click(function(){b.switchStep("step2");return!1});$(a).formHandler({disable_regula:detectOldIe(),validator_callbacks:{email:function(a,b){$.ajax({url:"/wac/check-account.php",type:"POST",data:{email:$(b).val(),is_free:1},"datatype ":"json",async:!0,success:function(b){b.status||$(a).formHandler("show-errors",[{name:"email",messages:b.messages}],[],!0)}});return[]}},on_empty_checks_callbacks:{},
on_before_validate:function(a){$([a.contactphone]).each(function(){this.value=this.value.replace(/[^\d]/gi,"")})},on_after_validate:function(a){var b=(new Date).toString();$(a.localtime).val(b)},on_submit_error:function(a,b,d){"extra_actions"in d&&"reload"==d.extra_actions&&location.reload()},on_submit_success:function(f,c,d){$(f).formHandler("show-ajax-progress");f=new Tm.Signin;f.checkCookie();f._wacJsonP(d.wacAuth,function(){0==$(".js-cart-summary .js-total-price").attr("data-price")?($(a).formHandler("show-ajax-progress"),
$(".js-payment-complete-order .js-choose-payment-system").click()):($(a).formHandler("hide-ajax-progress"),b.switchStep("step3"))})}});$(".js-new-customer-link",b.steps).click(function(){b.showLoginError("");var a=new Tm.Signin;if(a.isSignedIn()){var c=this;$(c).prop("disabled",!0);a.signOut({on_success:function(){$(c).prop("disabled",!1);b.switchStep("step2");(new CLS2).recalculate()}})}else b.switchStep("step2"),(new CLS2).recalculate();return!1}).removeAttr("disabled").removeClass("disabled");
$("#payment-methods-container").on("click",".js-choose-payment-system",function(){var a=$(this),c=$("#payment-collapse, .js-payment-form-block");c.paymentSelector("disable-submit-button");var a=a.attr("data-payment"),d=(new Date).toString();c.paymentSelector("disable-selector");b.createOrder({payment:a,bonusesAmount:0,localTime:d},c);return!1});$("#freeInfo-form").on("click",".js-goto-login",function(){b.goToSignin(!0,a.email.value);return!1})};function chatInit(a,b){function f(a){var c="",d="";$.isPlainObject(b)&&b.isSignedIn()&&(c=b.getUserFullName(),d=b.getUserEmail());$(h.name).val(c);$(h.email).val(d);$(h).formHandler("reset-errors").formHandler("hide-ajax-progress");j.stop().animate({right:-43},{duration:150,complete:function(){j.stop().animate({height:257},{duration:150,complete:function(){g.css({right:-235}).show().animate({right:"3%"},{duration:150});j.hide();a&&$(h).formHandler("focus-first")}})}});_gaq.push(["b._trackEvent","SliderBanner",
"PreSales Chat","Show"]);p?_gaq.push(["b._trackEvent","PreSalesChatBanner","open","manual-open"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","open","auto-open"])}function c(){g.find("input, textarea").popover("destroy").removeClass("error").stop().animate({right:-235},{duration:150,complete:function(){g.hide();j.show().animate({height:36},{duration:150,complete:function(){j.animate({right:"1%"},{duration:150,complete:function(){$.browser.mozilla&&$(".live-chat-out").css({position:"absolute"});
setTimeout(function(){$(".live-chat-out").css({position:"fixed"})},1)}});$(".live-chat-form a.btn div.progress").hide();$(".live-chat-form input").removeAttr("disabled");$(".live-chat-form a.btn").css("z-index","10")}})}});"1"!==$.cookie("tmLivechat")&&(Tm.setCookie("tmLivechat","1"),clearTimeout(y));_gaq.push(["b._trackEvent","SliderBanner","PreSales Chat","Close"]);t?p?_gaq.push(["b._trackEvent","PreSalesChatBanner","close","manual-open-auto-close"]):_gaq.push(["b._trackEvent","PreSalesChatBanner",
"close","auto-open-auto-close"]):p?_gaq.push(["b._trackEvent","PreSalesChatBanner","close","manual-open-manual-close"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","close","auto-open-manual-close"])}function d(a){$(".live-chat-form a.btn div.progress").show();$(".live-chat-form input").attr("disabled","");$(".live-chat-form a.btn").css("z-index","-10");$.trim(a.find("input.name").val());$.trim(a.find("input.email").val());_gaq.push(["b._trackEvent","SliderBanner","PreSales Chat","Goto"]);p?_gaq.push(["b._trackEvent",
"PreSalesChatBanner","chat","manual"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","chat","auto"]);c()}var g=$(".live-chat-in").hide(),j=$(".live-chat-out").hide();if(function(a){if(MobileEsp.DetectTierTablet()||MobileEsp.DetectTierIphone()||!a.enabled)return!1;var b=$.cookie("country_code");if("undefined"===typeof b||-1!=$.inArray(b,a.blockCountry))return!1;if(!a.showForAllCustomers&&(b=$.cookie("fd"),"undefined"!==typeof b)){var c=new Date,d=new Date;d.setTime(1E3*b);if(d.getFullYear()!==c.getFullYear()||
d.getMonth()!==c.getMonth()||d.getDate()!==c.getDate())return!1}return"blockURLs"in a&&RegExp(a.blockURLs).test(document.location.href)?!1:!0}(a)){$(".js-live-chat-text").show();j.show();var n=1E3*parseInt(a.autoOpenTimeout)||7E3,l=1E3*parseInt(a.autoCloseTimeout)||15E3,q=1E3*parseInt(a.autoCloseAfterManualOpen)||15E3,t=!1,p=!1,h=document.forms.live_chat;j.click(function(){p=!0;f(!0)});g.find(".btn-close").click(function(){t=!1;c()});var y,w,D;$(".live-chat-in").click(function(){clearTimeout(w);clearTimeout(D)});
$(".live-chat-in .live-chat-form .box-input input").focus(function(){clearTimeout(w);clearTimeout(D)});$(".live-chat-out").click(function(){clearTimeout(y);D=setTimeout(function(){t=!0;c()},q)});$(h).formHandler({popover_placement:"left",ajax_async_mode:!1,on_submit_success:function(a,b,c){$(a).formHandler("show-ajax-progress");var f;if(null===c)return!1;if("undefined"!==typeof c.innerhtml)for(f in c.innerhtml)$("#"+c.innerhtml[f].id).html(c.innerhtml[f].html);if("undefined"!=typeof c.eval)for(f in c.eval)eval(c.eval[f]);
"undefined"!=typeof c.live_chat_url&&("undefined"!==typeof onChatEnter&&(onChatEnter(),$("#gui-invitation-to-chat input").removeClass("error-border")),b=navigator.userAgent.toLowerCase(),-1!=b.indexOf("mac")?window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=672"):(-1!=b.indexOf("firefox")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=695"),-1!=b.indexOf("webkit")&&(-1!=b.indexOf("chrome")?window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=680"):-1!=b.indexOf("safari")&&
window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=597")),(-1!=b.indexOf("msie")||-1!=b.indexOf("trident/7"))&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=683"),-1!=b.indexOf("opera")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=680")),d($(a)))}});$.isPlainObject(b)&&b.isSignedIn()&&($(".live-chat-form input.name").val(b.getUserFullName()).trigger("setValue.placeholder"),$(".live-chat-form input.email").val(b.getUserEmail()).trigger("setValue.placeholder"));
"1"!==$.cookie("tmLivechat")&&(y=setTimeout(function(){p=!1;f();w=setTimeout(function(){t=!0;c()},l)},n))}};History.options.disableSuid=!0;CLS6=function(){};CLS6.SCROLL_FINISHED="history.scroll.after";CLS6.CHANGED="history.changed";
CLS6.prototype.enterDocument=function(a){a=a||{};if(a.onStateChange)$(window).on("statechange",$.proxy(function(){a.onStateChange(this.current())},this));History.getState();var b=new $.Deferred,f=this.current();if("undefined"===typeof f.templateId||"undefined"===typeof f.templateOffsetTop)b.resolve();else{var c=$(".js-thumbnail[data-tid="+f.templateId+"]");0===c.length?b.resolve():$("html,body").animate({scrollTop:c.offset().top-f.templateOffsetTop},400,"swing",function(){b.resolve()})}return b};
CLS6.prototype.push=function(a,b){(!goog.isDef(a.page)||2>a.page)&&delete a.page;if(deepCompare(a,this.current()))return!1;var f=jQuery.extend({},a),c=jQuery.extend({},this.current());goog.array.forEach(["page","templateId","templateOffsetTop"],function(a){delete f[a];delete c[a]});var d=deepCompare(f,c)?"replaceState":"pushState";History[d].call(null,{d:JSON.stringify(a)},window.document.title,b)};
CLS6.prototype.replace=function(a){"undefined"!==typeof a.page&&2>a.page&&delete a.page;var b=jQuery.extend({},a);delete b.templateId;delete b.templateOffsetTop;History.replaceState({d:JSON.stringify(a)},window.document.title,_normalizeQuery(serialize(b)))};CLS6.prototype.currentUrl=function(){return History.getState().url};
CLS6.prototype.current=function(){var a=History.getState();if(goog.isDefAndNotNull(a.data.d))return JSON.parse(a.data.d);var b={};if(a.hash.match(/\?/)&&(b=jQuery.deparam.querystring(a.hash.replace(/^.*\?/,"")),"undefined"!==typeof b.propertylist)){var a={},f;for(f in b.propertylist)a[f]=this._normalizeArray(b.propertylist[f]);b.propertylist=a}return b};
CLS6.prototype._normalizeArray=function(a){var b=[],f;for(f in a)b[f]="string"===typeof a[f]&&parseInt(a[f])==a[f]?parseInt(a[f]):a[f];return b};CLS5=function(){this.slot_=this.page_="";this.context_=!1;this.purchasePrice_=this.originalPrice_=0;this.regularPriceContainer_=!1;this.tids_=[];this.getPage()};
CLS5.prototype.getPage=function(){if(""==this.page_)switch(!0){case detectDemoPage():this.slot_=this.page_="demo";break;case detectPreviewPage():this.slot_=this.page_="preview";break;case detectCartPage():this.page_="cart";this.slot_="cart-summary";break;case detectCheckoutPage():this.page_="checkout";this.slot_="cart-summary";break;default:this.page_="index",this.slot_="thumbnail"}return this.page_};
CLS5.prototype.getTemplateIds=function(){var a=[];switch(this.getPage()){case "index":$(".js-thumbnail ").each(function(){a.push(parseInt($(this).data("tid")))});break;case "demo":a=[parseInt($(".js-demo-upper-menu").data("template_id"))];break;case "preview":case "cart":case "checkout":"cart-summary"==this.slot_?$(".cart-summary-item.js-item-template").each(function(){a.push(parseInt($(this).data("product")))}):(a=[parseInt($(".js-modal-preview-popup").data("template_id"))],this.context_&&
$(".js-thumbnail ").each(function(){a.push(parseInt($(this).data("tid")))}),0<$(".js-also-available-as").length&&$(".js-also-available-as").each(function(){a.push(parseInt($(this).data("tid")))}))}return this.tids_=a};CLS5.prototype.setContext=function(a){this.context_=a};CLS5.prototype.setSlot=function(a){this.slot_=a};CLS5.prototype.getSlot=function(){""==this.slot_&&this.getPage();return this.slot_};
CLS5.prototype.drawPrices=function(){this.getTemplateIds();switch(this.getSlot()){case "demo":this.drawPricesOnDemoPage_();break;case "preview":this.drawPricesOnPreviewPage_();this.setSlot("cart-summary");this.drawPricesInCartSummary_();this.setSlot("thumbnail");this.drawPricesInContext_();this.setSlot("also-available-as");this.drawPricesInAlsoAvailableAs_();break;case "cart-summary":this.drawPricesInCartSummary_();break;case "thumbnail":this.drawPricesInContext_()}$(".js-preview-accordion-panel").TMCalcPrice();
(new CLS2).recalculate()};
CLS5.prototype.drawPricesOnPreviewPage_=function(){var a=this.getTemplateIds();for(tid in a){var b=this.getOriginalPrice(a[tid]),f=this.getPurchasePrice(a[tid]);$('.js-preview-accordion-panel[data-template_id="'+a[tid]+'"]').each(function(){if("exclusive"!=$(this).attr("data-variant")){var a=$(".js-price",this),d=a.data("price"),g=a.data("full_price"),j=parseInt(d)-parseInt(b)+parseInt(f);g==d&&d!=j&&a.attr("data-price",j).html('<span class="discount">$'+d+"</span> $"+j)}return!0})}};
CLS5.prototype.drawPricesInContext_=function(){var a=this.getTemplateIds();for(tid in a){var b=this.getOriginalPrice(a[tid]),f=this.getPurchasePrice(a[tid]),c=$('.js-template-price[data-tid="'+a[tid]+'"]');if(b!=f){var d="",d=c.is(".free-sample-discount")?'<span class="discount-price"><span class="line-through">$'+b+'</span></span>&nbsp<span class="dollar-icon">$</span>'+f+"":'<span class="dollar-icon">$</span>'+f+'<span class="discount-price">&nbsp;/ <span class="line-through">$'+b+"</span></span>";
c.html(d)}}};
CLS5.prototype.drawPricesOnDemoPage_=function(){var a=this.getTemplateIds();for(tid in a){var b=this.getOriginalPrice(a[tid]),f=this.getPurchasePrice(a[tid]);$(".js-demo-buy-button").each(function(){if("exclusive"!=$(this).data("variant")){var a=$(this).data("price"),d=parseInt(a)-parseInt(b)+parseInt(f);a!=d&&($(".js-price",this).html('<span class="discount">$'+a+"</span> $"+d),$(this).attr("data-price",d),$('.js-demo-list-li[data-variant="'+$(this).data("variant")+'"] ').attr("data-price",d).find(".js-price").html('<span class="discount">$'+
a+"</span> $"+d))}return!0})}};
CLS5.prototype.drawPricesInCartSummary_=function(){var a=this.getTemplateIds();for(tid in a){var b=this.getOriginalPrice(a[tid]),f=this.getPurchasePrice(a[tid]),c='.js-license-radio[data-template_id="'+a[tid]+'"]:not([data-license="exclusive"]), .js-license[data-template_id="',c=c+(a[tid]+'"]:not([data-license="exclusive"])');$(c).each(function(){var a=$(".js-txt-price",this),c=parseInt($(this).data("full_price")),j=parseInt(c)-parseInt(b)+parseInt(f);$(this).attr("data-subtotal_price")!=j&&
($(this).attr("data-subtotal_price",j),c!=j?a.html('<span class="discount">+$'+c+"</span> +$"+j):a.html(" +$"+j))})}};CLS5.prototype.getOriginalPrice=function(a){if((a=this.getRegularPriceContainer(a))&&0<a.length)switch(this.getSlot()){case "cart-summary":case "preview":case "demo":this.originalPrice_=parseInt(a.data("full_price"));break;default:this.originalPrice_=parseInt(a.data("price"))}return this.originalPrice_};
CLS5.prototype.getRegularPriceContainer=function(a){var b;switch(this.getSlot()){case "demo":$(".js-demo-buy-button").each(function(){"regular"==$(this).data("variant")&&(b=$(this))});this.regularPriceContainer_=b;break;case "cart-summary":this.regularPriceContainer_=$(".template-"+a+" .js-license-regular");break;case "preview":this.regularPriceContainer_=$('.js-preview-accordion-panel[data-variant="regular"]:first .js-price:first');break;case "thumbnail":this.regularPriceContainer_=$('.js-template-price[data-tid="'+
a+'"]');break;case "also-available-as":this.regularPriceContainer_=$('.js-also-available-as[data-tid="'+a+'"] .js-price')}return this.regularPriceContainer_};CLS5.prototype.calculateDiscount=function(a,b){b=100<b?100:b;return Math.round(0.01*a*(100-(0>b?0:b)))};
CLS5.prototype.getPurchasePrice=function(a){var b=this.getOriginalPrice(a),f=this.getNewsletterDiscount_(a,b);if("undefined"!=typeof ssd)for(var c in ssd)if(-1!=$.inArray(a,ssd[c])){f=this.calculateDiscount(b,c);f=this.getNewsletterDiscount_(a,f);break}return this.purchasePrice_=f};
CLS5.prototype.getNewsletterDiscount_=function(a,b){if("undefined"!=typeof discount_link&&!1===this.getIsTemplatePromocode_(a))for(var f in discount_link)if(-1!=$.inArray(a,discount_link[f]))return this.calculateDiscount(b,f);return b};
CLS5.prototype.getIsTemplatePromocode_=function(a){if(0<$(".js-total-promocode-discount").not(".js-none").length){var b=$(".js-total-promocode-discount").not(".js-none").attr("data-namespace"),f=$(".js-total-promocode-discount").not(".js-none").attr("data-products").match(/\d+/g);return"template"===b&&-1!==$.inArray(a.toString(),f)}return!1};
CLS5.prototype.drawPricesInAlsoAvailableAs_=function(){var a=this.getTemplateIds();for(tid in a){var b=this.getOriginalPrice(a[tid]),f=this.getPurchasePrice(a[tid]);if(!isNaN(b)&&!isNaN(f)){var c=$('.js-also-available-as[data-tid="'+a[tid]+'"] .js-price');b!=f&&c.html('<span class="discount">+$'+b+"</span> +$"+f)}}};CLS2=function(){this.cart_=$("header .shop-cart");this.cart_counter_=$(".js-cart-count");this.header_cart_counter_=this.cart_.find("#cart-count");this.header_=$("h1.shopping-cart-title")};CLS2.prototype.cart_counter_;CLS2.prototype.header_cart_counter_;CLS2.prototype.header_;CLS2.prototype.isEmpty=function(){return!this.cart_counter_.is(":visible")};
CLS2.prototype.showCounter=function(a){this.header_cart_counter_.children("span").html(a);return this.header_cart_counter_.children(".js-count-cap").animate({opacity:"0"},2E3,"easeInCubic")};CLS2.prototype.hideCounter=function(){this.header_.html("Shopping Cart is Empty");return this.showCounter(0)};CLS2.prototype.checkCookie=function(){var a=parseInt($.cookie("sci_count")),b=parseInt($.cookie("sca_value"));!isNaN(a)&&!isNaN(b)&&0<a?this.showCounter(a,b):this.hideCounter()};
CLS2.prototype.recalculate=function(){var a=$(".js-cart-summary-content .js-item-template").not(".js-none"),b=$(".js-cart-summary-subtotal .js-price"),f=0,c=0,d=$(".js-total-price"),g=0,j=0;a.each(function(){var a=0,b=0;$(this).find(".js-popup-cart-item").not(".js-none").each(function(){b+=parseInt($(this).attr("data-subtotal_price"));a+=parseInt($(this).attr("data-price"))});g+=parseInt(a);j+=parseInt(b)});$(".js-cart-oncart-offers .js-popup-cart-item").not(".js-none").each(function(){c+=parseInt($(this).attr("data-price"));
f+=parseInt($(this).attr("data-subtotal_price"))});g+=c;g-=this.getBonuses_();j+=f;b.attr("data-price",j).html("$"+j);d.attr("data-price",g).html("$"+g);this.checkCookie()};CLS2.prototype.getBonuses_=function(){return parseInt($(".js-total-redeemed-bonus-amount").attr("data-amount"))};CLS4=function(){};CLS4.prototype.spinner_;CLS4.prototype.checkout_button_;CLS4.prototype.number_of_ajax_=0;
CLS4.prototype.enterDocument=function(){CLS4.prototype.checkout_button_=$(".js-checkout-button");$(document).on("start.cart.load",$.proxy(this.onLoadStart,this));$(document).on("start.cart.load.block.checkout",$.proxy(this.onLoadStartBlockCheckout,this));$(document).on("stop.cart.load",$.proxy(this.onLoadStop,this));$(document).on("stop.cart.load.block.checkout",$.proxy(this.onLoadStopBlockCheckout,this))};
CLS4.prototype.onLoadStart=function(a,b){if("undefined"===typeof b)return!1;this.SpinnerOn_(b.button);this.ButtonOff_(b.button,"undefined"==typeof b.disableFull?!0:b.disableFull);"function"===typeof b.callbackFunk&&b.callbackFunk()};CLS4.prototype.onLoadStartBlockCheckout=function(a,b){if("undefined"===typeof b)return!1;this.number_of_ajax_++;this.onLoadStart(a,b);this.checkout_button_.prop("disabled",!0)};
CLS4.prototype.onLoadStop=function(a,b){if("undefined"===typeof b)return!1;this.SpinnerOff_(b.button);"undefined"!==typeof b.enableButton&&!1!=b.enableButton&&this.ButtonOn_(b.button,"undefined"==typeof b.disableFull?!0:b.disableFull);"function"===typeof b.callbackFunk&&b.callbackFunk()};
CLS4.prototype.onLoadStopBlockCheckout=function(a,b){if("undefined"===typeof b)return!1;this.number_of_ajax_--;0>=this.number_of_ajax_&&this.checkout_button_.prop("disabled",!1);this.onLoadStop(a,b)};CLS4.prototype.SpinnerOn_=function(a){a.find(".js-cart-spinner").removeClass("js-none")};CLS4.prototype.SpinnerOff_=function(a){a.find(".js-cart-spinner").addClass("js-none")};
CLS4.prototype.ButtonOn_=function(a,b){b?a.removeClass("disabled"):a.prop("disabled",!1).removeClass("half-disabled")};CLS4.prototype.ButtonOff_=function(a,b){b?a.addClass("disabled"):a.prop("disabled",!0).addClass("half-disabled")};window.CLS1=function(){};
window.CLS1.prototype.enterDocument=function(){var a=this;$(".js-checkout-bonus-input").on("focus",function(){!1===$(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").is(":checked")&&$(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").prop("checked",!0)});$(".js-checkout-bonus-input").currencyFormater();$("#bonuses-form").formHandler({disable_ajax:!0,popover_placement:"top",check_fields_on_blur:!1,on_before_validate:function(b){b.bonus.value=$(b.bonus).currencyFormater().val();
detectOldIe()&&b.bonus.value>a.getAvailableAmount_()&&(b.bonus.value=a.getAvailableAmount_());switch(!0){case isNaN(b.bonus.value):case 0>=b.bonus.value:b.bonus.value=0}},on_before_submit:function(b){var f=$(".js-checkout-bonus-input").currencyFormater().val(),f=a.getRedeemedAmount_(f);if(0>=f)return $(".js-bonus-amount-none").click(),$(b).formHandler("hide-ajax-progress"),!1;var c=a.getFullAmount_(),c=c-f;$(".js-checkout-bonus-available-amount").html("$"+c).attr("data-redeemed_amount",f);$(b).parent("div").addClass("js-none");
$(".js-checkout-bonus-input").click();$(".js-checkout-bonus-redeemed-amount").html("$"+f).siblings(".js-bonus-amount-radio").click().parents(".js-loyalty-bonus-radio").removeClass("js-none");$(".js-total-redeemed-bonus-amount").attr("data-amount",f).html(f).parents(".js-total-redeemed-bonus").removeClass("js-none");a.getShoppingCart_().recalculate();f=parseInt($(".js-total-price").attr("data-price"));a.displayBuyButtons_(0!==f);$(b).formHandler("hide-ajax-progress");return!1}});$(".js-redeemed-button-change").click(function(){a.openChangeBlock_();
$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").click();a.focusFirst()});$(".js-bonus-amount-none").click(function(){$("#bonuses-form").formHandler("disable-validation");$("#bonuses-form").formHandler("reset-errors");$("#bonuses-form").formHandler("enable-validation");a.doNotApply_()});$(".js-bonus-radio-choose").click(function(){!1===$(".js-checkout-bonus-input").is(":focus")&&a.focusFirst()})};
window.CLS1.prototype.displayBuyButtons_=function(a){a?($(".js-payment-select-merchant").removeClass("js-none"),$(".js-payment-complete-order").addClass("js-none")):($(".js-payment-select-merchant").addClass("js-none"),$(".js-payment-complete-order").removeClass("js-none"));return!1};window.CLS1.prototype.openChangeBlock_=function(){$(".js-redeemed-button-change").parents(".js-loyalty-bonus-radio").addClass("js-none");$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").removeClass("js-none")};
window.CLS1.prototype.getAvailableAmount_=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-available_amount"))};window.CLS1.prototype.getFullAmount_=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-full_amount"))};window.CLS1.prototype.getShoppingCart_=function(){return new window.CLS2};
window.CLS1.prototype.doNotApply_=function(){$(".js-total-redeemed-bonus-amount").attr("data-amount",0).html(0).parents(".js-total-redeemed-bonus").addClass("js-none");this.getShoppingCart_().recalculate();$(".js-checkout-bonus-available-amount").html("$"+this.getFullAmount_()).attr("data-redeemed_amount",this.getAvailableAmount_());this.displayBuyButtons_(!0);this.openChangeBlock_();$(".js-checkout-bonus-input").val(this.getAvailableAmount_()).blur()};
window.CLS1.prototype.getRedeemedAmount_=function(a){return parseInt(a.replace(/\D/g,""))};window.CLS1.prototype.focusFirst=function(){$(".js-checkout-bonus-input").focus()};(function(a){a.fn.TMCalcPrice=function(){return this.each(function(){var b=0,f=0,b=0,b=parseInt(a(this).find(".js-price").attr("data-price"));a(this).find('input.js-preview-offer-checkbox[type="checkbox"]:checked').each(function(){a(this).is(":checked")&&(f+=parseInt(a(this).data("price")))});b+=f;a(this).find(".js-template-price").html('<span class="dollar-icon">$</span>'+b+"</span>")})}})(jQuery);
function renameCompleteButton(){if(!detectCheckoutPage())return!1;var a=document.forms.billingInfo,b=a.submit.innerHTML;a.submit.innerHTML=0>=$(".js-cart-summary .js-total-price").attr("data-price")?b.replace("Continue to Payment","Complete Order"):b.replace("Complete Order","Continue to Payment");return!0}
function updateCartItems(a){var b=parseInt($(".js-modal-preview-popup").data("template_id")),f;for(f in a)switch(f){case "promocode":$(".js-promo-result-box").html(a[f].message);a[f].code&&($(".js-total-discount").html(a[f].value+a[f].type),$(".js-promocode-box").val(a[f].code));0<a[f]["total-discount-amount"]?($(".js-promocode-box").val(a[f].code),$(".js-total-promocode-value-type").html(a[f].value+a[f].type),$(".js-total-promocode-discount-amount").html(a[f]["total-discount-amount"]),$(".js-total-promocode-discount").attr("data-namespace",
a[f].namespace).attr("data-products",a[f].products).removeClass("js-none")):($(".js-total-promocode-discount").addClass("js-none"),$(".js-total-promocode-discount-amount").html(a[f]["total-discount-amount"]).attr("data-namespace","template"));break;case "license":for(var c in a[f]){var d=c.replace(/template-/,"");$("."+c+" .js-popup-cart-item.js-license").addClass("js-none").removeClass("js-license-default");$(".js-form_select_license").find('.js-license-radio[data-template_id="'+d+'"]').removeClass("selected").find("input:checked").removeProp("checked");
$("."+c+" .js-popup-cart-item.js-license-"+a[f][c]).addClass("js-license-default").removeClass("js-none");$('.js-license-radio[data-template_id="'+d+'"]').each(function(){a[f][c]==$(this).data("license")&&$(this).addClass("selected").find("input").prop("checked",!0)})}break;case "cart_templates":$(".js-cart-summary-content .js-item-template").remove();$(".js-cart-summary-content").prepend(a[f]);break;case "cart_select_license_block":$(".js-cart-select-license-block").hide();$(".js-cart-select-license-block").replaceWith(a[f]);
$(".js-cart-select-license-block").show();break;case "cart_offers":$(".item-onCartOffer").hide();$(".item-onCartOffer").replaceWith(a[f]);$(".item-onCartOffer").show();break;case "offer":for(var g in a[f])if(d=g.replace(/offer-/,""),!0===a[f][g].value){$(".js-popup-cart-item."+g+".js-parent-"+a[f][g].parent).hasClass("js-parent-oncart")&&$(".js-cart-oncart-offers").removeClass("js-none");$(".js-popup-cart-item."+g+".js-parent-"+a[f][g].parent).removeClass("js-none");var j=$(".js-popup-cart-item.js-static-"+
g+".js-parent-"+a[f][g].parent+" .js-add-offer");if(j.hasClass("js-add-offer")){var n=j.html().toLowerCase();j.addClass("disabled").removeClass("btn-primary").addClass("btn-default").html(n.replace("add to cart","added")).data("action","")}b==a[f][g].parent&&$('.js-preview-offer input[value="'+d+'"]').prop("checked",!0).siblings("a").addClass("active")}else $(".js-popup-cart-item."+g+".js-parent-"+a[f][g].parent).addClass("js-none"),0===$(".js-cart-oncart-offers .js-parent-oncart:visible").length&&
$(".js-cart-oncart-offers").addClass("js-none"),j=$(".js-popup-cart-item.js-static-"+g+".js-parent-"+a[f][g].parent+" .js-add-offer"),j.hasClass("js-add-offer")&&(n=j.html().toLowerCase(),j.removeClass("disabled").removeClass("btn-default").addClass("btn-primary").html(n.replace("added","add to cart")).data("action","add")),b==a[f][g].parent&&$('.js-preview-offer input[value="'+d+'"]').prop("checked",!1).siblings("a").removeClass("active");break;case "template":for(g in a[f])!1===a[f][g]?($(".js-item-template."+
g).addClass("js-none"),b==g.replace(/template-/,"")&&$(".js-add-to-cart button").html('<i class="icon-cart"></i> Add to Cart')):(b==g.replace(/template-/,"")&&$(".js-add-to-cart button").html('<i class="icon-checkmark"></i> Added to Cart'),$(".js-item-template."+g).removeClass("js-none"));break;case "oncart_full_prices":for(g in a[f])$(".offer-"+g).attr("data-price",a[f][g]).attr("data-subtotal_price",a[f][g]).find(".js-original-price").addClass("js-none"),$(".offer-"+g).find(".js-purchase-price").html("+$"+
a[f][g]),$(".js-static-offer-"+g).attr("data-price",a[f][g]).attr("data-subtotal_price",a[f][g]).find(".js-price").html("$"+a[f][g]);break;case "prices":for(g in a[f])/^template-.+/.test(g)&&(parseInt($(".js-item-template."+g+" .js-license-regular").data("full_price")),d=g.replace(/template-/,""),$('.js-license-radio[data-template_id="'+d+'"] .js-txt-price, \n\t\t\t\t\t\t\t.js-license[data-template_id="'+d+'"] .js-txt-price').each(function(){$(this).parents(".js-license").attr("data-price",a[f][g])})),
d=/^offer-(\d+)-(\d+)$/,d.test(g)&&(j=g.match(d),d=j[1],j=parseInt(j[2]),j=0<j?j:"oncart",0<$(".js-cart-summary .js-parent-"+j+".offer-"+d).data("full_price")&&$(".js-cart-summary .js-parent-"+j+".offer-"+d).attr("data-price",a[f][g]));break;case "bonuses":"undefined"!=typeof a[f].bonusBlock?($(".js-loyalty-programm-block").replaceWith(a[f].bonusBlock).removeClass("js-none"),(new CLS1).enterDocument()):$(".js-loyalty-programm-block").html("").addClass("js-none");break;case "emptyCart":a[f]?
($(".js-cart-not-empty").addClass("hide"),$(".js-cart-empty").removeClass("hide")):($(".js-cart-not-empty").removeClass("hide"),$(".js-cart-empty").addClass("hide"));break;case "freeCart":detectCheckoutPage()||(j=$(".js-checkout-button"),n=j.html(),a[f]?j.html(n.replace("Checkout Now","Proceed to Download")):/proceed to download/i.test(n)&&j.html(n.replace("Proceed to Download","Checkout Now")))}b=Object.create(new CLS5);b.setSlot("cart-summary");b.drawPrices();$(".js-preview-accordion-panel").TMCalcPrice();
(new CLS2).recalculate();renameCompleteButton();hideChatLink()}
function addToCart(a){var b=a.parents("form"),a=a.parents(".js-preview-accordion-panel").data("variant");b.find('input[name="price_variant"]').val(a);$(document).trigger("start.cart.load.block.checkout",{button:$(".js-button-add-to-cart")});b=b.serialize();$.ajax({url:"/cart-ajax/addtemplate.php",data:b,dataType:"json",success:function(a){$("body").trigger("stop.cart.load",{button:$(".js-button-add-to-cart"),disableFull:!1,enableButton:!0});updateCartItems(a);(new CLS2).recalculate();$(".js-loader").hide()}});
return!1}
function selectLicense(a){var b=a.find(".js-license-radio.selected").data("license"),f=a.find(".js-license-radio.selected").data("price"),c=a.find(".js-license-radio.selected").data("template_id"),a=detectPreviewPage()?"preview":"cart",f="license="+b+"&price="+f+"&action=changeLicense&template_id="+c+"&page="+a,d=parseInt($(".js-modal-preview-popup").data("template_id"));$(document).trigger("start.cart.load.block.checkout",{button:$(".js-license-popup-button")});$.ajax({url:"/cart-ajax/changelicense.php",data:f,
dataType:"json",success:function(a){$(document).trigger("stop.cart.load.block.checkout",{button:$(".js-license-popup-button"),enableButton:!0});updateCartItems(a);detectPreviewPage()&&c==d&&openSelectedLicenseAccordionBlock(b);(new CLS2).recalculate()}})}function updateCart(){var a=$("body").attr("id").replace("-page","");$.ajax({url:"/cart-ajax/getupdate.php",data:"page="+a,dataType:"json",success:function(a){updateCartItems(a);(new CLS2).recalculate()}})}
function hideChatLink(){0<$(".js-popup-cart-item.js-static-offer, .js-popup-cart-item.js-static-oncart-offer").length?$(".js-offers-question-block").removeClass("js-none"):$(".js-offers-question-block").addClass("js-none")}
function downloadSample(a){$(document).trigger("start.cart.load.block.checkout",{button:a,disableFull:!1});a="add="+a.data("sample_id")+"&price_variant=regular";$.ajax({url:"/cart-ajax/addtemplate.php",data:a,dataType:"json",success:function(){document.location.href="/checkout/step1.html"}});return!1}
$(document).ready(function(){hideChatLink();$(".js-promo-open").removeClass("disabled-link").attr({href:"#promocode_add_content","data-toggle":"collapse"});Object.create(new CLS4).enterDocument();var a=Object.create(new CLS3);a.enterDocument();(new CLS1).enterDocument();if(detectCheckoutPage())$(".js-cart-summary-content").on("mouseover",".js-popup-cart-item div, .js-item-template",function(){$(".js-edit-license, .js-dell-template, .js-dell-offer").addClass("js-none");
return!1});$(document).on("click",".js-license-radio",function(){$(".js-license-radio.selected").removeClass("selected");$(this).addClass("selected")});$(document).on("click",".js-item-template a.js-dell-template",function(){var b=$(this);if(detectCheckoutPage())return!1;var d=$(this).data("product"),f=$(this).data("action");$(this).parents(".js-item-template.template-"+d).addClass("js-none");$(document).trigger("start.cart.load.block.checkout",{button:b});a.addQueue(function(){return $.ajax({url:"/cart-ajax/deltemplate.php",
data:"product="+d+"&action="+f,dataType:"json",success:function(b){updateCartItems(b);var c=new CLS2;c.recalculate();a.setFree();$(".js-cart-summary").trigger("execute.cart.requests",{});if("undefined"!=typeof b.location){var d=parseInt($(".js-modal-preview-popup").data("template_id")),f;for(f in b.template)f==d&&(window.location=b.location)}c.isEmpty()&&detectCheckoutPage()&&(window.location="/cart.php")},complete:function(){$(document).trigger("stop.cart.load.block.checkout",{button:b})}}).fail(function(){var a=
[];a["template-"+d]={value:!0,id:d};updateCartItems({template:a});$(document).trigger("stop.cart.load.block.checkout",{button:b})})});$(".js-cart-summary").trigger("execute.cart.requests",{})});var b=$("#promocode_add_content").find(".js-promocode-box"),f=$("#promocode-form").formHandler({autoscroll_on_form_error:!1,on_submit_success:function(a,d,f){updateCartItems(f);"undefined"!=typeof f.promocode.code&&0==f.promocode.code.length&&$("#promocode_add_content").collapse("hide");(new CLS2).recalculate();
b.data("current-code",f.promocode.code)},on_submit_error:function(a,d,f){updateCartItems(f);(new CLS2).recalculate();b.data("current-code",f.promocode.code)}});b.data("current-code",b.val());$("#promocode_add_content").on("hidden.bs.collapse",function(){f.formHandler("hide-errors");b.val(b.data("current-code"))}).on("shown.bs.collapse",function(){$(".js-promocode-box",this).focus()});$(document).on("click",".js-popup-cart-item.js-static-offer a.js-add-offer, .js-popup-cart-item.js-static-oncart-offer a.js-add-offer, .js-popup-cart-item.offer a.js-dell-offer",
function(){var b=$(this),d=b.data("product"),f=b.data("offer_id"),j=b.data("action");if(""===j)return!1;var n="&position=&presentation_id=&search_context_id=&channel_id";$(".js-cart-summary").trigger("start.cart.load.block.checkout",{button:b});if("add"==j){var n="&position="+b.data("position")+"&presentation_id="+b.data("presentation_id")+"&search_context_id="+b.data("search_context_id")+"&channel_id="+b.data("channel"),l=$(".js-popup-cart-item.js-parent-"+d+".js-static-offer-"+f);if(l){var l=$(".service .js-service-name",
l).html(),q=$(".js-popup-cart-item.offer.js-parent-"+d+".offer-"+f);q&&$(".js-service-name",q).html(l)}l=[];l["offer-"+f]={value:!0,parent:d,id:f};updateCartItems({offer:l})}else b.parents("li:first").addClass("js-none");a.addQueue(function(){return $.ajax({url:"/cart-ajax/updateoffer.php",data:"product="+d+"&offer_id="+f+"&action="+j+"Offer"+n,dataType:"json",success:function(b){a.setFree();$(".js-cart-summary").trigger("execute.cart.requests",{});updateCartItems(b);(new CLS2).isEmpty()&&detectCheckoutPage()&&
(window.location="/cart.php")},complete:function(){$(".js-cart-summary").trigger("stop.cart.load.block.checkout",{button:b,enableButton:!1})}}).fail(function(){$(".js-cart-summary").trigger("stop.cart.load",{button:b,enableButton:!0});var a=[];a["offer-"+f]={value:"add"==j?!1:!0,parent:d,id:f};updateCartItems({offer:a})})});$(".js-cart-summary").trigger("execute.cart.requests",{})});(new CLS2).recalculate();$("body").on("click",".js-checkout-button, .js-simple-progress-button",function(){var a=
$(this);$("body").trigger("start.cart.load",{button:a,disableFull:!1});document.location.href=a.attr("data-url")});$("#preview-page, #cart-page").on("keyup",function(a){27==a.which&&(a=$(".modal:visible"),1<a.length?$(a).not("#cart-popup").modal("hide"):$(a).modal("hide"))});detectPreviewPage()&&($("#cart-popup").on("show.bs.modal",function(){$(".js-loader").show()}),$("#cart-popup").on("hidden.bs.modal",function(){$(".js-loader").show()}))});Tm=Tm||{};
Tm.Signin=function(){var a=new CLS2,b={submenu_account:"",submenu_signin:"",submenu_signout:"",signin_link:"",signin_form:"",signin_form_container:"",signin_form_email:"",signin_form_password:"",signin_error_container:"",signin_error_form:"",signin_submit_link:"",signout_link:""},f;f=detectCheckoutPage()?document.forms.checkout_signin:document.forms.signin;var c=$(f).data("config");$.isPlainObject(c)&&$.extend(b,c);return{init:function(a){$.extend(b,a);var c=this;$(b.signout_link).click(function(){c.signOut();return!1});
f.billingInfo.value=c._isCheckoutPage()?"1":"";$(f).formHandler({show_submit_button_hint:!1,on_submit_success:function(a,b,d){$(a).formHandler("show-ajax-progress");c.signInCallback(d,function(){$(a).formHandler("hide-ajax-progress");c._isCartPage()&&"undefined"===typeof d.error&&location.reload()})}});$(b.signin_link).click(function(){0===$(b.signin_error_form).children().length&&!1===$(b.signin_form_email&&b.signin_form_password).is(":disabled")&&($(f.email).val(""),$(f.password).val(""),$(f).formHandler("hide-errors"),
$(f).formHandler("focus-first"))});$(f).data("config",b);return c},getCheckOutStep:function(){return this.isSignedIn()?this.isBillingInfoValid()?"step3":"step2":"step1"},isSignedIn:function(){return!!$(f).data("signed-in")},hasBillingInfo:function(){return!!$(f).data("has-billing-info")},hasInfo:function(){return!!$(f).data("has-info")},isBillingInfoValid:function(){return!!$(f).data("is-billing-info-valid")},getUserFullName:function(){return $(f).data("user-fullname")},getUserEmail:function(){return $(f).data("user-email")},
getBillingInfo:function(){return $(f).data("billing-info")},signInCallback:function(b,c){"undefined"==typeof c&&(c=function(){});var f=this;this._wacJsonP(b.wacAuth,function(){f._mainSignIn(b);f._isCheckoutPage()&&f._checkoutSignIn(b);a.checkCookie();"undefined"!=typeof b.billingInfoDetailsHtml&&$(".js-billinginfo-details").html(b.billingInfoDetailsHtml);"undefined"!=typeof b.paymentMethodsFormHtml&&($("#payment-methods-container").html(b.paymentMethodsFormHtml),$("#payment-collapse").paymentSelector());
detectCheckoutPage()&&updateCart();c()})},signOut:function(b){var c=this;$.ajax({url:"/wac/signout.php",type:"POST",dataType:"json",success:function(f){c._wacJsonP(f.wacAuth);c._markSignedIn(!1);c._setUserFullName("");c._setUserEmail("");c._setBillingInfo(null);c._setBillingInfoIsValid(!1,!1);c._switchSigninButton();a.checkCookie();if($.isPlainObject(b)&&$.isFunction(b.on_success))b.on_success(c,f)},error:function(a,f,l){if($.isPlainObject(b)&&$.isFunction(b.on_error))b.on_error(c,a,f,l)}})},checkCookie:function(a){var b=
"1"===$.cookie("wac");if(this._loadNeeded()||this.isSignedIn()!=b)this._autoSignIn(a);else if($.isPlainObject(a)&&$.isFunction(a.onComplete))a.onComplete()},_loadNeeded:function(){return"signed-but-not-loaded"===$(f).data("signed-in")},_isCheckoutPage:function(){return"checkout-page"==$("#checkout-page").attr("id")},_isCartPage:function(){return"cart-page"==$("#cart-page").attr("id")},_setUserInfo:function(b){this._markSignedIn(!0);this._setUserFullName(b.fullName);this._setUserEmail(b.email);a.checkCookie()},
_mainSignIn:function(a){$(b.signin_submit_link).removeClass("progress_bar").find(".progress-striped").hide();"error"in a?(this._showError(a.error.message),$(b.signin_submit_link).focus()):(this._showError(""),this._setUserInfo(a.userData),"undefined"===typeof a.billingInfo&&(a.billingInfo=null),this._setBillingInfo(a.billingInfo),this._setBillingInfoIsValid(a.billingInfoIsValid,a.freeInfoIsValid,a.isCartFree),$(b.signin_form_container).hide().parents(".signin-form-active").removeClass("signin-form-active"));
this._switchSigninButton()},_wacJsonP:function(a,b){"undefined"==typeof b&&(b=function(){});$.ajax({async:!1,crossDomain:!0,type:"post",url:a.host,processData:!1,data:a.data,cache:!0,jsonp:!1,dataType:"jsonp"}).always(function(){b()})},_showError:function(a){$(b.signin_error_container).html(a)},_checkoutSignIn:function(a){var b="isCartFree"in a&&a.isCartFree?this.hasBillingInfo()?new Tm.Checkout:new Tm.FreeCheckout:new Tm.Checkout;b.changeform();"error"in a?b.showLoginError(a.error.message):this.hasBillingInfo()?
b.fillInfoForm({email:a.billingInfo.email,name:a.billingInfo.fullName,country:a.billingInfo.countryISO2,state:a.billingInfo.stateISO2,postalcode:a.billingInfo.postalCode,city:a.billingInfo.cityName,address:a.billingInfo.address,phone:a.billingInfo.phone,contactphone:a.billingInfo.contactPhone}):"userInfo"in a&&b.fillInfoForm({email:a.userInfo.email,name:a.userInfo.fullName,country:"",state:"",postalcode:"",city:"",address:"",phone:"",contactphone:b.isFree()?a.userInfo.contactPhone:""});b.signinCallback(a);
b.signChecking(!0)},_autoSignIn:function(a){var b=this;jQuery.ajax({url:"/wac/get-data.php",type:"POST",dataType:"json",data:{billingInfo:b._isCheckoutPage()},success:function(c){var f=!1,l,q,t=null;c.isSignedIn&&(f=!0,l=c.userData.fullName,q=c.userData.email,"undefined"!==typeof c.billingInfo&&(t=c.billingInfo));b._markSignedIn(f)._setUserFullName(l)._setUserEmail(q)._setBillingInfo(t)._setBillingInfoIsValid(c.billingInfoIsValid,c.freeInfoIsValid,c.isCartFree);b._switchSigninButton();if($.isPlainObject(a)&&
$.isFunction(a.onComplete))a.onComplete(b)}})},_setUserFullName:function(a){$("#your-account-link span").text(a);$('.live-chat-form input.name, #tellForm input[name="ow_name"]').val(a).trigger("setValue.placeholder");$(f).data("user-fullname",a);return this},_setUserEmail:function(a){$('.live-chat-form input.email, #tellForm input[name="ow_email"]').val(a).trigger("setValue.placeholder");$(f).data("user-email",a);return this},_changeCheckoutUrl:function(){var a=$(".js-checkout-button");if(0<$(".js-checkout-button").length){var b=
a.data("url");"undefined"==typeof b&&(b=a.attr("href"),a.attr("data-url",b));b=b.replace("step1",this.getCheckOutStep());a.attr("href",b).attr("data-url",b)}},_setBillingInfoIsValid:function(a,b,c){c&&!this.hasBillingInfo()?$(f).data("is-billing-info-valid",b):$(f).data("is-billing-info-valid",a);this._changeCheckoutUrl();return this},_setBillingInfo:function(a){$(f).data("billing-info",a);$(f).data("has-billing-info",!!a);return this},_markSignedIn:function(a){$(f).data("signed-in",a);return this},
_switchSigninButton:function(){this.isSignedIn()?($(b.submenu_account).show(),$(b.submenu_signout).show(),$(b.submenu_signin).hide()):($(b.submenu_account).hide(),$(b.submenu_signout).hide(),$(b.submenu_signin).show())}}};$(".js-fgt_pswd a").click(function(){$.ajax({url:"/wac/forgotpass.php",type:"POST",dataType:"json",success:function(a){"undefined"!=typeof a.href&&(location.href=a.href)}});return!1});Tm=Tm||{};
Tm.Tracker=function(){var a=["aff","affT","ref","country_code"],b=["utm_campaign","aff"];return{trackGaEvent:function(){if("undefined"!==typeof _gaq){var a="1"===$.cookie("wac")?"Yes":"No",b=$.cookie("cid");"undefined"!==typeof b&&(_gaq.push(["a._setCustomVar",2,"CID",b,2]),_gaq.push(["b._setCustomVar",2,"CID",b,2]));_gaq.push(["a._setCustomVar",1,"Account",a,2]);_gaq.push(["b._setCustomVar",1,"Account",a,2]);_gaq.push(["a._trackPageview"]);_gaq.push(["b._trackPageview"])}},checkCookie:function(a){this._checkFd();this._checkAff(a)},
_checkFd:function(){var a=$.cookie("fd");"undefined"===typeof a&&(a=Math.floor((new Date).getTime()/1E3),Tm.setCookie("fd",a,36500))},_checkAff:function(f){"undefined"===typeof f&&(f={});"undefined"===typeof f.onComplete&&(f.onComplete=$.noop);var c=!1,d;for(d in a)if(!$.cookie(a[d])){c=!0;break}$.cookie("wdl")&&(c=!0);var g={};for(d in b){var j=$.url().param(b[d]);"undefined"!=typeof j&&$.cookie(b[d])!==j&&(Tm.removeCookie(b[d]),g[b[d]]=j,c=!0)}if(c)g.referer=document.referrer?document.referrer:
window.location.href,jQuery.ajax({url:"/aff.php",type:"POST",data:$.param(g),success:function(a){f.onComplete();"undefined"!=typeof a.affiliate_tracking_url&&detectAffiliate(a.affiliate_tracking_url,$.cookie("aff"))}});else f.onComplete();$.url().param("aff")&&"undefined"!=typeof history.pushState&&(c=$.url().attr("path"),history.pushState({uri:c},null,c))}}};Tm=Tm||{};Tm.setCookie=function(a,b,f){var c=window.location.hostname.split("."),c="."+c.slice("dev"===c[c.length-1]?-3:-2).join(".");"undefined"===typeof f&&(f=null);$.cookie(a,b,{expires:f,path:"/",domain:c})};Tm.removeCookie=function(a){Tm.setCookie(a,null,-1)};(function(a){var b=!1;a.fn.validateForm=function(){b||(b=!0,a.regula("bind"));var f=!0;this.each(function(){var b=a(this).find("input, textarea");b.focus(function(){a("* input, * textarea").popover("destroy")}).popover("destroy").removeClass("error").each(function(){var d=a(this);b.each(function(){!a(this).hasClass("bot")&&(!a(this).hasClass("pass")&&!a(this).hasClass("message"))&&(a(this).val(a.trim(a(this).val())),""===a(this).val()&&a(this).siblings("span._placeholder").css("display","block"))});
if(""===d.val()&&!d.hasClass("bot")&&!d.hasClass("no-required"))return d.popover({content:"Your "+d.attr("error_message")+" is required",placement:"left",title:d.attr("error_title")}),d.popover("show").addClass("error"),f=!1;if(d.attr("data-constraints")){var g=d.regula("validate");if(0<g.length)return d.popover({content:g[0].message,placement:"left",title:d.attr("error_title")}),d.popover("show").addClass("error"),f=!1}})});return f}})(jQuery);$(function(){$(document.forms.subscribe).formHandler({show_submit_button_hint:!1,autofocus_first_field:!1,popover_placement:"left",enable_inputs_on_load:!0,on_ajax_response:function(a,b,f){a={status:!1,errors:[],status_message:""};if($.isArray(f.innerhtml))for(var c in f.innerhtml){if("errorBox"===f.innerhtml[c].id){a.errors.push({messages:f.innerhtml[c].html});break}if("newsletterSubscriptionForm"===f.innerhtml[c].id){a.status=!0;a.status_message=f.innerhtml[c].html;break}}return a},on_submit_success:function(a,
b,f){$(a.email).val("");$(a).formHandler("hide-errors");$(a).formHandler("show-form-error",f.status_message)}})});(function(a){a.fn.currencyFormater=function(){var b=a(this).val();"undefined"!==typeof b&&(b=b.replace(/[^0-9,.]+/g,""),b=b.replace(/[,.]+/,"."),b=parseFloat(b),a(this).val(Math.round(b)));return this}})(jQuery);CLS3=function(){};CLS3.prototype.queue_=[];CLS3.prototype.STATE_BUSY="busy";CLS3.prototype.STATE_FREE="free";CLS3.prototype.state_=this.STATE_FREE;CLS3.prototype.enterDocument=function(){$(document).on("execute.cart.requests",$.proxy(this.onExecute,this))};
CLS3.prototype.onExecute=function(){if(0<this.queue_.length&&!1==this.isBusy()){this.setBusy();var a=this,b=this.queue_[0];b().fail(function(){b().fail(function(){alert("Server Error")});a.setFree();a.onExecute()});this.queue_.shift()}};CLS3.prototype.addQueue=function(a){this.queue_.push(a)};CLS3.prototype.setBusy=function(){this.state_=this.STATE_BUSY};CLS3.prototype.setFree=function(){this.state_=this.STATE_FREE};
CLS3.prototype.isBusy=function(){return this.state_==this.STATE_BUSY};function detectAffiliate(a,b){if("undefined"!=typeof b){var f=a+"?afflogin="+b+"&_="+Date.now();if("undefined"!=typeof $&&"undefined"!=typeof $.get&&"undefined"!=typeof $.support&&$.support.cors)$.get(f);else{var c=document.createElement("img");c.setAttribute("src",f);window.document.getElementsByTagName("body")[0].appendChild(c)}}};tm.stringUtils={};tm.stringUtils.noPrefix=function(a){return a.replace(/^.*?-/,"")};tm.stringUtils.bareId=function(a){return parseInt(a.replace(/^\D+/,""))};tm.stringUtils.numberInTheEnd=function(a){if(/(\d+)$/.test(a))return parseInt(RegExp.$1)};tm.stringUtils.bareText=function(a){a=$(a).clone();a.children().remove();return a.text()};tm.stringUtils.sprintf=function(a,b){var f=arguments,c=1;return a.replace(/%((%)|s)/g,function(a){return a[2]||f[c++]})};
tm.stringUtils.jexpr=function(a,b){if(!goog.isArray(b))throw b+" is not an array";return $(goog.array.map(b,function(b){return tm.stringUtils.sprintf(a,b)}).join(","))};tm.nodeUtils={};tm.nodeUtils.getElementText=function(a){return $.trim($(a).contents().filter(function(){return 3===this.nodeType}).text())};tm.nodeUtils.getClassOfType=function(a,b){if(a.length)for(var f=a.attr("class").split(/\s+/),c=RegExp("^"+b+"-"),d=0;d<f.length;d++)if(c.test(f[d]))return tm.stringUtils.noPrefix(f[d])};tm.nodeUtils.arrayRemove=function(a,b,f){f=a.slice((f||b)+1||a.length);a.length=0>b?a.length+b:b;return a.push.apply(a,f)};tm.search=tm.search||{};CLS8=function(a){if(!a)throw"Invalid data parameter";this.data_=a};CLS8.prototype.getTemplateCountByProp=function(a){return!goog.isDef(this.data_.p)?{}:!goog.isDef(a)?this.data_.p:goog.isDef(this.data_.p[a])&&goog.isDef(this.data_.p[a].v)?this.data_.p[a].v:{}};CLS8.prototype.getTemplateCountByValue=function(a){if(!goog.isDef(this.data_.p))return 0;var b=goog.array.map(goog.object.getValues(this.data_.p),function(a){if(goog.isDef(a.v))return a.v}),f;for(f in b)if(goog.isDef(b[f][a]))return b[f][a]};
CLS8.prototype.getText=function(){return this.data_.t||""};CLS8.prototype.getCount=function(){return this.data_.c};CLS8.prototype.getNextCount=function(){return 0<this.data_.m?this.data_.m:0};CLS8.prototype.hasMore=function(){return this.data_.n};CLS8.prototype.getPageTitle=function(){return this.data_.pt||""};CLS8.prototype.getPageContentTitle=function(){return this.data_.pct||null};
CLS8.prototype.getPageContentDescription=function(){return this.data_.pcd||null};CLS8.prototype.getPageNumber=function(){return this.data_.pa||1};CLS8.prototype.isRedirect=function(){return goog.isDefAndNotNull(this.data_.r)};CLS8.prototype.getRedirectUrl=function(){return this.data_.r};CLS8.prototype.getTopicMode=function(){return this.data_.co||1};CLS8.prototype.hasKeyword=function(){return this.data_.hk||!1};
CLS8.prototype.hasSpecialUrl=function(a,b){return goog.isDefAndNotNull(this.data_.u[a])&&goog.isDefAndNotNull(this.data_.u[a][b])};CLS8.prototype.getSpecialUrl=function(a,b){return this.data_.u[a][b]};CLS8.prototype.getCurrentUrl=function(){return this.data_.uc};CLS8.prototype.needsRendering=function(){return this.data_.nd};CLS46=function(a){this._data={page:1,pr:[],xpr:[]};a&&goog.object.forEach(a,function(a,f){this._data[f]=goog.isArray(a)?goog.array.map(a,function(a){return""+a}):a},this);goog.isDef(this._data.propertylist)&&(CLS46.flattenObject(this._data.propertylist,this._data.pr),delete this._data.propertylist)};CLS46.HARD=1;CLS46.SOFT=2;
CLS46.isVisual=function(a){switch(a){case "pr":return!0;case "category":case "excludeTemplateId":case "xpr":case "type":return!1;default:return!0}};CLS46.flattenObject=function(a,b){if(goog.isArray(a))for(var f=0,c=a.length;f<c;f++)this.flattenObject(a[f],b);else if(goog.isObject(a))for(f in a)a.hasOwnProperty(f)&&this.flattenObject(a[f],b);else return b.push(a)};
CLS46.prototype.merge=function(a){var b=this.getData(),f=a.getData(),c=$.extend(!0,{},b,f);goog.array.forEach(["colors","pr"],function(a){goog.isDef(b[a])&&goog.isDef(f[a])&&(c[a]=goog.array.concat(b[a],f[a]),goog.array.removeDuplicates(c[a]))});a.hasTopic()&&(this.hasTopic()&&goog.isDef(c.pr))&&goog.array.remove(c.pr,this.getParam("topic")[0]);goog.isDefAndNotNull(c.pr)&&!goog.array.isEmpty(c.pr)&&c.pr.sort();return new CLS46(c)};
CLS46.prototype.getData=function(){var a=this._data;goog.array.forEach(["pr","xpr"],function(b){goog.isArray(a[b])&&goog.array.isEmpty(a[b])&&delete a[b]});return a};
CLS46.prototype.getUrlData=function(){var a={pr:[],xpr:[]},b=this._data,f;for(f in b)switch(f){case "topic":case "types":CLS46.flattenObject(b[f],a.pr);break;case "keyword":a.keywords=b[f];break;default:a[f]=JSON.parse(JSON.stringify(b[f]))}1==a.page&&delete a.page;goog.array.forEach(["pr","xpr"],function(b){goog.array.removeDuplicates(a[b]);goog.array.isEmpty(a[b])&&delete a[b]});return a};
CLS46.prototype.setFromUrlData=function(a){goog.object.forEach(a,function(b,f){switch(f){case "page":this.setPage(a[f]);break;case "keywords":this.setKeyword(a[f]);break;case "author":case "type":case "topic":case "types":case "package":case "category":case "colors":case "date":this.setParam(f,a[f]);break;case "2645":this.setParam("topic",a[f]);break;case "excludepropertylist":case "pr":case "2651":this.appendProperty(a[f]);break;case "xpr":this.appendProperty(a[f],"xpr");break;case "namespace":this.setFromUrlData(a[f])}},
this);return this};CLS46.prototype.setParam=function(a,b){this._data[a]=b;return this};CLS46.prototype.appendProperty=function(a,b){b=b||"pr";this._data[b]=goog.array.map(goog.array.concat(this._data[b],a),function(a){return goog.isString(a)?a:""+a});goog.array.removeDuplicates(this._data[b]);return this};CLS46.prototype.unsetParam=function(a){delete this._data[a];return this};
CLS46.prototype.getParam=function(a){if(this._containsMask(a)){var a=this._nameToRegexp(a),b={},f;for(f in this._data)f.match(a)&&(b[f]=this._data[f]);return b}return this._data[a]};CLS46.prototype.hasParam=function(a){if(this._containsMask(a)){var a=this._nameToRegexp(a),b;for(b in this._data)if(b.match(a))return!0}else return"undefined"!==typeof this._data[a]};CLS46.prototype._nameToRegexp=function(a){return RegExp(a.replace(/\*/g,".*"))};
CLS46.prototype._containsMask=function(a){return-1!==a.indexOf("*")};CLS46.prototype.isParamEmpty=function(a){if(!this.hasParam(a))return!0;a=this._data[a];switch(goog.typeOf(a)){case "null":return!0;case "object":return goog.object.isEmpty(a);case "array":return goog.array.isEmpty(a);case "string":return goog.string.isEmptySafe(a)}return!1};
CLS46.prototype.filterExistingData=function(a){var b={},f=function(a,d){goog.isArray(d)?b[a]=d:-1!==["keyword"].indexOf(a)?b[a]=d:(goog.isDefAndNotNull(b[a])||(b[a]=[]),b[a].push(d))};goog.object.forEach(a,function(a,b){if(!goog.isDefAndNotNull(this._data[b]))return f(b,a);goog.array.forEach(a,function(a){-1===this._data[b].indexOf(a)&&($.isNumeric(a)&&-1!==this._data[b].indexOf(parseInt(a))||f(b,a))},this)},this);return b};
CLS46.prototype.append=function(a){this._data=(new CLS46(this.getData())).merge(new CLS46(a)).getData();return this};CLS46.prototype.reset=function(a){var a=a||CLS46.SOFT,b={};a===CLS46.SOFT&&goog.object.forEach(this._data,function(a,c){CLS46.isVisual(c)||(b[c]=a)});this._data=b;this.setPage(1);return this};
CLS46.prototype.hasKeywordOnly=function(){if(!this.hasKeyword())return!1;var a=0,b;for(b in this._data)"keyword"!==b&&"page"!==b&&a++;return 0===a};CLS46.prototype.setPage=function(a){this.setParam("page",a);return this};CLS46.prototype.getPage=function(){return this.getParam("page")};CLS46.prototype.nextPage=function(){return this.setParam("page",this.getParam("page")+1)};CLS46.prototype.hasPropertyValue=function(a){a=parseInt(a);return goog.array.contains(a)};
CLS46.prototype.hasProperty=function(a){return goog.isDefAndNotNull(this._data.propertylist)?goog.isDefAndNotNull(this._data.propertylist[a]):!1};CLS46.prototype.getKeyword=function(){return this.getParam("keyword")};CLS46.prototype.setKeyword=function(a){goog.string.isEmptySafe(a)?this.unsetParam("keyword"):this.setParam("keyword",a);return this};CLS46.prototype.hasKeyword=function(){return!this.isParamEmpty("keyword")};
CLS46.prototype.hasFilters=function(){return goog.object.some(this._data,function(a,b){switch(b){case "page":case "title":case "keyword":case "keywords":return!1}return goog.isArray(a)?!goog.array.isEmpty(a):!0})};CLS46.prototype.isEmpty=function(){for(var a in this._data)if("page"!==a)return!1;return!0};CLS46.prototype.hasTopic=function(){return this.hasParam("topic")||this.hasProperty("topic")};CLS46.prototype.setId=function(a){this._id=a;return this};
CLS46.prototype.hasTopicProperty=function(){return this.hasTopic()?!0:goog.array.some(this._data.pr,function(a){goog.isString(a)&&(a=parseInt(a));return goog.array.contains(tm.search.ui.__allTopicList,a)})};CLS46.prototype.getTopicProperty=function(){if(this.hasParam("topic"))return this.getParam("topic");for(var a=this._data.pr.length,b=this._data.pr,f,c=0;c<a;c++)if(f=b[c],goog.isString(f)&&(f=parseInt(f)),goog.array.contains(tm.search.ui.__allTopicList,f))return f};tm.search.engine={};tm.search.engine.search=function(a,b,f){var b=b||"search",f=f||!1,c=$.Deferred(),a=tm.search.engine.buildQueryParams(a);b=f?$.get("/ajax/"+b+".php",a):$.getJSON("/ajax/"+b+".php",a);b.done(function(a){f?c.resolve(a):c.resolve(new CLS8(a))});return c};tm.search.engine.buildQueryParams=function(a){var b;goog.isDefAndNotNull(a.v)&&(b=a.v,delete a.v,a={v:b,enc:base64.encode(JSON.stringify(a))});return a};(function(){var a={VERSION:"2.3.2",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(b,f){var c="string"==typeof b.initial?{state:b.initial}:b.initial,d=b.terminal||b["final"],g=f||b.target||{},j=b.events||[],n=b.callbacks||{},l={},q=function(b){var c=b.from instanceof Array?b.from:b.from?[b.from]:[a.WILDCARD];l[b.name]=l[b.name]||{};for(var d=0;d<c.length;d++)l[b.name][c[d]]=
b.to||c[d]};c&&(c.event=c.event||"startup",q({name:c.event,from:"none",to:c.state}));for(var t=0;t<j.length;t++)q(j[t]);for(var p in l)l.hasOwnProperty(p)&&(g[p]=a.buildEvent(p,l[p]));for(p in n)n.hasOwnProperty(p)&&(g[p]=n[p]);g.current="none";g.is=function(a){return a instanceof Array?0<=a.indexOf(this.current):this.current===a};g.can=function(b){return!this.transition&&(l[b].hasOwnProperty(this.current)||l[b].hasOwnProperty(a.WILDCARD))};g.cannot=function(a){return!this.can(a)};g.error=b.error||
function(a,b,c,d,f,g,j){throw j||g;};g.isFinished=function(){return this.is(d)};if(c&&!c.defer)g[c.event]();return g},doCallback:function(b,f,c,d,g,j){if(f)try{return f.apply(b,[c,d,g].concat(j))}catch(n){return b.error(c,d,g,j,a.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",n)}},beforeAnyEvent:function(b,f,c,d,g){return a.doCallback(b,b.onbeforeevent,f,c,d,g)},afterAnyEvent:function(b,f,c,d,g){return a.doCallback(b,b.onafterevent||b.onevent,f,c,d,g)},leaveAnyState:function(b,
f,c,d,g){return a.doCallback(b,b.onleavestate,f,c,d,g)},enterAnyState:function(b,f,c,d,g){return a.doCallback(b,b.onenterstate||b.onstate,f,c,d,g)},changeState:function(b,f,c,d,g){return a.doCallback(b,b.onchangestate,f,c,d,g)},beforeThisEvent:function(b,f,c,d,g){return a.doCallback(b,b["onbefore"+f],f,c,d,g)},afterThisEvent:function(b,f,c,d,g){return a.doCallback(b,b["onafter"+f]||b["on"+f],f,c,d,g)},leaveThisState:function(b,f,c,d,g){return a.doCallback(b,b["onleave"+c],f,c,d,g)},enterThisState:function(b,
f,c,d,g){return a.doCallback(b,b["onenter"+d]||b["on"+d],f,c,d,g)},beforeEvent:function(b,f,c,d,g){if(!1===a.beforeThisEvent(b,f,c,d,g)||!1===a.beforeAnyEvent(b,f,c,d,g))return!1},afterEvent:function(b,f,c,d,g){a.afterThisEvent(b,f,c,d,g);a.afterAnyEvent(b,f,c,d,g)},leaveState:function(b,f,c,d,g){var j=a.leaveThisState(b,f,c,d,g),b=a.leaveAnyState(b,f,c,d,g);if(!1===j||!1===b)return!1;if(a.ASYNC===j||a.ASYNC===b)return a.ASYNC},enterState:function(b,f,c,d,g){a.enterThisState(b,f,c,d,g);a.enterAnyState(b,
f,c,d,g)},buildEvent:function(b,f){return function(){var c=this.current,d=f[c]||f[a.WILDCARD]||c,g=Array.prototype.slice.call(arguments);if(this.transition)return this.error(b,c,d,g,a.Error.PENDING_TRANSITION,"event "+b+" inappropriate because previous transition did not complete");if(this.cannot(b))return this.error(b,c,d,g,a.Error.INVALID_TRANSITION,"event "+b+" inappropriate in current state "+this.current);if(!1===a.beforeEvent(this,b,c,d,g))return a.Result.CANCELLED;if(c===d)return a.afterEvent(this,
b,c,d,g),a.Result.NOTRANSITION;var j=this;this.transition=function(){j.transition=null;j.current=d;a.enterState(j,b,c,d,g);a.changeState(j,b,c,d,g);a.afterEvent(j,b,c,d,g);return a.Result.SUCCEEDED};this.transition.cancel=function(){j.transition=null;a.afterEvent(j,b,c,d,g)};var n=a.leaveState(this,b,c,d,g);if(!1===n)return this.transition=null,a.Result.CANCELLED;if(a.ASYNC===n)return a.Result.PENDING;if(this.transition)return this.transition()}}};"undefined"!==typeof exports?("undefined"!==typeof module&&
module.exports&&(exports=module.exports=a),exports.StateMachine=a):"function"===typeof define&&define.amd?define(function(){return a}):window&&(window.StateMachine=a)})();tm.search.model={};tm.search.model.Property=function(a,b,f,c){1;this.id=a;this.title=b;this.count=f;this.params=c||{}};tm.search.model.Property.prototype.getParam=function(a){if(goog.isDef(this.params[a]))return this.params[a]};tm.search.model.Property.prototype.setParam=function(a,b){this.params[a]=b;return this};tm.search.model.Property.prototype.uncheck=function(){this.setParam("checked",!1);return this};
tm.search.model.Property.prototype.check=function(){this.setParam("checked",!0);return this};tm.search.model.Property.prototype.toggle=function(){this.isChecked()?this.uncheck():this.check();return this};tm.search.model.Property.prototype.isChecked=function(){return this.getParam("checked")};tm.search.model.Property.prototype.isFixed=function(){return this.getParam("fixed")};tm.search.model.Property.prototype.isVisible=function(){return!this.isFixed()&&!this.isDisabled()};
tm.search.model.Property.prototype.isDisabled=function(){return 1>this.count||!0===this.getParam("inhibit")};tm.search.model.Property.prototype.getProp=function(){return this.getParam("prop")};tm.search.model.Property.prototype.getPropId=function(){return this.getParam("propId")};tm.search.model.PropertyList=function(a){this.propertyValues={};goog.isDef(a)&&goog.array.forEach(a,function(a){a&&this.addValue(a)},this)};tm.search.model.PropertyList.prototype.getCount=function(){return goog.object.getCount(this.propertyValues)};tm.search.model.PropertyList.prototype.addValue=function(a){this.propertyValues[a.id]=a;return this};tm.search.model.PropertyList.prototype.hasValue=function(a){1;return goog.isDef(this.propertyValues[a])};
tm.search.model.PropertyList.prototype.getValue=function(a){1;1;return this.propertyValues[a]};tm.search.model.PropertyList.prototype.hasFixed=function(){return goog.array.some(goog.object.getValues(this.propertyValues),function(a){return a.isFixed()})};tm.search.model.PropertyList.prototype.visit=function(a){return goog.array.filter(goog.object.getValues(goog.object.map(this.propertyValues,function(b){return a(b)},this)),function(a){return goog.isDefAndNotNull(a)})};
tm.search.model.PropertyList.prototype.reset=function(){this.visit(function(a){a.uncheck()})};tm.search.model.PropertyList.prototype.hasVisibleValue=function(a){var b=goog.object.getValues(this.propertyValues);goog.isDef(a)&&(1,b=this.filter(function(b){return b.getPropId()===a}));return goog.array.some(b,function(a){return a.isVisible()})};tm.search.model.PropertyList.prototype.getValuesByPropertyId=function(a){return this.visit(function(b){if(b.getPropId()===a)return b})};
tm.search.model.PropertyList.prototype.getSelected=function(a){return this.filter(function(b){return a?b.isChecked():b.isChecked()&&!b.isDisabled()})};tm.search.model.PropertyList.prototype.filter=function(a){return goog.array.filter(goog.object.getValues(this.propertyValues),a,this)};tm.search.ui={};CLS44=function(a,b,f){this.tags_=new CLS36($(".js-search-tags"));this.breadcrumbs_=new CLS12($("div#breadcrumbs ul.breadcrumbs"));this._baseUrl=window.location.pathname;this._searchUnderway=$.Deferred().reject();this._collectTopicList();this._a=(new CLS46).setFromUrlData(b).setId("A");this._b=(new CLS46(a)).setFromUrlData(a).setId("B");this.options_=f||{};this.history_=new CLS6;this._fsm=(new CLS33).ui(this)};
CLS44.redir=function(a){switch(goog.typeOf(a)){case "string":window.location=a}return!1};CLS44.isFilterCollapsed=function(a){a=$(a).closest(".js-filter-heading");return!a.is(".js-filter-heading")?!1:a.closest("div").hasClass("inactive")};
CLS44.toggleFilterCollapse=function(a){a=$(a).closest(".js-filter-heading");if(!a.is(".js-filter-heading"))return!1;a.closest("div").toggleClass("inactive").toggleClass("active");a.find(".js-arrow").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down");return!0};CLS44.prototype.enterDocument=function(){this._setupDic();this._setupUi()};
CLS44.prototype._setupDic=function(){var a=this._dic=new ServiceKernel;a.define("user-params",$.proxy(function(){return this._b},this));a.define("url",$.proxy(function(){return this._url},this));a.define("compatibility-filter",CLS16);a.define("property-filter",CLS29);a.define("color-filter",CLS14);a.define("daterange-filter",CLS19);a.define("popular-features-filter",CLS24)};
CLS44.prototype._setupUi=function(){var a=this._dic;$("body").on("discount.update",CLS44.onDiscountUpdate);var b=0<this._getOptions("baseUrl").length?this._getOptions("baseUrl"):window.location.pathname;this._url=new CLS45(b,this._b);this._isSpinnerNeeded()&&(this._spinner=new CLS32($("ul.thumbnails")),this._spinner.enterDocument());this._pager=new CLS27($(".js-btn-more"),$(".js-pager-bottom"),$(".js-search-listing"));
this._topics=new CLS39(this._getOptions("topics"));b=$("#types");this._types=new CLS43(b,b.closest(".js-slide-down"));this._compatibility=a.require("compatibility-filter");this._properties=a.require("property-filter");this._keyword=new CLS37;this._keyword.enterDocument({visible:this._b.hasFilters()||this._a.hasFilters()});this._pager.enterDocument($.proxy(function(){this._fsm.can("autopage")&&(this._pager._disableShowMoreButton(),this._fsm.autopage(!0));
return!1},this),$.proxy(function(){if(!this._pager.isThereMorePages())return!1;this._fsm.can("autopage")&&this._fsm.autopage()},this));this._bestsellers=new CLS9($("#bestsellers"),[50125,50126,50116,50115,50108,50128],$("#bestsellers-show-more"),this._types);this._bestsellers.enterDocument({onClick:this._getEventCallback("onClick",this._getOptions("bestsellers"),f),withCheckboxes:this._getOptions("bestsellers").withCheckboxes});$(window).bind("pagehide",$.proxy(function(a){a.originalEvent.persisted&&
(this._isRestoreStateRequired()&&(this._b.reset(CLS46.HARD).append(this._lastValidParams),this._setSelectionFromParams()),this._fsm.can("abortSearch")&&this._fsm.abortSearch())},this));var b=this.history_.enterDocument({onStateChange:$.proxy(function(){this._fsm.can("history")&&this._fsm.history(this.history_.current())},this)}),f=$.proxy(function(a){this._sa&&this._fsm.can("abortSearch")?this._fsm.abortSearch():this._fsm.can("filter")||(a.preventDefault(),a.stopImmediatePropagation());
return!1},this),c=$.proxy(function(a){return"string"===goog.typeOf(a)?$.proxy(function(b){this._fsm.can("filter")&&this._fsm.filter(a,b);return!1},this):$.proxy(function(b){if(this._fsm.can("filter")){var c=a(b);this._fsm.filter(c,b)}return!1},this)},this),d=$.proxy(function(){this._fsm.can("pause")&&this._fsm.pause()},this),g=$.proxy(function(){this._fsm.can("resume")&&this._fsm.resume()},this);"undefined"!==typeof __topics&&(this._topics.whenLoadingIs().done($.proxy(function(){var a={};(new CLS42("topic")).iterate(__topics,
$.proxy(function(b,c){goog.isDef(__topic_urls[c])&&(a[c]=__topic_urls[c])},this));var b=new CLS8({u:{property:a}});this._topics.updateUrls($.proxy(function(a){return this._url.resolveUrl(a,b)},this))},this)),this._topics.enterDocument({container:$(".js-topic"),containerTopics:$("#topics"),containerBc:$("#topic-bc"),history:this.history_,items:$.extend(!0,{},__topics),onClick:this._getEventCallback("onClick",this._getOptions("topics"),f),onSelectNode:this._getEventCallback("onSelectNode",
this._getOptions("topics"),c("topics")),baseParams:this._a}));"undefined"!==typeof __ui_types&&(this._types.whenLoadingIs().done($.proxy(function(){var a={};(new CLS42("type")).iterate(__ui_types,$.proxy(function(b,c){goog.isDef(__types_urls[c])&&(a[c]=__types_urls[c])},this));var b=new CLS8({u:{property:a}}),c=$.proxy(function(a){return this._url.resolveUrl(a,b)},this);this._types.updateUrls(c);this._bestsellers.whenLoadingIs().done($.proxy(function(){this._bestsellers.updateUrls(c)},
this))},this)),this._types.enterDocument({items:window.__ui_types,onClick:this._getEventCallback("onClick",this._getOptions("types"),f),onCheck:this._getEventCallback("onSelect",this._getOptions("types"),c("types")),onUncheck:$.proxy(function(a,b){var c=$(b.args[0]).parents("li:not(.jstree-leaf)");c.length&&$("li.jstree-checked.jstree-disabled:hidden",c).removeClass("jstree-checked")},this)}));this._features=a.require("popular-features-filter");this._features.enterDocument({model:this._getOptions("featuresModel")(),
container:$(".js-feature"),topContainer:$("#top-features"),showMoreContainer:$("#show-more-features"),allFeaturesContainer:$("#all-features"),onPause:d,onResume:g,onClick:f,onSelect:this._getEventCallback("onSelect",this._getOptions("feature"),c($.proxy(function(){return this._features.getKeep()},this))),onLoadAll:$.proxy(function(){this._collectSearchRequest({});return tm.search.engine.search(this._formSearchRequest(),"properties",!0)},this)});this._properties.enterDocument({model:CLS44._htmlToPropertyListModel($(".js-property").not(".js-popular")),
container:$(".js-property").not(".js-popular"),heading:$(".js-slide-down.js-property h6"),onClick:this._getEventCallback("onClick",this._getOptions("properties"),f),onSelect:this._getEventCallback("onSelect",this._getOptions("properties"),c($.proxy(function(){return this._properties.getKeep()},this)))});this._types.whenLoadingIs().done($.proxy(function(){this._compatibility.enterDocument({model:CLS44._htmlToPropertyListModel($("#compatibility")),isOpen:!this._bestsellers.isVisible(),
container:$("#compatibility"),heading:$("#compatibility").find(">h6"),arrowHead:$("#compatibility").find(".js-filter-heading > .js-arrow"),onClick:this._getEventCallback("onClick",this._getOptions("compatibility"),f),onSelect:this._getEventCallback("onSelect",this._getOptions("compatibility"),c($.proxy(function(){return this._compatibility.getKeep()},this)))})},this));$.when(b,this._topics.whenLoadingIs(),this._types.whenLoadingIs(),this._properties.whenLoadingIs()).done($.proxy(function(){this._fsm.init()},
this));this._daterange=a.require("daterange-filter").enterDocument({onClick:this._getEventCallback("onClick",this._getOptions("daterange"),f),onSelect:this._getEventCallback("onSelect",this._getOptions("daterange"),c("daterange")),container:$("#date-range"),heading:$("#date-range .block-heading"),arrowHead:$("#date-range").find(".js-filter-heading > .js-arrow")});this._colors=a.require("color-filter").enterDocument({container:$("#colors-list"),preselected:Math.abs(this._a.isParamEmpty("colors")-1),
onClick:this._getEventCallback("onClick",this._getOptions("colors"),f),onSelect:this._getEventCallback("onSelect",this._getOptions("colors"),null),onChange:c("color")});this.tags_.enterDocument({onClickPanel:$.proxy(function(a){this._sa&&this._fsm.can("abortSearch")?this._fsm.abortSearch():this._fsm.can("tag")||(a.preventDefault(),a.stopImmediatePropagation())},this),onTagRemove:$.proxy(function(a){this._fsm.can("tag")&&this._fsm.tag(a)},this),onFirstTag:function(){$(".js-narrow-results").show()},
onLastTag:function(){$(".js-narrow-results").hide()}});$("a.js-clear-tags").click($.proxy(function(){this.tags_.reset();this.breadcrumbs_.reset(this._a,this._b,this._url.getBaseUrl());return!1},this));this.searchUiFilters=new CLS17([this._types,this._topics,this._properties,this._colors,this._keyword,this._bestsellers,this._compatibility,this._daterange,this._features]);this._getSearchForm().submit($.proxy(function(){this._fsm.can("keyword")&&this._fsm.keyword();return!1},
this));this._gage=new CLS28;this._gage.enterDocument({onPageUpdate:$.proxy(function(a){this._fsm.can("replaceHistory")&&this._fsm.replaceHistory(a)},this)})};CLS44.prototype._getSearchForm=function(){return $("#js-searchForm")};
CLS44.prototype._saveHistory=function(a,b){var a=a||{},f=this._b.getUrlData();goog.object.isEmpty(a)||(f.propertylist=$.extend(!0,{},f.propertylist,a));goog.isDef(b)||(b=this._lastUrl);var c=$.extend({},f);goog.isDefAndNotNull(c.colors)&&goog.isArray(c.colors)&&1===c.colors.length&&goog.isString(b)&&"/color/"===b.substr(0,7)&&delete c.colors;if(b){this._lastUrl=b;delete c.propertylist;var d={};1<c.page&&(d.page=c.page);goog.array.map(["date"],function(a){goog.isDef(c[a])&&(d[a]=
c[a])});b+=_paramToUrl(d)}else b=this._baseUrl+_paramToUrl(c),this._lastUrl=void 0;this.history_.push(f,b)};CLS44.prototype._updateTags=function(){var a=new CLS35;goog.array.forEach(this.searchUiFilters.collect("getTags"),function(b){a.addTags(b)});this.tags_.update(a);this.breadcrumbs_.reset(this._a,this._b,this._url.getBaseUrl())};
CLS44.prototype._updatePageWithSearchResults=function(a){var b=$(".js-heading-1"),f={contentTitle:a.getPageContentTitle(),templateTotalFound:a.getCount(),searchByKeyword:a.hasKeyword(),keywords:this._b.getKeyword(),needsRendering:a.needsRendering()};b.html(Twig.render(search_h1,f));$("title:first").text(a.getPageTitle());$("#js-slide-down-text").html(a.getPageContentDescription());null===a.getPageContentDescription()||0===a.getPageContentDescription().trim().length?$("#js-slide-down-txt").hide():
$("#js-slide-down-txt").show();$("#products").html("").append(a.getText())};
CLS44.prototype._attachThumbnailSleuth=function(){$("#products, .thumbContent").live("click",".js-thumb_preview, .js-thumb_preview a",$.proxy(function(a){var b=1,f;f=$(a.target).closest(".thumbContent").find("[data-tid]").first().data("tid");var c=$(a.target).closest(".js-template-data").prev().first().data("tid")||$(a.target).closest("[data-tid]").first().data("tid");f=f||c;if(!goog.isDefAndNotNull(f))return!1;f=parseInt(f);var d;if($(".page_divider").length){d=$('.js-thumbnail[data-tid="'+
f+'"]');if(!d.length)return!1;c=d.closest("li").prevAll("div.page_divider").first();c.length?b=parseInt(c.attr("id").replace(/\D/g,"")):(c=d.closest("li").nextAll("div").first(),c.length&&(b=parseInt(c.attr("id").replace(/\D/g,""))-1))}else b=this._b.getPage();c=jQuery.deparam.querystring(window.location.search);c.page=b;1<b&&(c.templateId=f,goog.isDefAndNotNull(d)&&(c.templateOffsetTop=parseInt(d.offset().top-$(window).scrollTop())));return $(a.target).is("a,img.js-thumbnail-img")?($(a.target).is('a[target!="_blank"]')&&
(this._fsm.shutdown(),this.history_.replace(c)),!0):!1},this))};CLS44.onDiscountUpdate=function(){var a=Object.create(new CLS5);a.setContext(!0);a.drawPrices()};CLS44.prototype._getOptions=function(a){return"undefined"===typeof this.options_[a]?{}:this.options_[a]};CLS44.getCountHtml=function(a){return"undefined"===typeof a?$("<span>(0)</span>"):"("+a+")"};
CLS44.prototype._setSelectionFromParams=function(){var a=this._b.getParam("pr"),b=this._a.getParam("pr");a&&this._topics.containsTopicProperty(a)?this._topics.setSelection(a):b&&this._topics.containsTopicProperty(b)?this._topics.setSelection():this._topics.reset();a&&this._types.containsProperty(a)?this._types.setSelection(a):this._types.reset();this._properties.reset();a&&(this._properties.setSelection(a),this._features.setSelection(a));this._b.hasParam("date")&&this._daterange.setSelection(this._b.getParam("date"));
a=this._b.getKeyword()||this._b.getParam("template");goog.isArray(a)&&(a=a.join(","));this._keyword.setSelection(a);this._bestsellers.updateItemCounts();this._updateTags()};CLS44.prototype._isRestoreStateRequired=function(){return/AppleWebKit\/5/i.test(navigator.userAgent)&&/os 7/i.test(navigator.userAgent)};
CLS44.prototype.onINIT=function(){this._lastValidParams=this._b.getData();this._setSelectionFromParams();this._attachThumbnailSleuth();this.searchUiFilters.collect("onInit");this._fsm.ready()};CLS44.prototype.onREADY=function(){"undefined"!=typeof this._spinner&&this._spinner.hide();this._pager.hideProgressBar()};CLS44.prototype.onSHUTDOWN=function(){};
CLS44.prototype.onHISTORY=function(a,b,f,c){this._b.reset(CLS46.SOFT);goog.object.forEach(c,function(a,b){CLS46.isVisual(b)&&this._b.setParam(b,a)},this);this.searchUiFilters.collect("reset");if(c){if(goog.isDefAndNotNull(c.pr)){var d=c.pr;goog.isString(d)&&goog.string.contains(d,"-")&&(d=d.split("-"));this._topics.setSelection(d);this._types.setSelection(d);this._properties.setSelection(d);this._features.setSelection(d);this._compatibility.setSelection(d)}this._colors.setSelection(d);
this._keyword.setSelection(c.keywords);this._daterange.setSelection(c.date)}this._fsm.search()};CLS44.prototype.onREPLACEHISTORY=function(a,b,f,c){this._b.setPage(c);this._saveHistory();this._fsm.ready()};CLS44.prototype.onAUTOPAGE=function(a,b,f,c){if(!this._pager.isThereMorePages())return this._fsm.ready();if(c||3!=(this._b.getPage()-this._pager.getInitialPage())%4)return this._b.nextPage(),this._fsm.search();this._fsm.ready()};
CLS44.prototype.onAFTERAUTOPAGE=function(a,b,f,c){$(Twig.render(page_divider,{page:c.getPageNumber()})).appendTo("#products");$("#products").append(c.getText());0===c.getNextCount()?this._pager._disableShowMoreButton():3==(c.getPageNumber()-this._pager.getInitialPage())%4&&this._pager._enableShowMoreButton();this._fsm.postSearch(c)};
CLS44.prototype.onSEARCH=function(a,b,f,c){this._sa="AUTOPAGE"===b;this._updateTags();"AUTOPAGE"===b?this._pager.showProgressBar():"undefined"!=typeof this._spinner&&this._spinner.show();var d={};this._collectSearchRequest(d);this._searchUnderway=tm.search.engine.search(this._formSearchRequest());this._searchUnderway.done($.proxy(function(a){if(a.isRedirect())return CLS44.redir(a.getRedirectUrl()),!1;"HISTORY"!==b&&"AUTOPAGE"!==b&&this._saveHistory(d,a.getCurrentUrl());
"AUTOPAGE"===b?this._fsm.autopageFinished(a):this._fsm.searchFinished(a,c)},this))};CLS44.prototype._formSearchRequest=function(){return{_url:window.location.pathname+_paramToUrl(this._b.getUrlData()),v:2,base:this._a.getUrlData(),user:this._b.getUrlData()}};
CLS44.prototype._collectSearchRequest=function(){var a=this._b.getPage();this._b.reset(CLS46.SOFT);goog.array.forEach(this.searchUiFilters.collect("getSearchParams"),function(a){a=this._a.filterExistingData(a);goog.object.isEmpty(a)||this._b.append(a)},this);var b=jQuery.deparam.querystring(window.location.href.replace(/^.*\?/,""));goog.isDef(b.excludepropertylist)&&this._b.setParam("excludepropertylist",b.excludepropertylist);this._b.setPage(a)};
CLS44.prototype.onAFTERSEARCH=function(a,b,f,c,d){this._updatePageWithSearchResults(c);a=this._b.hasFilters()||this._a.hasFilters();this._keyword.setToolboxVisible(a)._updatePlaceholder(a);this._fsm.postSearch(c,d)};
CLS44.prototype.onPOSTSEARCH=function(a,b,f,c,d){tm.thumbnail.renew();"AFTERAUTOPAGE"!==b&&this.searchUiFilters.collect("onAfterSearch",{response:c,keep:d||"nothing",url:$.proxy(function(a){return this._url.resolveUrl(a,c)},this)});$("body").trigger("discount.update");_gaq.push(["a._trackPageview"]);_gaq.push(["b._trackPageview"]);this._pager.setMorePages(0<c.getNextCount());this._lastValidParams=this._b.getData();this._updateTags();this._fsm.ready()};
CLS44.prototype.onKEYWORD=function(){if(!this._keyword.isWithin())return CLS44.redir("/templates.php?keywords="+this._keyword.getKeyword()),!1;this._b.setPage(1);$(".pagination_divider").remove();this._fsm.postFilter()};
CLS44.prototype.onFILTER=function(a,b,f,c,d){this._pager.reset();this._b.setPage(1);"object"===goog.typeOf(d)&&"uncheck_node"===d.type&&(a=goog.array.concat.apply(null,this.searchUiFilters.collect("getRelations")),a=goog.array.filter(a,function(a){if(1===a.length&&""===a[0])return!1;a=$("#"+a.join(", #"));return!goog.array.some(a,function(a){return goog.array.some(this.searchUiFilters.collect("isChecked",a),function(a){return a})},this)},this),this.searchUiFilters.collect("removeRelation",
a));this._b.hasKeyword()&&!this._keyword.isVisible()&&this._keyword.setToolboxVisible(!0).setWithin(!0);goog.isDef(d)&&goog.isDef(d.keep)&&(c=d.keep);this._fsm.postFilter(c)};CLS44.prototype.onPOSTFILTER=function(a,b,f,c){this._fsm.search(c)};
CLS44.prototype.onTAG=function(a,b,f,c){goog.isArray(c)||(c=[c]);goog.array.forEach(c,function(a){if("property"===a.getType()&&this._a.hasPropertyValue(a.getId()))return CLS44.redir()},this);goog.array.forEach(c,function(a){this.searchUiFilters.collect("onTagRemove",a)},this);this._fsm.postTag(c)};
CLS44.prototype.onPOSTTAG=function(a,b,f,c){a={type:"tag_uncheck"};goog.array.some(c,function(a){return"type"===a.getType()})&&(a.type="uncheck_node");this._fsm.filter("keep-nothing",a)};CLS44.prototype.onSEARCHABORT=function(){this._searchUnderway.reject();this._fsm.ready()};CLS44.prototype._isSpinnerNeeded=function(){return 1>$("div.js-wp-filters").length};
CLS44.prototype._getEventCallback=function(a,b,f){return goog.isDef(b)&&goog.isDef(b[a])?b[a]:f};
CLS44._htmlToPropertyListModel=function(a){var b=new tm.search.model.PropertyList;goog.array.forEach($(a).find("li"),function(a){var a=$(a),c={checked:a.hasClass("selected"),prop:a.closest(".js-property-bag").attr("id"),propId:tm.stringUtils.bareId(a.closest(".js-property-bag").attr("id")),inhibit:a.closest(".js-property-bag").hasClass("hidden")};if(a.hasClass("fixed")||a.hasClass("js-fixed"))c.fixed=!0;var d=tm.stringUtils.bareId($(a).attr("id")),g=tm.stringUtils.bareText($(a).find("a")),
a=tm.stringUtils.bareId($(a).find("span").text());b.addValue(new tm.search.model.Property(d,g,a,c))},this);return b};CLS44.prototype.getDateRangeSearchParams=function(){return this._daterange.getSearchParams()};
CLS44.prototype._collectTopicList=function(){tm.search.ui.__allTopicList=[];if(goog.isDef(__topics)){var a={};(new CLS42("topic")).iterate(__topics,$.proxy(function(b,f){a[f]=1}));a=goog.object.getKeys(a);goog.array.removeDuplicates(a);tm.search.ui.__allTopicList=goog.array.map(a,function(a){return parseInt(a)})}};CLS42=function(a){this._name=a};CLS42.prototype.iterate=function(a,b){this.isLeaf(a)&&b.call(null,a,this.getId(a));this.hasChildren(a)&&goog.array.forEach(this.getChildren(a),function(a){this.iterate(a,b)},this)};CLS42.prototype.isLeaf=function(a){return"object"===goog.typeOf(a)&&goog.isDef(a.attr)&&goog.isDef(a.attr["data-"+this._name])};
CLS42.prototype.hasChildren=function(a){var b="object"===goog.typeOf(a)&&goog.isDef(a.data)&&"array"===goog.typeOf(a.data),a="object"===goog.typeOf(a)&&goog.isDef(a.children)&&"array"===goog.typeOf(a.children);return b||a};CLS42.prototype.getId=function(a){return a.attr["data-"+this._name]};CLS42.prototype.getChildren=function(a){if(goog.isDef(a.children))return a.children;if(goog.isDef(a.data))return a.data;throw"No children";};CLS45=function(a,b){this._baseUrl=a;this._userParams=b};CLS45.prototype.resolveUrl=function(a,b){var f=this._elicitId(a),c=this._elicitDomain(a);return b&&b.hasSpecialUrl(c,f)?b.getSpecialUrl(c,f):this._buildUrl(a)};CLS45.prototype.substituteHash=function(a,b){"#"===a.attr("href")&&a.attr("href",this.resolveUrl(b))};
CLS45.prototype._buildUrl=function(a){var b=this._userParams.getUrlData(),f=$.extend({},b);delete f.namespace;b=(new CLS46(f)).setFromUrlData(b);f=new CLS46;f.setFromUrlData(a);a=b.merge(f).getUrlData();delete a.page;delete a.title;(!goog.isDefAndNotNull(a.keywords)||goog.string.isEmptySafe(a.keywords))&&delete a.keywords;goog.isDef(a.pr)&&goog.array.isEmpty(a.pr)&&delete a.pr;return this._baseUrl+_paramToUrl(a)};
CLS45.prototype._elicitId=function(a){switch(goog.typeOf(a)){case "object":return this._elicitId(goog.object.getAnyValue(a));case "array":return 1===a.length?a.slice(0,1)[0]:a;default:return a}};CLS45.prototype._elicitDomain=function(a){return goog.isDef(a.colors)?"colors":"property"};CLS45.prototype.getBaseUrl=function(){return this._baseUrl};
CLS45.prototype.flattenObject=function(a,b){if(goog.isArray(a))for(var f=0,c=a.length;f<c;f++)this.flattenObject(a[f],b);else if(goog.isObject(a))for(f in a)a.hasOwnProperty(f)&&this.flattenObject(a[f],b);else return b.push(a)};CLS33=function(){};CLS33.prototype.ui=function(a){var b=goog.array.map(this._getEvents(),function(a){return a.to});return StateMachine.create({initial:"LOAD",events:this._getEvents(),"final":"SHUTDOWN",callbacks:this._getFunctions(b,a)})};
CLS33.prototype._getEvents=function(){var a=[];a.push({name:"init",from:"LOAD",to:"INIT"});a.push({name:"ready",from:"INIT AUTOPAGE POSTSEARCH HISTORY REPLACEHISTORY SEARCHABORT".split(" "),to:"READY"});a.push({name:"shutdown",from:"READY",to:"SHUTDOWN"});a.push({name:"pause",from:"READY",to:"PAUSE"});a.push({name:"resume",from:"PAUSE",to:"READY"});a.push({name:"history",from:"READY",to:"HISTORY"},{name:"replaceHistory",from:"READY",to:"REPLACEHISTORY"});a.push({name:"autopage",
from:"READY",to:"AUTOPAGE"},{name:"autopageFinished",from:"SEARCH",to:"AFTERAUTOPAGE"});a.push({name:"search",from:["AUTOPAGE","POSTFILTER","HISTORY"],to:"SEARCH"},{name:"searchFinished",from:"SEARCH",to:"AFTERSEARCH"},{name:"abortSearch",from:"SEARCH",to:"SEARCHABORT"},{name:"postSearch",from:["AFTERAUTOPAGE","AFTERSEARCH"],to:"POSTSEARCH"});a.push({name:"filter",from:["READY","POSTTAG"],to:"FILTER"},{name:"keyword",from:"READY",to:"KEYWORD"},{name:"postFilter",from:["FILTER","KEYWORD"],to:"POSTFILTER"});
a.push({name:"tag",from:"READY",to:"TAG"},{name:"postTag",from:"TAG",to:"POSTTAG"});return a};CLS33.prototype._getFunctions=function(a,b){var f=goog.object.createSet(goog.array.map(a,function(a){return"on"+a}));return goog.object.map(f,function(a,d){if("function"===goog.typeOf(b[d]))return $.proxy(b[d],b)})};CLS30=function(){};CLS30.DISABLED_CLASS="property-disabled";CLS30.FIXED="js-fixed";CLS30.prototype._onSelect=function(a){var b;b=$(a.target).closest("a");if(!this.isCheckbox(b)||this.isFixed(b))return a.stopImmediatePropagation(),!1;this._keep=this.getKeep(b);this.toggle(b);this._repaint(this.getKeep(b));return!1};CLS30.prototype.findItemByVal=function(a){a=$("#val-"+a,this._getContainer());if(a.length)return a.children("a")};
CLS30.prototype.isCheckbox=function(a){return a.is("a")};CLS30.prototype.getKeep=function(a){return goog.isDef(a)?a.closest("div.js-property-bag").attr("id"):this._keep};CLS30.prototype.isEnabled=function(a){a=this._getPropertyValueId(a);if(this._model.hasValue(a))return!this._model.getValue(a).isDisabled()};
CLS30.prototype.isFixed=function(a){a=this._getPropertyValueId(a);return this._model.hasValue(a)?this._model.getValue(a).getParam("fixed"):!1};CLS30.prototype.isChecked=function(a){if(!this._getContainer().has(a))return!1;a=this._getPropertyValueId(a);return!this._model.hasValue(a)?!1:this._model.getValue(a).isChecked()};
CLS30.prototype.toggle=function(a){if(!this.isCheckbox(a))return!1;a=this._getPropertyValueId(a);this._model.hasValue(a)&&this._model.getValue(a).toggle();return this};CLS30.prototype.show=function(a){$(a).closest("li").removeClass("hidden")};CLS30.prototype.hide=function(a){$(a).closest("li").addClass("hidden")};CLS30.prototype.hideComponent=function(){this._getContainer().addClass("hidden");return this};
CLS30.prototype.showComponent=function(){this._getContainer().removeClass("hidden");return this};CLS30.prototype._setCount=function(a,b){b=b||0;$(a).closest("li").find("span").html(CLS44.getCountHtml(b))};CLS30.prototype._getId=function(a){return $(a).closest("li").attr("id")};
CLS30.prototype._getSelection=function(a,b){var f=$("#selected-item");goog.array.forEach(this._model.getSelected(a),function(a){f=f.add(this.findItemByVal(a.id))},this);return f.filter(function(a,d){return $.contains(b,d)})};CLS30.prototype._getItems=function(a,b){a=a||this._getContainer();return $("li"+(b||""),a)};
CLS30.prototype.setSelection=function(a){if(!goog.isDefAndNotNull(this._container))throw"Invalid container";var b=tm.stringUtils.jexpr("#val-%s",a);"feature"==this._id&&(b=b.add(tm.stringUtils.jexpr('li[data-value="%s"]',a)));a=this._container.find(b).map(function(a,b){return parseInt(tm.stringUtils.numberInTheEnd($(b).attr("id")))});goog.array.forEach(a,function(a){this._model.hasValue(a)&&this._model.getValue(a).check()},this)};CLS30.prototype.reset=function(){this._model.reset()};
CLS30.prototype.getTags=function(){return goog.array.map(goog.array.filter(this._model.getSelected(!0),function(a){return!a.isFixed()}),function(a){return new CLS34(a.title,a.id,this._id,{disabled:a.isDisabled()})},this)};CLS30.prototype.onTagRemove=function(a){a.getType()===this._id&&this._model.getValue(a.getId()).uncheck();this._repaint()};
CLS30.prototype._getContainer=function(){if(goog.isDefAndNotNull(this._container))return this._container;throw"No container defined";};CLS30.prototype.getSearchParams=function(){var a=this._model.filter(function(a){return!a.isFixed()&&a.isChecked()});return{pr:goog.array.map(a,function(a){return a.id})}};
CLS30.prototype.onAfterSearch=function(a){this._updateTemplateCount(a.response.getTemplateCountByProp(),a.keep);this._updateComponentVisibility(a.response.getTemplateCountByProp());this._updateUrls(a.url);this._repaint(a.keep)};CLS30.prototype._updateUrls=function(a){this._each(function(b){b.find("a").attr("href",a({pr:[this._getPropertyValueId(b)]}))})};CLS30.prototype._getPropertyId=function(a){return tm.stringUtils.bareId($(a).closest(".js-property-bag").attr("id"))};
CLS30.prototype._getPropertyValueId=function(a){return tm.stringUtils.bareId(this._getId($(a).closest("li")))};CLS30.prototype._updateTemplateCount=function(a){this._model.visit(function(b){var f=b.getPropId();b.count=goog.isDef(a[f])&&"object"===goog.typeOf(a[f].v)?goog.isDefAndNotNull(a[f].v[b.id])?a[f].v[b.id]:0:0})};
CLS30.prototype._setEnabledNode=function(a,b){if(!this.isCheckbox(a))throw Error("Type mismatch");if(this.isFixed(a))return!1;b?(a.removeClass(CLS30.DISABLED_CLASS),this.show(a)):this.isChecked(a)?a.addClass(CLS30.DISABLED_CLASS):this.hide(a)};CLS30.prototype._hasFilterCheckedProperties=function(a){a=$("#prop-"+a);if(a.length)return 0<$(".selected",a).length};
CLS30.prototype._updateComponentVisibility=function(){};CLS30.prototype._setVisibilityIf=function(a,b){a=$(a);b?a.removeClass("hidden"):a.addClass("hidden")};CLS30.prototype._setupDynamicUrls=function(){goog.array.forEach(this._getItems(),function(a){var b=$(a).children("a");this._url.substituteHash(b,{pr:[this._getPropertyValueId(a)]})},this)};
CLS30.prototype._each=function(a){goog.array.forEach(this._getItems(),function(b){$.proxy(a,this)($(b))},this)};
CLS30.prototype._repaint=function(a){goog.array.forEach(this._getItems(),function(b){var b=$(b),f=this._getPropertyValueId(b);this._model.hasValue(f)?(f=this._model.getValue(f),f.isChecked()?b.addClass("selected"):b.removeClass("selected"),a!==this.getKeep(b)&&(f.isFixed()?b.addClass("fixed"):(b.removeClass("fixed"),f.isDisabled()?f.isChecked()||b.addClass("hidden"):b.removeClass("hidden"),b.find("span").html(CLS44.getCountHtml(f.count))))):b.addClass("hidden")},
this)};CLS30.prototype._splitPropertyList=function(a){return goog.array.bucket(a,function(a){return a.getProp()})};CLS30.prototype._getPropertyBags=function(){return $(".js-property-bag",this._getContainer())};CLS30.prototype.hasVisibleValue=function(){return this._model.hasVisibleValue()};
CLS30.prototype._repaintSections=function(){var a=this._splitPropertyList(this._model.filter(function(a){return!a.isFixed()}));goog.object.forEach(a,function(a,f){var c=this._model.hasVisibleValue(tm.stringUtils.bareId(f)),d=$("#"+f);this._setVisibilityIf(d,c)},this)};CLS31=function(){};goog.inherits(CLS31,CLS30);defineService(["url"],CLS31);CLS31.prototype._repaint=function(a){CLS31.superClass_._repaint.call(this,a);this.hasVisibleValue()?this.showComponent():this.hideComponent()};tm.compatibilityProperties=function(){};tm.compatibilityProperties.getCompatibilityProperties=function(){return{2617:[43],2619:[40],2621:[64,69,17],2615:[14],2613:[61],2611:[27],2609:[24,40],2607:[26],2623:[16],2627:[64],2657:[69],2680:[78]}};
tm.compatibilityProperties.getCompatibilityTypes=function(){return{50108:1,50111:3,50133:5,50134:7,50109:9,50131:10,50135:11,50136:12,50113:13,50120:14,50129:15,50121:16,50125:17,50123:18,50112:19,50126:24,50130:25,50127:26,50115:27,50151:29,50137:30,50132:32,50138:33,50114:34,50110:36,50139:38,50118:40,50117:42,50116:43,50140:45,50150:46,50146:48,50147:49,50148:50,50152:51,50141:52,50142:54,50143:55,50149:57,50144:59,50153:60,50122:61,50128:63,50119:64,50145:65,50124:66,50154:68,61529:69,61528:70,
67280:76,67711:77,89070:78,109856:79,120709:80}};tm.compatibilityProperties.countDistinctTypes=function(){return tm.compatibilityProperties.getDistinctTypes().length};tm.compatibilityProperties.getDistinctTypes=function(a){var b=tm.compatibilityProperties.getCompatibilityTypes(),f={},c,d,g;for(c in a){d=Object.keys(a[c].v);for(var j=0;j<d.length;j++)g=b[""+d[j]],"undefined"!==typeof g&&(f[g]=1)}return Object.keys(f)};
tm.compatibilityProperties.getTypePropertyGroups=function(a,b){var b=parseInt(b),f=tm.compatibilityProperties.getCompatibilityTypes(),c={},d,g,j;for(d in a){g=Object.keys(a[d].v);for(var n=0;n<g.length;n++)j=f[""+g[n]],j===b&&(c[d]=1)}return Object.keys(c)};CLS16=function(a){this._id="compatibility";this._url=a};goog.inherits(CLS16,CLS31);defineService(["url"],CLS16);
CLS16.prototype.enterDocument=function(a){this._container=a.container;this._model=a.model;var b=a.heading,f=a.arrowHead,c=a.onClick||$.noop,d=a.onSelect||$.noop,g=$.proxy(function(){b.closest("div").toggleClass("inactive");f.toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")},this);b.click(g);a.isOpen&&g();$("a",this._container).click(c).click($.proxy(this._onSelect,this)).click(d);this._setupDynamicUrls();this._updateComponentVisibility()};
CLS16.prototype.getRelations=function(){return goog.array.map($(".js-compatibility[data-tagrelation]",this._getContainer()),function(a){return(""+$(a).data("tagrelation")).split(" ")})};
CLS16.prototype.removeRelation=function(a){goog.array.forEach(a,function(a){a=a.join(" ");$('.js-compatibility[data-tagrelation="'+a+'"]',this._getContainer()).each($.proxy(function(a,b){this._getSelection(!0,b).each($.proxy(function(a,b){this._model.getValue(tm.stringUtils.bareId($(b).closest("li").attr("id"))).uncheck()},this))},this))},this)};
CLS16.prototype._updateComponentVisibility=function(){if(goog.isDef(this.relevantTypes))goog.array.forEach(this._getPropertyBags(),function(a){var a=$(a),a=tm.stringUtils.bareId(a.attr("id")),f=tm.compatibilityProperties.getCompatibilityProperties()[a],c=!goog.isDef(f)||1===this.relevantTypes.length&&goog.array.contains(f,parseInt(this.relevantTypes[0]));goog.array.forEach(this._model.getValuesByPropertyId(a),function(a){c?a.setParam("inhibit",!1):a.setParam("inhibit",!0)})},
this);else{var a=goog.array.some($(".js-slide-down.js-compatibility:not(.hidden)"),function(a){a=$(a).attr("id");return this.hasVisibleValue(tm.stringUtils.bareId(a))},this);this._setVisibilityIf(this._getContainer(),a)}};CLS16.prototype._updateTemplateCount=function(a,b){CLS16.superClass_._updateTemplateCount.call(this,a,b);this.relevantTypes=tm.compatibilityProperties.getDistinctTypes(a)};
CLS16.prototype._repaint=function(a){CLS16.superClass_._repaint.call(this,a);this._repaintSections()};CLS17=function(a){this._list=a};CLS17.prototype.collect=function(a){var b=Array.prototype.slice.call(arguments,1),f=goog.array.filter(this._list,function(b){return"function"===goog.typeOf(b[a])});return goog.array.map(f,function(c){return c[a].apply(c,b)})};CLS32=function(a){this._thumbnails=a};
CLS32.prototype.enterDocument=function(){this.spinner_=$('<div class="ajax-spinner"><div/></div>');this.overlay_=$('<div class="js-overlay"/>').hide().appendTo(".js-search-overl");this._scrlbl=$(window)._scrollable()[0];this.spnr_=this.spinner_[0];this.spinner_top_=this.spinner_.appendTo(this._thumbnails.parent()).show().offset().top;this.spinner_left_=this.spinner_.offset().left;this.spinner_div_=$(">div",this.spinner_);this.spinner_div_height_=this.spinner_div_.height();this.spinner_div_width_=
this.spinner_div_.width();this.spinner_div_top_=this.spinner_div_.prop("offsetTop");this.spinner_div_left_=this.spinner_div_.prop("offsetLeft");this.spinner_.hide();$(document).on("scroll",$.proxy(this._onScroll,this));$(window).resize($.proxy(this._onResize,this))};CLS32.prototype.isRelevant=function(){return 0<this._thumbnails.length};CLS32.prototype.show=function(){this.overlay_.show();this.isRelevant()&&(this.spinner_.fadeIn(),$(window).resize())};
CLS32.prototype.hide=function(){this.overlay_.hide();this.isRelevant()&&(this.spinner_.fadeOut(),$(window).resize())};
CLS32.prototype._onResize=function(){this.isRelevant()&&(this.spinner_.is(":hidden")?(this.spinner_.show(),this.spinner_left_=this.spinner_.offset().left,this.spinner_div_left_=this.spinner_div_.prop("offsetLeft"),this.spinner_.hide()):(this.spinner_left_=this.spinner_.offset().left,this.spinner_div_left_=this.spinner_div_.css({position:"absolute",left:"50%"}).prop("offsetLeft"),this._onScroll()))};
CLS32.prototype._onScroll=function(){if(this.isRelevant()&&this.spinner_.is(":visible")){var a=0<this._scrlbl.scrollTop-this.spinner_top_;a&&this._scrlbl.scrollTop-this.spnr_.offsetHeight-this.spinner_top_+this.spinner_div_height_<2*-this.spinner_div_top_?this.spinner_div_.css({position:"fixed",top:this.spinner_div_top_,left:this.spinner_div_left_+this.spinner_left_+this.spinner_div_width_/2-1}):a?this.spinner_div_.css({position:"absolute",top:this.spnr_.offsetHeight-this.spinner_div_height_-
this.spinner_div_top_,left:"50%"}):this.spinner_div_.css({position:"absolute",top:this.spinner_div_top_,left:"50%"})}};CLS34=function(a,b,f,c){this._title=a;this._id=b;this._type=f;this._htmlid="tag"+this._hashCode(f+b);this._options=c||{}};CLS34.prototype.getId=function(){return this._id};CLS34.prototype.getHtmlId=function(){return this._htmlid};CLS34.prototype.getTitle=function(){return this._title};CLS34.prototype.getType=function(){return this._type};CLS34.prototype.getData=function(){if("undefined"!==typeof this._options.data)return this._options.data};
CLS34.prototype.isDisabled=function(){return goog.isDef(this._options.disabled)?this._options.disabled:!1};CLS34.prototype.equalsTo=function(a){return this.getTitle()===a.getTitle()&&this.getId()===a.getId()&&this.getType()===a.getType()};CLS34.prototype._hashCode=function(a){var b=0,f;if(0===a.length)return b;for(var c=0;c<a.length;c++)f=a.charCodeAt(c),b=(b<<5)-b+f,b&=b;return b};CLS35=function(){this._tags=[]};CLS35.prototype.addTag=function(a){this._tags.push(a)};CLS35.prototype.addTags=function(a){for(var b=0;b<a.length;b++)this._tags.push(a[b])};CLS35.prototype.hasTag=function(a){for(var b=0;b<this._tags.length;b++)if(this._tags[b].equalsTo(a))return this._tags[b]};
CLS35.prototype.getTagByHtmlId=function(a){for(var b=0;b<this._tags.length;b++)if(this._tags[b].getHtmlId()===a)return this._tags[b]};CLS35.prototype.getTagById=function(a){for(var b=0;b<this._tags.length;b++)if(this._tags[b].getId()===a)return this._tags[b]};CLS35.prototype.each=function(a,b){for(var f=0;f<this._tags.length;f++)a.call(b,this._tags[f])};CLS36=function(a){this.container_=$(a);this._last=new CLS35;this._onFirstTag=this._onLastTag=this._onTagRemove=$.noop};CLS36.prototype.enterDocument=function(a){a=a||{};a.onClickPanel&&this._getContainer().click(a.onClickPanel);this._getContainer().click($.proxy(this._onClickPanel,this));a.onTagRemove&&(this._onTagRemove=a.onTagRemove);a.onLastTag&&(this._onLastTag=a.onLastTag);a.onFirstTag&&(this._onFirstTag=a.onFirstTag)};
CLS36.prototype.update=function(a){var b=this.getTagCount();this._last.each(function(b){var d=a.hasTag(b);d?d.isDisabled()^b.isDisabled()&&(b.isDisabled()?this._enableTag(d):this._disableTag(d)):this._removeTag(this._getTagDomElement(b))},this);a.each(function(a){this._last.hasTag(a)||this._addTag(a)},this);this._last=a;var f=this.getTagCount();0<b&&0===f?this._onLastTag():0===b&&0<f&&this._onFirstTag();return this};
CLS36.prototype._addTag=function(a){var b=$("<a/>").attr("href","#").html(a.getTitle()).attr("id",a.getHtmlId()).addClass("tag-"+a.getType());a.isDisabled()?b.addClass("disabled"):b.addClass("with-cross").append($("<i/>").addClass("icon-close"));(a=a.getData())&&goog.object.forEach(a,function(a,c){b.attr("data-"+c,a)});this._getContainer().append($("<li/>").append(b))};CLS36.prototype.isTagDisabled=function(a){return!$(a).hasClass("with-cross")};
CLS36.prototype.getTagCount=function(){return $("li",this._getContainer()).length};CLS36.prototype.reset=function(){var a=[];this._getContainer().find("li").each($.proxy(function(b,f){a.push(this._getTagByHtmlId($(f).find("a").attr("id")))},this));this._onTagRemove(a)};CLS36.prototype._getTagByHtmlId=function(a){return this._last.getTagByHtmlId(a)};CLS36.prototype._disableTag=function(a){this._getTagDomElement(a).addClass("disabled").removeClass("with-cross").find("i").remove()};
CLS36.prototype._enableTag=function(a){this._getTagDomElement(a).removeClass("disabled").addClass("with-cross").append($("<i/>").addClass("icon-close"))};CLS36.prototype._removeTag=function(a){$(a).each(function(a,f){$(f).closest("li").remove()})};CLS36.prototype._getContainer=function(){return this.container_};CLS36.prototype._getTagDomElement=function(a){a="a"+('[id="'+a.getHtmlId()+'"]');return $(a)};
CLS36.prototype._onClickPanel=function(a){a.preventDefault();$(a.target).each($.proxy(function(a,f){$(f).is("i")&&(f=$(f).parent());if($(f).is("a")){if(this.isTagDisabled($(f)))return!1;this._onTagRemove(this._getTagByHtmlId($(f).attr("id")))}},this));return!1};CLS29=function(a){this._url=a;this.loaded_=$.Deferred();this._id="property"};goog.inherits(CLS29,CLS30);defineService(["url"],CLS29);
CLS29.prototype.enterDocument=function(a){a=a||{};this._model=a.model;var b=a.heading,f=a.onClick||$.noop,c=a.onSelect||$.noop;this._container=$(a.container);b.click(function(a){return CLS44.toggleFilterCollapse(a.target)});this._getContainer().click(f).click($.proxy(this._onSelect,this)).click(c);this._setupDynamicUrls();this._setupInitialComponentVisibility();this.loaded_.resolve()};CLS29.prototype.whenLoadingIs=function(){return this.loaded_};
CLS29.prototype._setupInitialComponentVisibility=function(){goog.array.forEach(this._getContainer(),function(a){this._model.hasFixed()&&!this._model.hasVisibleValue()&&$(a).hide()},this)};CLS29.prototype._repaint=function(a){CLS29.superClass_._repaint.call(this,a);this._repaintSections()};CLS43=function(a,b){this._container=a;this._panel=b;this.loaded_=$.Deferred()};CLS43.CHECKED="jstree-checked";CLS43.DISABLED="jstree-disabled";CLS43.HIDDEN="jstree-hidden";
CLS43.prototype.enterDocument=function(a){var a=a||{},b=a.items,f=a.onClick||$.noop,c=a.onCheck||$.noop,a=a.onUncheck||$.noop;$(".js-slide-down.js-type").click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find(".js-filter-heading > .js-arrow").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")});this._getContainer().on("click.jstree","a",f).on("click.jstree","a",$.proxy(function(a){this._isEnabled(a.target)||(a.preventDefault(),
a.stopImmediatePropagation())},this));this._tree=this._getContainer().jstree({plugins:["json_data","checkbox","ui"],json_data:b,checkbox:{override_ui:!0}});this._tree.bind("loaded.jstree",$.proxy(this._onLoadTree,this));this._tree.on("uncheck_node.jstree",a);this._tree.on("check_node.jstree uncheck_node.jstree",c);return this};CLS43.prototype.whenLoadingIs=function(){return this.loaded_};
CLS43.prototype.onAfterSearch=function(a){this.updateUrls(a.url);if("types"!==a.keep||0===this._getSelectedElements().length)this._updateTemplateCount(a.response.getTemplateCountByProp(2651)),this._updateComponentVisibility()};CLS43.prototype.containsProperty=function(a){a=this._getTypes(a);return!1==goog.array.isEmpty(a)};CLS43.prototype.getSearchParams=function(){return{types:goog.array.map(this._getSelectedElements(),function(a){return $(a).data("type")})}};
CLS43.prototype.reset=function(){this._getSelectedElements().each($.proxy(function(a,b){this._uncheckType(b)},this));return this};CLS43.prototype.setSelection=function(a){a=this._getTypes(a);a.show();a.closest("li[data-types]").show();this.checkItem(a)};
CLS43.prototype.getTags=function(){var a=[],b=$("li.jstree-checked[data-types]:not(.jstree-hidden)",this._getContainer()),f=$("li[data-types]",this._getContainer()).not(b).find("li.jstree-checked");goog.array.forEach(b,function(b){b=new CLS34(tm.nodeUtils.getElementText($(b).children("a")),$(b).attr("id"),"type");a.push(b)},this);goog.array.forEach(f,function(b){var d={};$(b).is(".jstree-hidden:not(.jstree-checked)")||(this._isEnabled(b)||(d.disabled=!0),b=new CLS34(tm.nodeUtils.getElementText($("a",
b)),$(b).attr("id"),"type",d),a.push(b))},this);return a};CLS43.prototype.onTagRemove=function(a){"type"===a.getType()&&this._uncheckType(a.getId())};CLS43.prototype._isEnabled=function(a){a=$(a).closest("li");return!(a.hasClass(CLS43.DISABLED)||a.hasClass(CLS43.HIDDEN))};
CLS43.prototype._setNodeEnabled=function(a,b){b?(a.removeClass(CLS43.DISABLED),a.show().removeClass(CLS43.HIDDEN)):this.isChecked(a)?(a.addClass(CLS43.DISABLED),a.show().removeClass(CLS43.HIDDEN)):(a.addClass(CLS43.DISABLED),0===$("."+CLS43.CHECKED,a).length&&a.hide().addClass(CLS43.HIDDEN))};CLS43.prototype._getContainer=function(){return this._container};
CLS43.prototype._getSelectedElements=function(a){var b="li.jstree-leaf.jstree-checked";a&&(b+=":not(."+CLS43.DISABLED+")");return $(b,this._getContainer())};
CLS43.prototype._onLoadTree=function(){$("li a",this._getContainer()).each(function(a,b){var f=$(b),c=f.parent();f.append(CLS44.getCountHtml());c.attr("data-type")&&c.attr("id","type-"+c.attr("data-type"))});$("> ul > li",this._getContainer()).each(function(a,b){var f=[];$("li[data-type]",b).each(function(a,b){f.push($(b).attr("data-type"))});$(b).attr("data-types",f.join(" ")).attr("id","type-"+f.join("-"))});this._updateTemplateCount(__types_count||{});$("li a",this._getContainer()).each(function(){var a=
$(this).html();$(this).html(a.replace("&nbsp;&nbsp;",""))});this.loaded_.resolve()};CLS43.prototype.isChecked=function(a){a=$(a).closest("li");return a.hasClass(CLS43.CHECKED)&&$.contains(this._getContainer().get()[0],a[0])};
CLS43.prototype._updateTemplateCount=function(a){$("li[data-type]",this._getContainer()).each($.proxy(function(b,f){var c=$(f).data("type"),c="undefined"===typeof a[c]?0:a[c];$("span",f).html(CLS44.getCountHtml(c));this._setNodeEnabled($(f),0<c)},this));$("li[data-types]",this._getContainer()).each($.proxy(function(b,f){for(var c=$(f).attr("data-types").split(" "),d=0,g=0;g<c.length;g++)var j=c[g],d=d+("undefined"===typeof a[j]?0:a[j]);$(f).children("a").children("span").html(CLS44.getCountHtml(d));
this._setNodeEnabled($(f),0<d)},this))};CLS43.prototype.updateUrls=function(a){this._getItems().each(function(b,f){f=$(f);f.find("a").attr("href",a({types:f.data("type")?[f.data("type")]:goog.array.map(f.data("types").split(" "),function(a){return parseInt(a)})}))})};CLS43.prototype._uncheckType=function(a){"string"===goog.typeOf(a)&&(a=$("#"+a));this.uncheckItem(a)};
CLS43.prototype._updateComponentVisibility=function(){var a=this._getContainer(),a=$("li[data-type]",a).filter(function(a,f){return!$(f).hasClass(CLS43.HIDDEN)});if(1<a.length||a.hasClass("jstree-checked"))return this._panel.show(),!0;this._panel.hide()};CLS43.prototype.setVisibility=function(a){a?this._getContainer().removeClass("hidden"):this._getContainer().addClass("hidden")};CLS43.prototype.isVisible=function(){return this._getContainer().is(":visible")};
CLS43.prototype.getItemCountHtml=function(a){return $(">a>span",a).text()};CLS43.getItemTitle=function(a){var b;$(">a",a).contents().filter(function(){return 3===this.nodeType}).each(function(a,c){a||(b=$(c).text())});return b};CLS43.prototype.checkItem=function(a,b){!1===b?this.uncheckItem(a):this._getContainer().jstree("check_node",a)};CLS43.prototype.uncheckItem=function(a){this._getContainer().jstree("uncheck_node",a)};
CLS43.prototype.getVisibleLeafCount=function(){return this._getLeafs().not(".jstree-hidden").length};CLS43.prototype._getLeafs=function(){return $(".jstree-leaf",this._getContainer())};CLS43.prototype._getItems=function(){return $("li",this._getContainer())};CLS43.prototype._getTypes=function(a){return tm.stringUtils.jexpr("#type-%s",a)};CLS12=function(a){this.container_=$(a)};CLS12.prototype._searchUrlMask=/\/templates.php/;CLS12.prototype.reset=function(a,b,f){this._isClearSearchPage(a,b,f)&&this.container_.children("li").each(function(a,b){0<a&&$(b).remove()})};CLS12.prototype._isClearSearchPage=function(a,b,f){return this._searchUrlMask.test(f)&&a.isEmpty()&&b.isEmpty()};tm.search.ui.bestsellers={};CLS9=function(a,b,f,c){this._container=a;this._bestsellers=b;this._types=c;this._showMore=new CLS11(f);this._list=new CLS10(b);this._whenLoadingIs=$.Deferred()};
CLS9.prototype.enterDocument=function(a){a=a||{};this.onClick=a.onClick||this.onClick;this._showMore.enterDocument($.proxy(this.onShowMore,this));this._container.click($.proxy(this.onClick,this));this._list.enterDocument({withCheckboxes:a.withCheckboxes});a=this._types.whenLoadingIs();a.done($.proxy(function(){this._list.render($("li > ul",this._container),this._types.getItemCountHtml,CLS43.getItemTitle)},this));a.done($.proxy(this.updateItemCounts,this));
a.done($.proxy(function(){3>this.getVisibleCount()?(this._container.addClass("hidden"),this._types.setVisibility(!0===this._types._updateComponentVisibility())):(this._container.removeClass("hidden"),this._types.setVisibility(!1))},this));a.done($.proxy(function(){this._whenLoadingIs.resolve()},this))};CLS9.prototype.whenLoadingIs=function(){return this._whenLoadingIs};
CLS9.prototype.onClick=function(a){var b=$(a.target);a.preventDefault();a.stopImmediatePropagation();if(!b.is("a")&&!b.is("ins")&&!b.is("span"))return!1;a=b.closest("li");if(!a.length)return!1;b=a.attr("id");if(!goog.isDef(b))return!1;var b=$("#"+b.substring(11)),f=!this._types.isChecked(b);this._list._checkedItem(a,f);this._types.checkItem(b,f);return!1};
CLS9.prototype.onShowMore=function(){this._types.setVisibility(!this._showMore.isFolded());return!1};CLS9.prototype.reset=function(){this._types.setVisibility(!1);this._showMore.reset().paint(!0)};CLS9.prototype.onAfterSearch=function(a){this.updateItemCounts();if("types"===a.keep)return!1;this._list.updateCountHtml(this._types);this.updateUrls(a.url)};
CLS9.prototype.updateUrls=function(a){this._list.updateUrls(a)};
CLS9.prototype.updateItemCounts=function(){this._list.repaintItems(this._types);if(3>this.getVisibleCount())this._showMore.setVisibility(!1),this._container.addClass("hidden"),this._types.setVisibility(!0);else{var a=1<this._types.getVisibleLeafCount();this._showMore.setVisibility(a);this._container.removeClass("hidden");this._types.setVisibility(a&&!this._showMore.isFolded());this._showMore.paint()}};
CLS9.prototype.getVisibleCount=function(){return $(">ul>li>ul>li:not(.jstree-hidden)",this._container).length};CLS9.prototype.isVisible=function(){return!this._container.is(".hidden")};CLS10=function(a){this._bestsellers=a};CLS10.prototype.enterDocument=function(a){a=a||{};this._withCheckboxes=goog.isDef(a.withCheckboxes)?a.withCheckboxes:!0};CLS10.prototype.render=function(a,b,f){var c=this._withCheckboxes;this._each(function(d,g){var j={id:g.attr("id"),count:b(g),title:f(g)};c?a.append($(Twig.render(typeBestseller,j))):a.append($(Twig.render(typeBestsellerNoCheckboxes,j)))})};
CLS10.prototype.updateCountHtml=function(a){this._each(function(b,f){$("span",b).html(a.getItemCountHtml(f))})};CLS10.prototype.updateUrls=function(a){this._each($.proxy(function(b){b.find("a").attr("href",a({types:[tm.stringUtils.bareId(b.attr("id"))]}))},this))};
CLS10.prototype.repaintItems=function(a){this._each($.proxy(function(b,f){this._checkedItem(b,a.isChecked(f));var c=a._isEnabled(f)&&"(0)"!==a.getItemCountHtml(f);c&&b.find("span").html(a.getItemCountHtml(f));this._visibilityItem(b,c)},this))};CLS10.prototype._checkedItem=function(a,b){b?a.addClass(CLS43.CHECKED):a.removeClass(CLS43.CHECKED)};
CLS10.prototype._visibilityItem=function(a,b){b?a.removeClass(CLS43.HIDDEN).show():a.addClass(CLS43.HIDDEN).hide()};CLS10.prototype._each=function(a){goog.array.forEach(this._bestsellers,function(b){var f=$("#type-"+b),b=$("#bestseller-type-"+b);a(b,f)})};CLS11=function(a){this._container=a;this.reset();this._folded=!0};CLS11.prototype.enterDocument=function(a){this._container.click($.proxy(function(){this._folded=!this._folded;this.paint();a()},this))};CLS11.prototype.reset=function(){this._folded=!0;return this};CLS11.prototype.setVisibility=function(a){a?this._container.show():this._container.hide()};
CLS11.prototype.paint=function(){this._container.html(Twig.render(moreProductTypes,{showMore:this._folded}))};CLS11.prototype.isFolded=function(){return this._folded};tm.search.ui.features={};CLS24=function(a){this._url=a};goog.inherits(CLS24,CLS31);defineService(["url"],CLS24);
CLS24.prototype.enterDocument=function(a){this._container=a.container;this._topContainer=a.topContainer;this._model=a.model;this._fsm=this._createMoreFeaturesFsm(a.onPause,a.onResume);this._popularFeatures=new CLS25(this._url);this._popularFeatures.enterDocument({model:a.model,container:this._topContainer,titleFunc:CLS43.getItemTitle,onClick:a.onClick,onSelect:$.proxy(function(b){var f=$(b.target);this._popularFeatures._repaint();
this._allFeatures._repaint();this._keep=this._popularFeatures.getKeep(f);a.onSelect(b)},this)});this._allFeatures=new CLS23(this._url);this._allFeatures.enterDocument({model:a.model,container:a.allFeaturesContainer,onClick:a.onClick,onLoadAll:a.onLoadAll,onSelect:$.proxy(function(b){var f=$(b.target);this._popularFeatures._repaint();this._allFeatures._repaint();this._keep=this._allFeatures.getKeep(f);a.onSelect(b)},this)});this._showMore=new CLS26;
this._showMore.enterDocument({container:a.showMoreContainer,onClick:$.proxy(this.onShowMore,this)});this._fsm.init();this._showMore.show();this._container.click($.proxy(function(a){if(!CLS44.toggleFilterCollapse($(a.target)))return!1;if(!this._popularFeatures.hasVisibleValue()&&(this._showMore.hide(),this._fsm.can("click")))return this._fsm.click(),!1},this))};
CLS24.prototype.getSearchParams=function(){var a=new CLS46(this._popularFeatures.getSearchParams()),a=a.merge(new CLS46(this._allFeatures.getSearchParams()));return a=a.getUrlData()};CLS24.prototype.onShowMore=function(a){if(this._fsm.can("click"))return this._fsm.click(),!1;a.preventDefault();a.stopImmediatePropagation();return!1};CLS24.prototype.reset=function(){this._allFeatures.reset();this._popularFeatures.reset()};
CLS24.prototype.onAfterSearch=function(a){this._allFeatures.onAfterSearch(a);this._popularFeatures.onAfterSearch(a);this._showMore.setVisibility(this._allFeatures.hasVisibleValue()&&this._popularFeatures.hasVisibleValue());this._popularFeatures.hasVisibleValue()||(this._allFeatures.isPropertyListLoaded()?this._allFeatures.showComponent():(a=this._getContainer().closest(".js-slide-down").children("h6"),CLS44.isFilterCollapsed(a)||CLS44.toggleFilterCollapse(a)));
this._setVisibilityIf(this._container,this._model.hasVisibleValue())};
CLS24.prototype._createMoreFeaturesFsm=function(a,b){return StateMachine.create({initial:"INIT",events:[{name:"init",from:"INIT",to:"CLOSE"},{name:"click",from:"CLOSE",to:"LOADING"},{name:"loaded",from:"LOADING",to:"OPEN"},{name:"click",from:"OPEN",to:"CLOSE"}],callbacks:goog.object.map({onCLOSE:function(){this._showMore.fold();this._allFeatures.fold()},onLOADING:function(){this._allFeatures.showComponent();this._allFeatures.isPropertyListLoaded()?this._fsm.loaded():(this._showMore.unfold(),
a(),this._allFeatures.loadPropertyList().done($.proxy(function(){b();this._fsm.loaded()},this)))},onOPEN:function(){this._showMore.unfold();this._allFeatures.unfold()}},function(a){return $.proxy(a,this)},this)})};CLS24.prototype.getTags=function(){return this._allFeatures.getTags()};CLS24.prototype.onTagRemove=function(a){this._allFeatures.onTagRemove(a);this._popularFeatures._repaint()};
CLS24.prototype.setSelection=function(a){this._popularFeatures.setSelection(a);this._allFeatures.setSelection(a)};CLS24.prototype.onInit=function(){this._setVisibilityIf(this._container,this._model.hasVisibleValue())};CLS25=function(a){this._id="feature";this._url=a};goog.inherits(CLS25,CLS31);defineService(["url"],CLS25);CLS25.prototype.enterDocument=function(a){this._container=a.container;this._model=a.model;this._container.click(a.onClick).click($.proxy(this._onSelect,this)).click(a.onSelect);this._setupDynamicUrls()};
CLS25.prototype.findItemByVal=function(a){a=$('[data-value="'+a+'"]',this._getContainer());if(a.length)return a.children("a")};CLS25.prototype.getVisibleCount=function(){return this._getItems().not(".hidden").length};CLS25.prototype._getItems=function(a,b){a=a||this._getContainer().find(".js-property-list").first();return $("li"+(b||""),a)};
CLS25.prototype._getPropertyId=function(a){return tm.stringUtils.bareId($(a).attr("data-property"))};CLS25.prototype._getPropertyValueId=function(a){return tm.stringUtils.bareId($(a).closest("li").attr("data-value"))};
CLS25.prototype.hasVisibleValue=function(){return goog.array.some(this._getItems(),function(a){a=this._getPropertyValueId(a);if(this._model.hasValue(a))return a=this._model.getValue(a),0<a.count&&!a.isFixed()},this)};CLS25.prototype._updateComponentVisibility=function(){this._setVisibilityIf(this._container,this.hasVisibleValue())};CLS26=function(){this._folded=!0};CLS26.prototype.enterDocument=function(a){this._container=a.container;this._container.click(a.onClick)};CLS26.prototype.setVisibility=function(a){a?this.show():this.hide();return this};CLS26.prototype.paint=function(){this._container.html(Twig.render(showMoreFeatures,{showMore:this._folded}));return this};
CLS26.prototype.show=function(){this._container.removeClass("hidden");return this};CLS26.prototype.hide=function(){this._container.addClass("hidden");return this};CLS26.prototype.fold=function(){this._folded=!0;this.paint();return this};CLS26.prototype.unfold=function(){this._folded=!1;this.paint();return this};CLS23=function(a){this._url=a;this._id="feature";this._opened=!1};goog.inherits(CLS23,CLS31);CLS23.prototype.enterDocument=function(a){this._container=a.container;this._model=a.model;this._container.click(a.onClick).click($.proxy(this._onSelect,this)).click(a.onSelect);this._onLoadAll=a.onLoadAll};
CLS23.prototype.loadPropertyList=function(){var a=this;goog.isDef(this._isLoaded)||(this._isLoaded=$.Deferred(),this._onLoadAll().done($.proxy(function(b){detectWPFiltersPage()&&(b=b.replace(RegExp("checkbox-list","g"),""));this._container.html(b).show();a._setupDynamicUrls();goog.isArray(this._selection)&&this.setSelection(this._selection);this._isLoaded.resolve(!0)},this)));return this._isLoaded};
CLS23.prototype.isPropertyListLoaded=function(){return 0===this._getContainer().find(".tiny-spinner").length};
CLS23.prototype._repaint=function(){if(this._opened)this.hideComponent();else{this.showComponent();CLS23.superClass_._repaint.call(this);var a=this._splitPropertyList(this._model.filter(function(a){return!a.isFixed()}));goog.object.forEach(a,function(a,f){var c=this._model.hasVisibleValue(tm.stringUtils.bareId(f)),d=$("#"+f);this._setVisibilityIf(d,c)},this)}};
CLS23.prototype.isFolded=function(){return this.isPropertyListLoaded()&&this.hasVisibleValue()};CLS23.prototype.unfold=function(){this._opened=!1;this._repaint()};CLS23.prototype.fold=function(){this._opened=!0;this._repaint()};CLS23.prototype.setVisibility=function(a){a?this.show():this.hide()};
CLS23.prototype._isEnabled=function(a){a=$(a).closest("li");return!(a.hasClass(CLS43.DISABLED)||a.hasClass(CLS43.HIDDEN))};CLS23.prototype.getItemCountHtml=function(a){return $("span",a).html()};CLS23.prototype._updateComponentVisibility=function(){this.isPropertyListLoaded()&&this._opened&&this.setVisibility(this._model.hasVisibleValue())};
CLS23.prototype.setSelection=function(a){this.isPropertyListLoaded()?CLS23.superClass_.setSelection.call(this,a):this._selection=a};tm.search.ui.dateRange={};CLS19=function(a){this._presets=new CLS20(a);this._range=new CLS21;this._anyDate=new CLS18};defineService(["url"],CLS19);
CLS19.prototype.enterDocument=function(a){var b=a.heading,f=a.arrowHead,c=a.onSelect||$.noop();this._container=a.container;this._container.find("ul.js-property-list").bind("click",function(a){if(a.target==this)return a.preventDefault(),a.stopImmediatePropagation(),!1});this._presets.enterDocument({container:this._container.find(".js-property-list"),onClick:a.onClick,onSelect:$.proxy(function(a){this._range.reset();this._setSelection(this._presets);return c(a)},this)});this._range.enterDocument({container:$(".js-custom-range",
this._container),onClick:a.onClick,onSelect:$.proxy(function(a){this._setSelection(this._range);return c(a)},this)});this._anyDate.enterDocument({container:$("#daterange-all"),onClick:$.proxy(function(){this.reset();c()},this)});b.click($.proxy(function(){b.closest("div").toggleClass("inactive");f.toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")},this));return this};
CLS19.prototype.onAfterSearch=function(a){this._presets.updateUrls(a.url);("daterange"!==a.keep||!goog.isDef(this.getSearchParams()))&&this._presets.updateCounts(a.response.getTemplateCountByProp(2692))};CLS19.prototype.getSearchParams=function(){if(goog.isDefAndNotNull(this._selection))return{date:this._selection.getSearchParams()}};
CLS19.prototype.setSelection=function(a){if(!goog.isDef(a))return this.reset();goog.isArray(a)&&(a=a[0]);switch(-1!==(""+a).indexOf(";")){case !1:this._setSelection(this._presets);break;case !0:this._setSelection(this._range)}this._selection.setSelection.call(this._selection,a)};
CLS19.prototype._setSelection=function(a){goog.isDefAndNotNull(this._selection)&&this._selection!==a&&this._selection.setSelection();(this._selection=a)?this._anyDate.setVisibility(!0):this._anyDate.setVisibility(!1)};CLS19.prototype.reset=function(){this._range.setSelection();this._presets.setSelection();this._setSelection(void 0)};
CLS19.prototype.getTags=function(){return goog.isDefAndNotNull(this._selection)?this._selection.getTags():[]};CLS19.prototype.onTagRemove=function(a){switch(a.getId()){case "tag-from":this._range.resetFrom();this._range.getSearchParams()||this._setSelection();break;case "tag-to":this._range.resetTo();this._range.getSearchParams()||this._setSelection();break;case "tag-preset":this._presets.setSelection(),this._setSelection()}};CLS21=function(){this._from=new CLS22;this._to=new CLS22};
CLS21.prototype.enterDocument=function(a){var b=a.onClick||$.noop,f=a.onSelect||$.noop;this._container=a.container;$("a",this._container).click(b).click(f);this._from.enterDocument({container:$($("input",this._container).get(0)),onChange:$.proxy(this.onChange,this)});this._to.enterDocument({container:$($("input",this._container).get(1)),onChange:$.proxy(this.onChange,this)})};
CLS21.prototype.getSearchParams=function(){var a=this._from.getSelection(),b=this._to.getSelection();if(a||b)return[a||"",b||""].join(";")};CLS21.prototype.setSelection=function(a){var b="",f="";a&&(a=a.split(";"),b=a[0],f=a[1]);this._from.setSelection(b);this._to.setSelection(f)};
CLS21.prototype.getTags=function(){var a=[],b=this._from.getSelection();goog.isDefAndNotNull(b)&&a.push(new CLS34("From "+b,"tag-from","date"));b=this._to.getSelection();goog.isDefAndNotNull(b)&&a.push(new CLS34("To "+b,"tag-to","date"));return a};CLS21.prototype.resetFrom=function(){this._from.setSelection()};CLS21.prototype.resetTo=function(){this._to.setSelection()};
CLS21.prototype.reset=function(){this.resetFrom();this.resetTo()};CLS21.prototype.onChange=function(){var a=this._from.getDate(),b=this._to.getDate();b&&a&&b<a&&(a=this._to.getSelection(),b=this._from.getSelection(),this._from.setSelection(a),this._to.setSelection(b))};CLS21.prototype.getFrom=function(){return this._from.getSelection()};CLS21.prototype.getTo=function(){return this._to.getSelection()};CLS20=function(a){this._url=a;this._selection=void 0};CLS20.prototype.enterDocument=function(a){this._container=a.container;var b=a.onClick||$.noop(),a=a.onSelect||$.noop();this._container.click(b).click($.proxy(function(a){this.setSelection(this._getItemId($(a.target).closest("li")))},this)).click(a);this._setupDynamicUrls()};CLS20.prototype.getSearchParams=function(){if(goog.isDefAndNotNull(this._selection))return this._selection};
CLS20.prototype.getTags=function(){var a=[];if(goog.isDefAndNotNull(this._selection)){var b=this._getItemByValue(this._selection).find("a").clone().children().remove().end().text();a.push(new CLS34(b,"tag-preset","date"))}return a};CLS20.prototype.setSelection=function(a){this._selection=a;this._getItemByValue().removeClass("js-selected");goog.isDef(a)&&this._getItemByValue(a).addClass("js-selected")};
CLS20.prototype.updateCounts=function(a){this._forEachItem($.proxy(function(b){var b=$(b),f=this._getItemId(b);a[f]?(b.find("span").html(CLS44.getCountHtml(a[f])),b.removeClass("hidden")):b.addClass("hidden")},this))};CLS20.prototype.updateUrls=function(a){this._forEachItem($.proxy(function(b){b=$(b);b.find(">a").attr("href",a({date:[this._getItemId(b)]}))},this))};
CLS20.prototype._getItemByValue=function(a){var b="li";goog.isDef(a)&&(b=b+'[id="val-'+a+'"]');return $(b,this._container)};CLS20.prototype._forEachItem=function(a){goog.array.forEach($("li",this._container),a)};CLS20.prototype._setupDynamicUrls=function(){this._forEachItem($.proxy(function(a){var a=$(a),b=a.children("a"),a={date:[this._getItemId(a)]};this._url.substituteHash(b,a)},this))};
CLS20.prototype._getItemId=function(a){return tm.stringUtils.bareId(a.attr("id"))};CLS22=function(){};CLS22.prototype.enterDocument=function(a){var b=a.onChange||$.noop;this._container=a.container;$(this._container).datetimepicker({timepicker:!1,format:"m.d.Y",minDate:"2002/01/01",maxDate:"tommorrow",onChangeDateTime:b})};CLS22.prototype.getSelection=function(){var a=this._container.first().val();if(a.length)return a};CLS22.prototype.setSelection=function(a){this._container.val(a)};
CLS22.prototype.getDate=function(){var a=this.getSelection();if(a&&(a=a.split("."),3===a.length)){var b=new Date;b.setDate(a[1]);b.setMonth(a[0]);b.setYear(a[2]);return b}};CLS18=function(){};CLS18.prototype.enterDocument=function(a){var b=a.onClick||$.noop();this._container=a.container;this._container.click(b)};CLS18.prototype.setVisibility=function(a){a?this._container.show():this._container.hide()};tm.search.ui.topic={};CLS40=function(a){this.options_=a||{};this.lastClicked_=void 0;this.co=a.co||1;this.hk=a.hk||!1;this.folded=!0};CLS40.ALL_CLASS="jstree-all";CLS40.DEPT="#dept-count";CLS40.CONDENSED="js-leaf-condensed";
CLS40.prototype.enterDocument=function(a){this._container=a.container;this._model=a.model;var b=a.onClick||$.noop,f=a.onSelectNode||$.noop;this._baseParams=a.baseParams;this.tree_=this._getContainer().jstree({plugins:["json_data","ui"],json_data:a.items,ui:{select_limit:1,selected_parent_close:!1}});this.tree_.bind("loaded.jstree",$.proxy(this.onLoadedTree,this));this._getAnyCategory().click($.proxy(function(a){this._getAnyCategory().hide();this.reset();a.keep="nothing";f(a)},
this));this._getContainer().bind("click.jstree",b);this._getContainer().bind("click.jstree",$.proxy(this._onClickTree,this));this._getContainer().bind("click.jstree",f);$(CLS40.DEPT).click($.proxy(function(){this.folded=!this.folded;this._paint();return!1},this))};
CLS40.prototype.onLoadedTree=function(){this._getAnyCategory().addClass(CLS40.ALL_CLASS);$(">ul > li li a",this._getContainer()).each(function(a,b){$(b).append(CLS44.getCountHtml())});$(">ul >li",this._getContainer()).each(function(a,b){$(b).addClass("js-top")});$("li a",this._getContainer()).each(function(){var a=$(this).html();$(this).html(a.replace("&nbsp;",""))});this._isCompactTopicMode()||this.tree_.jstree("open_all").find("li").addClass("jstree-leaf");
this._getContainer().removeClass("hidden");this.getOption("onLoaded")()};
CLS40.prototype._onClickTree=function(a){var b=function(){a.preventDefault();a.stopImmediatePropagation();return!1},f=$(a.target),c=f.closest("li");if(f.is("#topics")||(f.is("ul")||f.is("ul > li"))||c.hasClass("locked"))return b();this._isCompactTopicMode()&&this.tree_.jstree("close_node",$("li.jstree-open",this._getContainer()).not(c.parents("li").andSelf()));if(f.is("ins"))return this._isCompactTopicMode()&&(c.is(".jstree-closed")?this.tree_.jstree("open_node",c):this.tree_.jstree("close_node",
c)),b();this.lastClicked_=-1!==this.getOption("bk").indexOf(this._getTopicId(c))?void 0:c;this.tree_.jstree("open_node",c)};CLS40.prototype.reset=function(){this.tree_.jstree("deselect_all");this._isCompactTopicMode()&&this.tree_.jstree("close_all");this._uncondense($("."+CLS40.CONDENSED));this.lastClicked_=void 0;return this};
CLS40.prototype.getSearchParams=function(){var a=this.lastClicked_,b=[];a&&a.attr("data-topic")&&b.push(a.attr("data-topic"));return{topic:b}};
CLS40.prototype.onAfterSearch=function(a){var b=a.response.getTemplateCountByProp(2645);if("topics"!==a.keep||this._isWideningResponse(b))this.co=a.response.getTopicMode(),this.hk=a.response.hasKeyword(),this.updateTemplateCount(b),this._paint(),this._isCompactTopicMode()?this.tree_.jstree("close_all"):this.tree_.jstree("open_all").find("li").addClass("jstree-leaf"),this.updateUrls(a.url);this._updateAnyCategory()};
CLS40.prototype.updateUrls=function(a){goog.array.forEach($("li",this._getContainer()),function(b){var b=$(b),f=b.data("topic");b.find(">a").attr("href",a({topic:[f]}))})};CLS40.prototype._isWideningResponse=function(a){return goog.array.some(goog.object.getKeys(a),function(b){var f=this._model.find(b);if(!(1>f.length))return f[0].count<a[b]},this)};CLS40.prototype._onOpenNode=function(){var a=this.tree_.siblings(".jstree-open");a.find(">ul").slideUp(function(){a.removeClass("jstree-open").addClass("jstree-closed")})};
CLS40.prototype.updateTemplateCount=function(a){this._model.reset();goog.object.forEach(a,function(a,f){a&&goog.array.forEach(this._model.find(f),function(c){c.setCount(a)})},this)};CLS40.prototype._isFoldable=function(){var a=this._model.getVisibleCount()-this._model.getLockedCount();return!(this._isCompactTopicMode()||!this.hk||21>a)};CLS40.prototype._isFolded=function(){return this.folded};
CLS40.prototype._paint=function(){this._isCompactTopicMode()?this._foldSuperfluous(this._container.find("li[data-topic]"),-1):(this._hideNonpriorityTopic(),this._hideCondensed(),this._foldSuperfluous(this._container.find("li[data-topic]"),this._isFoldable()&&this._isFolded()?20:-1),this._adjustTopicVisibility());this._model.visit(function(a){if(a.isToplevel()){var b=a.getVisibleCount();1==b?a.locked=!0:b||a.setVisibility(!1)}});this._isCompactTopicMode()?this.tree_.jstree("close_all"):
this.tree_.jstree("open_all").find("li").addClass("jstree-leaf");this._model.visit($.proxy(function(a){var b=$(a.getJExp());if(a.count)if(a.visible){var f=a.locked&&0==a.getVisibleCount(),c=0==a.getUnfoldableCount(),f=f||c,c=this._isFoldable()&&this._isFolded()&&a.foldable;b.find(">a>span").html(CLS44.getCountHtml(a.count));c&&f&&a.hasChildren()?this._hide(b):a.locked&&!this._isCompactTopicMode()?(this._lock(b),this._condense(b),this._unhide(b)):(this._unlock(b),a.collapsed?(this._condense(b),
this._unhide(b)):c?this._hide(b):(this._uncondense(b),b.find(">a>span").html(CLS44.getCountHtml(a.count)),this._unhide(b)))}else this._hide(b);else this._hide(b)},this));this._repaintLeafIcons();this._repaintFoldedMessage();this._updateAnyCategory();return this};
CLS40.prototype._repaintLeafIcons=function(){this._isCompactTopicMode()&&this._getTopics().each(function(a,b){0===$(b).children("ul").children("li.leaf-visible").length?$(b).addClass("jstree-leaf"):$(b).removeClass("jstree-leaf")})};
CLS40.prototype._foldSuperfluous=function(a,b){goog.array.forEach(a,function(a){var a=$(a),c=goog.array.map(a.parents("li[data-topic]"),function(a){return $(a).data("topic")}).reverse();c.push(a.data("topic"));a=this._model.path(c);a.foldable=1>b;a.isVisible()&&(a.locked||b--)},this)};
CLS40.prototype._repaintFoldedMessage=function(){var a="";this._isFoldable()&&(this._isFolded()?(a=this._model.getVisibleCount(),a-=this._model.getLockedCount(),a=$(Twig.render(topicSeeAll,{count:a}))):a=$(Twig.render(topicSeeFewer)));$(CLS40.DEPT).html(a)};
CLS40.prototype._getVisibleNodes=function(){return $("li[data-topic].leaf-visible",this._getContainer()).not("."+CLS40.CONDENSED).add(">ul>li[data-topic].leaf-visible."+CLS40.CONDENSED,this._getContainer())};
CLS40.prototype._hideCondensed=function(){this._isCompactTopicMode()||this._model.visit(function(a){if(a.hasParent()&&a.isVisible()&&a.getCount())for(var b=a;b.hasParent()&&b.getParent().getCount()==a.getCount();)b.getParent().setCollapsed(!0),b=b.getParent()})};
CLS40.prototype._hideNonpriorityTopic=function(){goog.array.forEach(this._model.getPriorityItems(),function(a){goog.array.forEach(this._model.find(a.id),function(a){if(!a.getPriority())for(a.setVisibility(!1);a.hasParent()&&a.getCount()===a.getParent().getCount();){a.setVisibility(!1);if(a.isToplevel())break;a=a.getParent()}})},this)};CLS40.prototype._condense=function(a){a.addClass(CLS40.CONDENSED);return this};
CLS40.prototype._uncondense=function(a){a.removeClass(CLS40.CONDENSED);return this};CLS40.prototype._hide=function(a){a.addClass("leaf-hidden").removeClass("leaf-visible");return this};CLS40.prototype._unhide=function(a){a.addClass("leaf-visible").removeClass("leaf-hidden");return this};CLS40.prototype._lock=function(a){a.addClass("locked");return this};
CLS40.prototype._unlock=function(a){a.removeClass("locked");return this};CLS40.prototype.isLeafVisible=function(a){return!$('li[data-topic="'+a+'"]',this._getContainer()).hasClass("leaf-hidden")};CLS40.prototype._getTopics=function(a){a=a||this._getContainer();return $("li[data-topic]",a)};
CLS40.prototype.setSelection=function(a){goog.isDef(a)&&("object"===goog.typeOf(a)&&(a=goog.object.getValues(a)),a=this.getTopicById(a),this._getContainer().jstree("open_node",a),this._getContainer().jstree("select_node",a),this.lastClicked_=a);this._paint();return this};CLS40.prototype.getTopicById=function(a){return tm.stringUtils.jexpr('li[data-topic="%s"]',a)};
CLS40.prototype.getTags=function(){var a=[];if(this.lastClicked_){var b=this.lastClicked_,f=b.attr("data-topic");if(f){var c=this._baseParams.getParam("topic");("undefined"===goog.typeOf(c)||-1===c.indexOf(parseInt(f)))&&a.push(new CLS34(tm.nodeUtils.getElementText($("> a",b.eq(0))),f.replace(/\s+/g,"-"),"topics"))}}return a};CLS40.prototype.getOption=function(a,b){return"undefined"!==typeof this.options_[a]?this.options_[a]:b};
CLS40.prototype._isCompactTopicMode=function(){return 1===this.co&&!this.hk};CLS40.prototype._getContainer=function(){return this._container};CLS40.prototype._getAnyCategory=function(){return $("#category-all")};CLS40.prototype._updateAnyCategory=function(){var a=this._getAnyCategory();if(goog.isDefAndNotNull(this.lastClicked_))return a.show();a.hide()};CLS40.prototype._getTopicId=function(a){return parseInt(a.attr("data-topic"))};
CLS40.prototype._adjustTopicVisibility=function(){this._model.visit(function(a){a.getCollapsed()&&0===a.getVisibleCount()&&(a.hasChildren()&&a.count)&&a.setCollapsed(!1)})};CLS40.prototype.getItems=function(){return $("li",this._container)};CLS40.prototype.getBreadcrumbs=function(a){a=a||this.lastClicked_;this._bcDeferred=void 0;return goog.isDefAndNotNull(a)?$.Deferred().resolve(this._collectBreadcrumbs(a)):this._bcDeferred=$.Deferred()};
CLS40.prototype._collectBreadcrumbs=function(a){var b=goog.array.map(a.parents("li"),function(a){return{title:tm.stringUtils.bareText($(">a",a)),id:$(a).attr("data-topic")}}).reverse();b.push({title:tm.stringUtils.bareText($(">a",a))});return b};CLS39=function(a){var b=this._loaded=$.Deferred();a.onLoaded=function(){b.resolve()};this._topics=new CLS40(a);this._bc=new CLS38};CLS39.prototype.whenLoadingIs=function(){return this._loaded};CLS39.prototype.updateUrls=function(a){this._topics.updateUrls(a)};
CLS39.prototype.enterDocument=function(a){this._model=this._createModel(a.items);var b=goog.isDefAndNotNull(__topic_count)?__topic_count:{};this.updateTemplateCount(b);this._baseParams=a.baseParams;this._container=a.container;this._history=a.history;this._topicsContainer=a.containerTopics;this._topics.enterDocument({container:a.containerTopics,model:this._model,items:a.items,onClick:a.onClick,onSelectNode:a.onSelectNode,baseParams:a.baseParams});this._bc.enterDocument({container:a.containerBc});
$("h6.js-filter-heading",this._container).click(function(){var b=a.container;b.toggleClass("inactive").toggleClass("active");b.find(".js-filter-heading > .js-arrow").toggleClass("icon-arrow-small-down").toggleClass("icon-arrow-small-up")})};CLS39.prototype.reset=function(){this._topics.reset();this._paint()};
CLS39.prototype._paint=function(){if(this._isBreadcrumbsVisible())return this._displayBreadcrumbs();if(this._isTopicsVisible())return this._displayTopics();this._hide()};
CLS39.prototype._getBreadcrumbs=function(a){a=this._model.getPriorityItems(a).length?this._model.getPriorityItems(a)[0].getJExp():"[data-topic="+a+"]:eq(0)";a=this._topics._collectBreadcrumbs($(a));return goog.array.map(a,function(a){var f=this._history.current();goog.isDef(f.propertylist)&&goog.isDef(f.propertylist.topic)&&delete f.propertylist.topic;goog.isDef(a.id)&&(f.pr=f.pr||[],f.pr.push(a.id),a.href="/templates.php"+_paramToUrl(f));return a},this)};
CLS39.prototype.onAfterSearch=function(a){this._topics.onAfterSearch(a);"topics"!==a.keep&&this._paint()};CLS39.prototype.setSelection=function(a){this._topics.setSelection(a);this._paint()};CLS39.prototype.containsTopicProperty=function(a){return!goog.isDefAndNotNull(a)||goog.array.isEmpty(a.length)?!1:0<this._topics.getTopicById(a).length};
CLS39.prototype._isTopicsVisible=function(){var a=this._model.getVisibleCount();if(0===a)return!1;if(1===a||5<a)return!0;a=this._model.getVisible();if(!a.length)return!1;var b=a[0].count;return!goog.array.every(a,function(a){return a.count===b})?!0:1!==goog.array.filter(a,function(a){return 0==a.parent.id}).length};
CLS39.prototype.updateTemplateCount=function(a){this._model.reset();goog.object.forEach(a,function(a,f){a&&goog.array.forEach(this._model.find(f),function(c){c.setCount(a)})},this)};
CLS39.prototype._createModel=function(a){var b=new CLS41(0),f=function(a,d){for(var g in a)a[g].attr&&a[g].attr["data-topic"]&&b.path(d).addChild(new CLS41(a[g].attr["data-topic"],a[g].attr["data-priority"]||!1)),a[g].children&&(d.push(a[g].attr["data-topic"]),f(a[g].children,d),d.pop())};f(a.data,[]);return b};CLS39.prototype.getTags=function(){return this._topics.getTags()};
CLS39.prototype.onTagRemove=function(a){"topics"===a.getType()&&this.reset()};CLS39.prototype.getSearchParams=function(){return this._topics.getSearchParams()};CLS39.prototype._hide=function(){this._container.addClass("hidden")};CLS39.prototype._show=function(){this._container.removeClass("hidden")};
CLS39.prototype._displayTopics=function(){this._bc.hide();this._topicsContainer.closest("div.block-content").removeClass("hidden");this._topics._paint();this._show()};CLS39.prototype._isBreadcrumbsVisible=function(){if(!this._baseParams.hasTopicProperty())return!1;var a=this._baseParams.getTopicProperty();return!this._model.find(a)[0].hasChildren()};
CLS39.prototype._displayBreadcrumbs=function(){this._topicsContainer.closest("div.block-content").addClass("hidden");var a=this._baseParams.getTopicProperty();this._bc.renderTopics(this._getBreadcrumbs(a)).show();this._show()};CLS41=function(a,b){this.id=parseInt(a);this.priority=!!b;this.count=0;this.foldable=this.locked=this.collapsed=!1;this.visible=!0;this.children={};this.parent=parent};CLS41.prototype.reset=function(){this.visit(function(a){a.count=0;a.collapsed=!1;a.locked=!1;a.foldable=!0;a.visible=!0})};CLS41.prototype.setCount=function(a){this.count=a;return this};CLS41.prototype.setVisibility=function(a){this.visible=a;return this};
CLS41.prototype.getCount=function(){return this.count};CLS41.prototype.setCollapsed=function(a){this.collapsed=a;return this};CLS41.prototype.getCollapsed=function(){return this.collapsed};CLS41.prototype.isVisible=function(){return 0<this.count&&!this.collapsed&&this.visible};CLS41.prototype.setPriority=function(a){this.priority=a;return this};CLS41.prototype.getPriority=function(){return this.priority};
CLS41.prototype.addChild=function(a){a.parent=this;return this.children[a.id]=a};CLS41.prototype.hasChildren=function(){return 0<goog.object.getCount(this.children)};CLS41.prototype.getChildren=function(){return goog.object.getValues(this.children)};CLS41.prototype.hasParent=function(){return goog.isDef(this.parent)};CLS41.prototype.getParent=function(){return this.parent};
CLS41.prototype.isToplevel=function(){return this.hasParent()&&0==this.getParent().id};CLS41.prototype.getVisibleCount=function(){return this.reduce(function(a,b){return(a.isVisible()?1:0)+b},0,function(a){return a.visible})};CLS41.prototype.getVisible=function(){var a=[];this.visit(function(b){b.isVisible()&&a.push(b)});return a};
CLS41.prototype.getLockedCount=function(){return this.reduce(function(a,b){return(a.locked?1:0)+b},0)};CLS41.prototype.getUnfoldableCount=function(){return this.reduce(function(a,b){return(a.foldable?0:1)+b},0)};CLS41.prototype.getPriorityItems=function(a){return this.reduce(function(b,f){if(goog.isDef(a)&&b.id!==a)return f;b.priority&&f.push(b);return f},[])};
CLS41.prototype.getJExp=function(){for(var a=this,b=[];;){b.unshift('li[data-topic="'+a.id+'"]');if(a.isToplevel())break;a=a.getParent()}return b.join(" ")};CLS41.prototype.visit=function(a,b){b=b||function(){return!0};this.id&&a(this);this.hasChildren()&&b(this)&&goog.object.forEach(this.getChildren(),function(b){b.visit(a)})};
CLS41.prototype.reduce=function(a,b,f){f=f||function(){return!0};this.hasChildren()&&goog.object.forEach(goog.array.filter(this.getChildren(),f),function(c){b=a.call(null,c,b);b=c.reduce(a,b)});return b};CLS41.prototype.find=function(a){var b=[];this.visit(function(f){f.id==a&&b.push(f)});return b};CLS41.prototype.path=function(a){for(var a=a.slice(),b,f=this;0<a.length;)b=a.shift(),f=f.children[b];return f};CLS38=function(){};CLS38.prototype.enterDocument=function(a){this._container=a.container};CLS38.prototype.renderTopics=function(a){this._container.html(Twig.render(topicBreadcrumbs,{topics:a}));return this};CLS38.prototype.show=function(){this._container.removeClass("hidden");return this};CLS38.prototype.hide=function(){this._container.addClass("hidden");return this};tm.search.ui.color={};CLS14=function(a){this.loaded_=$.Deferred();this._list=new CLS15(a);this._properties={black:"167896",white:"167897",grey:"167898",brown:"167899",purple:"167901",pink:"167902",blue:"167903",cyan:"167904",green:"167905",yellow:"167906",orange:"167907",red:"167908"}};defineService(["url"],CLS14);CLS14.prototype.colorsLimit=3;CLS14.prototype._getContainer=function(){return this._container};
CLS14.prototype.enterDocument=function(a){var b=a.onClick||jQuery.noop;this._onChange=a.onChange||jQuery.noop;this._onSelect=a.onSelect||this._onSelect;this._container=a.container;this._preselected=a.preselected||0;$(".block-heading",this._container).click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find(".js-filter-heading > .js-arrow").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")});this._list.enterDocument({container:$(".js-color-list",
this._container),onClick:b,onSelect:$.proxy(this._onSelect,this)});this.loaded_.resolve();return this};CLS14.prototype.onAfterSearch=function(a){var b=goog.object.getKeys(a.response.getTemplateCountByProp(2696)),b=goog.array.map(b,function(a){return parseInt(a)});this._list.setActive(b);this._list.updateUrls(a.url)};
CLS14.prototype._onSelect=function(a){goog.isDef(a)&&(a=$(a.target).closest("li"),this._list.isChecked(a)?this._list.uncheck(a):this._list.check(a));this._onChange();return!1};CLS14.prototype.getSearchParams=function(){return{pr:goog.array.map(this._getSelection(),function(a){return tm.stringUtils.noPrefix($(a).attr("id"))},this)}};CLS14.prototype._getSelection=function(){return this._list.getSelection()};
CLS14.prototype.reset=function(){this._list.reset()};CLS14.prototype.getTags=function(){return goog.array.map(this._getSelection(),function(a){return new CLS34($("a",a).attr("title"),$(a).attr("id"),"color")})};CLS14.prototype.onTagRemove=function(a){"color"===a.getType()&&this._list.uncheck($("#"+a.getId()))};
CLS14.prototype.setSelection=function(a){var b=/^\w+$/,f;for(f in a)b.test(f)&&this._list.check($("#color-"+a[f]))};CLS15=function(a){this._anyColor=new CLS13;this._url=a};
CLS15.prototype.enterDocument=function(a){this._container=a.container;var b=a.onClick||$.noop,f=a.onSelect||$.noop;$("a",this._container).not(function(a){return!a}).click(b).click(f);this._anyColor.enterDocument({container:$("#any-color"),onClick:b,onSelect:$.proxy(function(){this.reset();this._anyColor.hide();f();return!1},this)});this.getSelection().length&&this._anyColor.show();this._setupDynamicUrls()};
CLS15.prototype._setupDynamicUrls=function(){goog.array.forEach(this._getItems(),function(a){a=$(a);this._url.substituteHash(a.children("a"),{pr:[this._getColor(a)]})},this)};CLS15.prototype.updateUrls=function(a){this._forEachItem($.proxy(function(b){b=$(b);b.find("a").attr("href",a({pr:[tm.stringUtils.noPrefix(b.attr("id"))]}))},this))};CLS15.prototype.getSelection=function(){return $("li.selected",this._container)};
CLS15.prototype.isChecked=function(a){return $(a).hasClass("selected")};CLS15.prototype.uncheck=function(a){$(a).removeClass("selected");this.getSelection().length||this._anyColor.hide()};CLS15.prototype.check=function(a){$(a).addClass("selected");this._anyColor.show()};CLS15.prototype.show=function(a){$(a).show()};CLS15.prototype.hide=function(a){$(a).hide()};
CLS15.prototype.reset=function(){this.getSelection().removeClass("selected")};CLS15.prototype.setActive=function(a){goog.array.map(this._getItems(),function(b){return this.isChecked(b)?this.show(b):-1!==a.indexOf(parseInt(this._getColor(b)))?this.show(b):this.hide(b)},this)};CLS15.prototype._getItems=function(){return $("li",this._container).not($("#any-color"))};
CLS15.prototype._forEachItem=function(a){goog.array.forEach(this._getItems(),a)};CLS15.prototype._getColor=function(a){return $(a).attr("id").substr(6)};CLS13=function(){};CLS13.prototype.enterDocument=function(a){this._container=a.container;var b=a.onSelect||$.noop;this._container.click(a.onClick||$.noop).click(b)};CLS13.prototype.show=function(){this._container.show()};CLS13.prototype.hide=function(){this._container.hide()};CLS27=function(a,b,f){this.showmore_button_=a;this.bottom_=b;this.result_block_=f};CLS27.prototype.enterDocument=function(a,b){this._disableShowMoreButton();this.showmore_button_.click(a);this.bottom_.appear().on("appear",b);$.force_appear()};CLS27.prototype.getInitialPage=function(){return this.result_block_.data("initialpage")};
CLS27.prototype.onAfterSearch=function(a){var b=a;"undefined"!==typeof a.response&&(b=a.response);this.hideProgressBar();this._setMorePages(0<b.getNextCount());0===b.getNextCount()?this._disableShowMoreButton():3==(b.getPageNumber()-this.result_block_.data("initialpage"))%4&&this._enableShowMoreButton()};CLS27.prototype.reset=function(){this._disableShowMoreButton();$(".pagination_divider").remove();this.result_block_.data("initialpage",1)};
CLS27.prototype.showProgressBar=function(){this._disableShowMoreButton();$('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo(this.result_block_)};CLS27.prototype.hideProgressBar=function(){$(".pager_spinner").remove()};CLS27.prototype.isThereMorePages=function(){return this.bottom_.hasClass("js-page-bottom-visible")};CLS27.prototype.setMorePages=function(a){a?this.bottom_.addClass("js-page-bottom-visible"):this.bottom_.removeClass("js-page-bottom-visible")};
CLS27.prototype._enableShowMoreButton=function(){this.showmore_button_.show().parent().show()};CLS27.prototype._disableShowMoreButton=function(){this.showmore_button_.parent().hide()};CLS28=function(){this._page=void 0};CLS28.idToInteger=function(a){return"string"!==goog.typeOf(a)?0:parseInt(a.replace(/\D/g,""))};
CLS28.prototype.enterDocument=function(a){var a=a||{},b=a.onPageUpdate||jQuery.noop;$(window).scroll($.proxy(function(){var a=0;$("footer:appeared").length&&this._getLastPage()?a=this._getLastPage():(a=$("div.page_divider:appeared"),a=a.length?this._getVisibleDividerPage(a):this._getMajorityPage($("li.thumbnail:appeared")));"undefined"===goog.typeOf(this._page)&&(this._page=a);this._page!==a&&(this._page=a,b(a))},this))};
CLS28.prototype._getLastPage=function(){var a=$("div.page_divider");if(0===a.length)return 0;var b=[],b=a.map(function(){return CLS28.idToInteger($(this).attr("id"))});return b.length?Math.max.apply(Math,b):1};CLS28.prototype._getVisibleDividerPage=function(a){if(1===a.length){var a=a[0],b=CLS28.idToInteger($(a).attr("id"));return 1===b?1:a.getBoundingClientRect().top<$(window).height()/2?b:b-1}};
CLS28.prototype._getMajorityPage=function(a){a=a.map(function(a,f){var c=$(f).prevAll("div.page_divider");if(c.length)return CLS28.idToInteger($(c[0]).attr("id"));if(c=CLS28.idToInteger($("div.data-initialpage").data("id")))return c;c=$(".pagination_divider");return c.length&&(c=parseInt(c.parent().data("initialpage")))?c:1});return a.length?a[0]:1};CLS37=function(){};CLS37.prototype.enterDocument=function(a){a=a||{};this.setToolboxVisible(a.visible||!1);$(this._getWithinCheckbox()).on("click",$.proxy(function(){this._updatePlaceholder()},this))};CLS37.prototype.setSelection=function(a){goog.isObject(a)&&(a=goog.object.getValues(a).join(","));this._getKeywordControl().val(a)};CLS37.prototype.reset=function(){this.setSelection("")};CLS37.prototype.getSearchParams=function(){return{keyword:this.getKeyword()}};
CLS37.prototype.getKeyword=function(){return this._getKeywordControl().val()};CLS37.prototype.isWithin=function(){return this._getWithinCheckbox().is(":not(:checked):visible")};CLS37.prototype.isVisible=function(){return this._getToolBox().is(":visible")};CLS37.prototype.setWithin=function(a){a?this._getWithinCheckbox().removeAttr("checked"):this._getWithinCheckbox().attr("checked","checked");return this};
CLS37.prototype.setToolboxVisible=function(a){a?this._getToolBox().show():this._getToolBox().hide();return this};CLS37.prototype._getWithinCheckbox=function(){return this._getContainer().find("#search-properties-status")};CLS37.prototype._getToolBox=function(){return this._getContainer().find(".checkboxes")};CLS37.prototype._getKeywordControl=function(){return this._getContainer().find('input[name="keywords"]')};
CLS37.prototype._updatePlaceholder=function(a){a={hasUserParams:a};this.isWithin()&&(a.isSearchPage=!0,a.hasUserParams=!0);return this._getKeywordControl().attr("placeholder",Twig.render(search_placeholder,a))};CLS37.prototype._getContainer=function(){return $("#js-searchForm")};(function(){if(!jQuery||!jQuery.jstree){var a=!1,b=!1,f=!1,c=jQuery;c.vakata={};c.vakata.css={get_css:function(a,b,c){var a=a.toLowerCase(),d=c.cssRules||c.rules,f=0;do{if(d.length&&f>d.length+5)break;if(d[f].selectorText&&d[f].selectorText.toLowerCase()==a)return!0===b?(c.removeRule&&c.removeRule(f),c.deleteRule&&c.deleteRule(f),!0):d[f]}while(d[++f]);return!1},add_css:function(a,b){if(c.jstree.css.get_css(a,!1,b))return!1;b.insertRule?b.insertRule(a+" { }",0):b.addRule(a,null,0);return c.vakata.css.get_css(a)},
remove_css:function(a,b){return c.vakata.css.get_css(a,!0,b)},add_sheet:function(a){var b=!1,d=!0;if(a.str)return a.title&&(b=c("style[id='"+a.title+"-stylesheet']")[0]),b?d=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?d?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.str):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.str:(b.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(b)),
b.sheet||b.styleSheet;if(a.url)if(document.createStyleSheet)try{document.createStyleSheet(a.url)}catch(f){}else return b=document.createElement("link"),b.rel="stylesheet",b.type="text/css",b.media="all",b.href=a.url,document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet}};var d=[],g=-1,j={},n={};c.fn.jstree=function(a){var b="string"==typeof a,f=Array.prototype.slice.call(arguments,1),g=this;if(b){if("_"==a.substring(0,1))return g;this.each(function(){var b=d[c.data(this,"jstree_instance_id")],
b=b&&c.isFunction(b[a])?b[a].apply(b,f):b;if("undefined"!==typeof b&&(0===a.indexOf("is_")||!0!==b&&!1!==b))return g=b,!1})}else this.each(function(){var b=c.data(this,"jstree_instance_id"),g=[],h=a?c.extend({},!0,a):{},z=c(this),l=!1,n=[],g=g.concat(f);z.data("jstree")&&g.push(z.data("jstree"));h=g.length?c.extend.apply(null,[!0,h].concat(g)):h;"undefined"!==typeof b&&d[b]&&d[b].destroy();b=parseInt(d.push({}),10)-1;c.data(this,"jstree_instance_id",b);h.plugins=c.isArray(h.plugins)?h.plugins:c.jstree.defaults.plugins.slice();
h.plugins.unshift("core");h.plugins=h.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");l=c.extend(!0,{},c.jstree.defaults,h);l.plugins=h.plugins;c.each(j,function(a){-1===c.inArray(a,l.plugins)?(l[a]=null,delete l[a]):n.push(a)});l.plugins=n;d[b]=new c.jstree._instance(b,c(this).addClass("jstree jstree-"+b),l);c.each(d[b]._get_settings().plugins,function(a,c){d[b].data[c]={}});c.each(d[b]._get_settings().plugins,function(a,c){j[c]&&
j[c].__init.apply(d[b])});setTimeout(function(){d[b]&&d[b].init()},0)});return g};c.jstree={defaults:{plugins:[]},_focused:function(){return d[g]||null},_reference:function(a){if(d[a])return d[a];var b=c(a);!b.length&&"string"===typeof a&&(b=c("#"+a));return!b.length?null:d[b.closest(".jstree").data("jstree_instance_id")]||null},_instance:function(a,b,d){this.data={core:{}};this.get_settings=function(){return c.extend(!0,{},d)};this._get_settings=function(){return d};this.get_index=function(){return a};
this.get_container=function(){return b};this.get_container_ul=function(){return b.children("ul:eq(0)")};this._set_settings=function(a){d=c.extend(!0,{},d,a)}},_fn:{},plugin:function(a,b){b=c.extend({},{__init:c.noop,__destroy:c.noop,_fn:{},defaults:!1},b);j[a]=b;c.jstree.defaults[a]=b.defaults;c.each(b._fn,function(b,d){d.plugin=a;d.old=c.jstree._fn[b];c.jstree._fn[b]=function(){var a,f=d,m=Array.prototype.slice.call(arguments);a=new c.Event("before.jstree");var g=!1;if(!(!0===this.data.core.locked&&
"unlock"!==b&&"is_locked"!==b)){do{if(f&&f.plugin&&-1!==c.inArray(f.plugin,this._get_settings().plugins))break;f=f.old}while(f);if(f){if(0===b.indexOf("_"))a=f.apply(this,m);else{a=this.get_container().triggerHandler(a,{func:b,inst:this,args:m,plugin:f.plugin});if(!1===a)return;"undefined"!==typeof a&&(m=a);a=f.apply(c.extend({},this,{__callback:function(a){this.get_container().triggerHandler(b+".jstree",{inst:this,args:m,rslt:a,rlbk:g})},__rollback:function(){return g=this.get_rollback()},__call_old:function(a){return f.old.apply(this,
a?Array.prototype.slice.call(arguments,1):m)}}),m)}return a}}};c.jstree._fn[b].old=d.old;c.jstree._fn[b].plugin=a})},rollback:function(a){a&&(c.isArray(a)||(a=[a]),c.each(a,function(a,b){d[b.i].set_rollback(b.h,b.d)}))}};c.jstree._fn=c.jstree._instance.prototype={};c(function(){var d=navigator.userAgent.toLowerCase(),g=(d.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],h=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";
if(/msie/.test(d)&&6==parseInt(g,10)){a=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(j){}h+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(d)&&
7==parseInt(g,10)&&(b=!0,h+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");!/compatible/.test(d)&&(/mozilla/.test(d)&&1.9>parseFloat(g,10))&&(f=!0,h+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ");c.vakata.css.add_sheet({str:h,title:"jstree"})});c.jstree.plugin("core",{__init:function(){this.data.core.locked=!1;this.data.core.to_open=
this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+
this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",c.proxy(function(a){a=c(a.target);this.toggle_node(a)},this)).bind("mousedown.jstree",c.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=window.getSelection();
try{a.removeAllRanges(),a.collapse()}catch(b){}}});this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",c.proxy(function(a,b){var d=this._get_node(b.rslt.obj),f=this;-1===d&&(d=this.get_container_ul());d.length&&d.find("li").each(function(){var a=c(this);a.data("jstree")&&c.each(a.data("jstree"),function(b,d){f.data[b]&&c.isFunction(f["_"+b+"_notify"])&&f["_"+b+"_notify"].call(f,a,d)})})},this));this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",
c.proxy(function(a,b){var d=this._get_node(b.rslt.obj),f=this;-1===d&&(d=this.get_container_ul());d.length&&d.find("li.jstree-open:not(:has(ul))").each(function(){f.load_node(this,c.noop,c.noop)})},this));this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var a,b=this.get_index(),f=this._get_settings(),h=this;c.each(f.plugins,function(a,b){try{j[b].__destroy.apply(h)}catch(c){}});this.__callback();if(this.is_focused())for(a in d)if(d.hasOwnProperty(a)&&
a!=b){d[a].set_focus();break}b===g&&(g=-1);this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});c(document).unbind(".jstree-"+b).undelegate(".jstree-"+b);d[b]=null;delete d[b]},_core_notify:function(a,b){b.opened&&this.open_node(a,!1,!0)},lock:function(){this.data.core.locked=!0;this.get_container().children("ul").addClass("jstree-locked").css("opacity",
"0.7");this.__callback({})},unlock:function(){this.data.core.locked=!1;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var a=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){this.id&&a.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))});this.__callback(a.data.core.to_open)},save_loaded:function(){},reload_nodes:function(a){var b=this,d=!0,f=[],g=[];a||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=c.map(c.makeArray(this.data.core.to_open),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=c.map(c.makeArray(this.data.core.to_load),function(a){return"#"+
a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open)));this.data.core.to_load.length&&(c.each(this.data.core.to_load,function(a,b){if("#"==b)return!0;c(b).length?f.push(b):g.push(b)}),f.length&&(this.data.core.to_load=g,c.each(f,function(a,c){b._is_loaded(c)||(b.load_node(c,function(){b.reload_nodes(!0)},function(){b.reload_nodes(!0)}),
d=!1)})));this.data.core.to_open.length&&c.each(this.data.core.to_open,function(a,c){b.open_node(c,!1,!0)});d&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){b.__callback({},b)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var a=this;this.data.core.to_open.length&&c.each(this.data.core.to_open,function(b,c){a.open_node(c,!1,!0)});this.__callback({})},refresh:function(a){var b=this;this.save_opened();a||(a=-1);(a=this._get_node(a))||
(a=-1);-1!==a?a.children("UL").remove():this.get_container_ul().empty();this.load_node(a,function(){b.__callback({obj:a});b.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var a=c.jstree._focused();a&&a.unset_focus();this.get_container().addClass("jstree-focused");g=this.get_index();this.__callback()}},is_focused:function(){return g==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),g=
-1);this.__callback()},_get_node:function(a){var b=c(a,this.get_container());if(b.is(".jstree")||-1==a)return-1;b=b.closest("li",this.get_container());return b.length?b:!1},_get_next:function(a,b){a=this._get_node(a);return-1===a?this.get_container().find("> ul > li:first-child"):!a.length?!1:b?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0)},_get_prev:function(a,
b){a=this._get_node(a);if(-1===a)return this.get_container().find("> ul > li:last-child");if(!a.length)return!1;if(b)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("jstree-open");)a=a.children("ul:eq(0)").children("li:last");return a}var c=a.parentsUntil(".jstree","li:eq(0)");return c.length?c:!1},_get_parent:function(a){a=this._get_node(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".jstree","li:eq(0)");return a.length?a:-1},
_get_children:function(a){a=this._get_node(a);return-1===a?this.get_container().children("ul:eq(0)").children("li"):!a.length?!1:a.children("ul:eq(0)").children("li")},get_path:function(a,b){var c=[],d=this,a=this._get_node(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".jstree","li").each(function(){c.push(b?this.id:d.get_text(this))});c.reverse();c.push(b?a.attr("id"):this.get_text(a));return c},_get_string:function(a){return this._get_settings().core.strings[a]||a},is_open:function(a){return(a=
this._get_node(a))&&-1!==a&&a.hasClass("jstree-open")},is_closed:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-closed")},is_leaf:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-leaf")},correct_state:function(a){a=this._get_node(a);if(!a||-1===a)return!1;a.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},open_node:function(b,c,d){b=this._get_node(b);if(!b.length)return!1;if(!b.hasClass("jstree-closed"))return c&&
c.call(),!1;var f=d||a?0:this._get_settings().core.animation,g=this;this._is_loaded(b)?(this._get_settings().core.open_parents&&b.parentsUntil(".jstree",".jstree-closed").each(function(){g.open_node(this,!1,!0)}),f&&b.children("ul").css("display","none"),b.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),f?b.children("ul").stop(!0,!0).slideDown(f,function(){this.style.display="";g.after_open(b)}):g.after_open(b),this.__callback({obj:b}),c&&c.call()):
(b.children("a").addClass("jstree-loading"),this.load_node(b,function(){g.open_node(b,c,d)},c))},after_open:function(a){this.__callback({obj:a})},close_node:function(b,c){var b=this._get_node(b),d=c||a?0:this._get_settings().core.animation,f=this;if(!b.length||!b.hasClass("jstree-open"))return!1;d&&b.children("ul").attr("style","display:block !important");b.removeClass("jstree-open").addClass("jstree-closed");d?b.children("ul").stop(!0,!0).slideUp(d,function(){this.style.display="";f.after_close(b)}):
f.after_close(b);this.__callback({obj:b})},after_close:function(a){this.__callback({obj:a})},toggle_node:function(a){a=this._get_node(a);if(a.hasClass("jstree-closed"))return this.open_node(a);if(a.hasClass("jstree-open"))return this.close_node(a)},open_all:function(a,b,c){a=a?this._get_node(a):-1;if(!a||-1===a)a=this.get_container_ul();c?a=a.find("li.jstree-closed"):(c=a,a=a.is(".jstree-closed")?a.find("li.jstree-closed").addBack():a.find("li.jstree-closed"));var d=this;a.each(function(){var a=this;
d._is_loaded(this)?d.open_node(this,!1,!b):d.open_node(this,function(){d.open_all(a,b,c)},!b)});0===c.find("li.jstree-closed").length&&this.__callback({obj:c})},close_all:function(a,b){var c=this,a=a?this._get_node(a):this.get_container();if(!a||-1===a)a=this.get_container_ul();a.find("li.jstree-open").addBack().each(function(){c.close_node(this,!b)});this.__callback({obj:a})},clean_node:function(a){a=a&&-1!=a?c(a):this.get_container_ul();a=a.is("li")?a.find("li").addBack():a.find("li");a.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");
a.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(a,b){this.get_container().empty().append(a);this.data=b;this.__callback()},load_node:function(a){this.__callback({obj:a})},_is_loaded:function(){return!0},create_node:function(a,b,d,f,g){var a=this._get_node(a),b="undefined"===typeof b?"last":
b,h=c("<li />"),j=this._get_settings().core,l;if(-1!==a&&!a.length)return!1;if(!g&&!this._is_loaded(a))return this.load_node(a,function(){this.create_node(a,b,d,f,!0)}),!1;this.__rollback();"string"===typeof d&&(d={data:d});d||(d={});d.attr&&h.attr(d.attr);d.metadata&&h.data(d.metadata);d.state&&h.addClass("jstree-"+d.state);d.data||(d.data=this._get_string("new_node"));c.isArray(d.data)||(l=d.data,d.data=[],d.data.push(l));c.each(d.data,function(a,b){l=c("<a />");c.isFunction(b)&&(b=b.call(this,
d));if("string"==typeof b)l.attr("href","#")[j.html_titles?"html":"text"](b);else b.attr||(b.attr={}),b.attr.href||(b.attr.href="#"),l.attr(b.attr)[j.html_titles?"html":"text"](b.title),b.language&&l.addClass(b.language);l.prepend("<ins class='jstree-icon'>&#160;</ins>");!b.icon&&d.icon&&(b.icon=d.icon);b.icon&&(-1===b.icon.indexOf("/")?l.children("ins").addClass(b.icon):l.children("ins").css("background","url('"+b.icon+"') center center no-repeat"));h.append(l)});h.prepend("<ins class='jstree-icon'>&#160;</ins>");
-1===a&&(a=this.get_container(),"before"===b&&(b="first"),"after"===b&&(b="last"));switch(b){case "before":a.before(h);l=this._get_parent(a);break;case "after":a.after(h);l=this._get_parent(a);break;case "inside":case "first":a.children("ul").length||a.append("<ul />");a.children("ul").prepend(h);l=a;break;case "last":a.children("ul").length||a.append("<ul />");a.children("ul").append(h);l=a;break;default:a.children("ul").length||a.append("<ul />"),b||(b=0),l=a.children("ul").children("li").eq(b),
l.length?l.before(h):a.children("ul").append(h),l=a}if(-1===l||l.get(0)===this.get_container().get(0))l=-1;this.clean_node(l);this.__callback({obj:h,parent:l});f&&f.call(this,h);return h},get_text:function(a){a=this._get_node(a);if(!a.length)return!1;var b=this._get_settings().core.html_titles,a=a.children("a:eq(0)");if(b)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==this.nodeType})[0];return a.nodeValue},set_text:function(a,b){a=this._get_node(a);
if(!a.length)return!1;a=a.children("a:eq(0)");if(this._get_settings().core.html_titles){var c=a.children("INS").clone();a.html(b).prepend(c);this.__callback({obj:a,name:b});return!0}a=a.contents().filter(function(){return 3==this.nodeType})[0];this.__callback({obj:a,name:b});return a.nodeValue=b},rename_node:function(a,b){a=this._get_node(a);this.__rollback();a&&(a.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments)))&&this.__callback({obj:a,name:b})},delete_node:function(a){a=
this._get_node(a);if(!a.length)return!1;this.__rollback();var b=this._get_parent(a),d=c([]),f=this;a.each(function(){d=d.add(f._get_prev(this))});a=a.detach();-1!==b&&0===b.find("> ul > li").length&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(b);this.__callback({obj:a,prev:d,parent:b});return a},prepare_move:function(a,b,d,f,g){var h={};h.ot=c.jstree._reference(a)||this;h.o=h.ot._get_node(a);h.r=-1===b?-1:this._get_node(b);h.p="undefined"===typeof d||!1===d?
"last":d;if(g||!n.o||!(n.o[0]===h.o[0]&&n.r[0]===h.r[0]&&n.p===h.p)){h.ot=c.jstree._reference(h.o)||this;h.rt=c.jstree._reference(h.r)||this;if(-1===h.r||!h.r)switch(h.cr=-1,h.p){case "first":case "before":case "inside":h.cp=0;break;case "after":case "last":h.cp=h.rt.get_container().find(" > ul > li").length;break;default:h.cp=h.p}else{if(!/^(before|after)$/.test(h.p)&&!this._is_loaded(h.r))return this.load_node(h.r,function(){this.prepare_move(a,b,d,f,!0)});switch(h.p){case "before":h.cp=h.r.index();
h.cr=h.rt._get_parent(h.r);break;case "after":h.cp=h.r.index()+1;h.cr=h.rt._get_parent(h.r);break;case "inside":case "first":h.cp=0;h.cr=h.r;break;case "last":h.cp=h.r.find(" > ul > li").length;h.cr=h.r;break;default:h.cp=h.p,h.cr=h.r}}h.np=-1==h.cr?h.rt.get_container():h.cr;h.op=h.ot._get_parent(h.o);h.cop=h.o.index();-1===h.op&&(h.op=h.ot?h.ot.get_container():this.get_container());!/^(before|after)$/.test(h.p)&&(h.op&&h.np&&h.op[0]===h.np[0]&&h.o.index()<h.cp)&&h.cp++;h.or=h.np.find(" > ul > li:nth-child("+
(h.cp+1)+")");n=h}this.__callback(n);f&&f.call(this,n)},check_move:function(){var a=n,b=!0,c=-1===a.r?this.get_container():a.r;if(!a||!a.o||a.or[0]===a.o[0])return!1;if(!a.cy){if(a.op&&a.np&&a.op[0]===a.np[0]&&a.cp-1===a.o.index())return!1;a.o.each(function(){if(-1!==c.parentsUntil(".jstree","li").addBack().index(this))return b=!1})}return b},move_node:function(a,b,d,f,g,h){if(!g)return this.prepare_move(a,b,d,function(a){this.move_node(a,!1,!1,f,!0,h)});f&&(n.cy=!0);if(!h&&!this.check_move())return!1;
this.__rollback();b=!1;f?(b=a.o.clone(!0),b.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):b=a.o;a.or.length?a.or.before(b):(a.np.children("ul").length||c("<ul />").appendTo(a.np),a.np.children("ul:eq(0)").append(b));try{a.ot.clean_node(a.op),a.rt.clean_node(a.np),a.op.find("> ul > li").length||a.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(j){}f&&(n.cy=!0,n.oc=b);this.__callback(n);return n},_get_move:function(){return n}}});
var l=jQuery,q,t,p;l(function(){/msie/.test(navigator.userAgent.toLowerCase())?(t=l('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),p=l('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),q=t.width()-p.width(),t.add(p).remove()):(t=l("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",
height:200}),q=100-t.width(),t.parent().remove())});l.jstree.plugin("ui",{__init:function(){this.data.ui.selected=l();this.data.ui.last_selected=!1;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",l.proxy(function(a){a.preventDefault();a.currentTarget.blur();l(a.currentTarget).hasClass("jstree-loading")||this.select_node(a.currentTarget,!0,a)},this)).delegate("a","mouseenter.jstree",l.proxy(function(a){l(a.currentTarget).hasClass("jstree-loading")||
this.hover_node(a.target)},this)).delegate("a","mouseleave.jstree",l.proxy(function(a){l(a.currentTarget).hasClass("jstree-loading")||this.dehover_node(a.target)},this)).bind("reopen.jstree",l.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",l.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",l.proxy(function(){this.reselect()},this)).bind("close_node.jstree",l.proxy(function(a,b){var c=this._get_settings().ui,d=this._get_node(b.rslt.obj),
f=d&&d.length?d.children("ul").find("a.jstree-clicked"):l(),g=this;!1!==c.selected_parent_close&&f.length&&f.each(function(){g.deselect_node(this);"select_parent"===c.selected_parent_close&&g.select_node(d)})},this)).bind("delete_node.jstree",l.proxy(function(a,b){var c=this._get_settings().ui.select_prev_on_delete,d=this._get_node(b.rslt.obj),d=d&&d.length?d.find("a.jstree-clicked"):[],f=this;d.each(function(){f.deselect_node(this)});c&&d.length&&b.rslt.prev.each(function(){if(this.parentNode)return f.select_node(this),
!1})},this)).bind("move_node.jstree",l.proxy(function(a,b){b.rslt.cy&&b.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(a,b){if("undefined"===typeof a||null===a)return b?this.data.ui.selected:this.data.ui.last_selected;var c=l(a,
this.get_container());if(c.is(".jstree")||-1==a)return-1;c=c.closest("li",this.get_container());return c.length?c:!1},_ui_notify:function(a,b){b.selected&&this.select_node(a,!1)},save_selected:function(){var a=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){this.id&&a.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(this.data.ui.to_select)},
reselect:function(){var a=this,b=this.data.ui.to_select,b=l.map(l.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});l.each(b,function(b,c){c&&"#"!==c&&a.select_node(c)});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});this.__callback()},refresh:function(){this.save_selected();return this.__call_old()},hover_node:function(a){a=this._get_node(a);
if(!a.length)return!1;a.hasClass("jstree-hovered")||this.dehover_node();this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent();this._fix_scroll(a);this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered,b;if(!a||!a.length)return!1;b=a.children("a").removeClass("jstree-hovered").parent();this.data.ui.hovered[0]===b[0]&&(this.data.ui.hovered=null);this.__callback({obj:a})},select_node:function(a,b,c){a=this._get_node(a);if(-1==a||!a||!a.length)return!1;var d=this._get_settings().ui,
f="on"==d.select_multiple_modifier||!1!==d.select_multiple_modifier&&c&&c[d.select_multiple_modifier+"Key"],g=!1!==d.select_range_modifier&&c&&c[d.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==a[0]&&this.data.ui.last_selected.parent()[0]===a.parent()[0],h=this.is_selected(a),j=!0,l=this;if(b){if(d.disable_selecting_children&&f&&(a.parentsUntil(".jstree","li").children("a.jstree-clicked").length||a.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;
j=!1;switch(!0){case g:this.data.ui.last_selected.addClass("jstree-last-selected");a=a[a.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").addBack();-1==d.select_limit||a.length<d.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==l.data.ui.last_selected[0]&&l.deselect_node(this)}),h=!1,j=!0):j=!1;break;case h&&!f:this.deselect_all();h=!1;j=!0;break;case !h&&!f:if(-1==d.select_limit||
0<d.select_limit)this.deselect_all(),j=!0;break;case h&&f:this.deselect_node(a);break;case !h&&f:if(-1==d.select_limit||this.data.ui.selected.length+1<=d.select_limit)j=!0}}j&&!h&&(g||(this.data.ui.last_selected=a),a.children("a").addClass("jstree-clicked"),d.selected_parent_open&&a.parents(".jstree-closed").each(function(){l.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(a),this._fix_scroll(a.eq(0)),this.__callback({obj:a,e:c}))},_fix_scroll:function(a){var b=this.get_container()[0];
if(b.scrollHeight>b.offsetHeight&&(a=this._get_node(a))&&!(-1===a||!a.length||!a.is(":visible")))if(a=a.offset().top-this.get_container().offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.data.core.li_height+(b.scrollWidth>b.offsetWidth?q:0)>b.offsetHeight)b.scrollTop+=a-b.offsetHeight+this.data.core.li_height+1+(b.scrollWidth>b.offsetWidth?q:0)},deselect_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)&&(a.children("a").removeClass("jstree-clicked"),this.data.ui.selected=
this.data.ui.selected.not(a),this.data.ui.last_selected.get(0)===a.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:a}))},toggle_select:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)?this.deselect_node(a):this.select_node(a)},is_selected:function(a){return 0<=this.data.ui.selected.index(this._get_node(a))},get_selected:function(a){return a?l(a).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(a){a=a?l(a).find("a.jstree-clicked").parent():
this.get_container().find("a.jstree-clicked").parent();a.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=l([]);this.data.ui.last_selected=!1;this.__callback({obj:a})}}});l.jstree.defaults.plugins.push("ui");var h=jQuery;h.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",h.proxy(function(a,b){if(this._get_settings().crrm.move.open_onmove){var c=this;b.rslt.np.parentsUntil(".jstree").addBack().filter(".jstree-closed").each(function(){c.open_node(this,
!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(a,b){var a=this._get_node(a),c=this._get_settings().core.rtl,d=this._get_settings().crrm.input_width_limit,f=a.children("ins").width(),g=a.find("> a:visible > ins").width()*a.find("> a:visible > ins").length,j=this.get_text(a),l=h("<div />",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),
n=a.css("position","relative").append(h("<input />",{value:j,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":f+g+4+"px",right:c?f+g+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:h.proxy(function(){var c=a.children(".jstree-rename-input"),d=c.val();""===d&&(d=j);l.remove();c.remove();this.set_text(a,j);this.rename_node(a,d);b.call(this,a,d,j);a.css("position","")},
this),keyup:function(a){a=a.keyCode||a.which;27==a?(this.value=j,this.blur()):13==a?this.blur():n.width(Math.min(l.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".jstree-rename-input");this.set_text(a,"");l.css({fontFamily:n.css("fontFamily")||"",fontSize:n.css("fontSize")||"",fontWeight:n.css("fontWeight")||"",fontStyle:n.css("fontStyle")||"",fontStretch:n.css("fontStretch")||"",fontVariant:n.css("fontVariant")||"",letterSpacing:n.css("letterSpacing")||
"",wordSpacing:n.css("wordSpacing")||""});n.width(Math.min(l.text("pW"+n[0].value).width(),d))[0].select()},rename:function(a){a=this._get_node(a);this.__rollback();var b=this.__callback;this._show_input(a,function(a,c,d){b.call(this,{obj:a,new_name:c,old_name:d})})},create:function(a,b,c,d,f){var g=this;(a=this._get_node(a))||(a=-1);this.__rollback();return this.create_node(a,b,c,function(a){var b=this._get_parent(a),c=h(a).index();d&&d.call(this,a);b.length&&b.hasClass("jstree-closed")&&this.open_node(b,
!1,!0);f?g.__callback({obj:a,name:this.get_text(a),parent:b,position:c}):this._show_input(a,function(a,d){g.__callback({obj:a,name:d,parent:b,position:c})})})},remove:function(a){var a=this._get_node(a,!0),b=this._get_parent(a),c=this._get_prev(a);this.__rollback();a=this.delete_node(a);!1!==a&&this.__callback({obj:a,prev:c,parent:b})},check_move:function(){return!this.__call_old()||!this._get_settings().crrm.move.check_move.call(this,this._get_move())?!1:!0},move_node:function(a,b,c,d,f,g){var h=
this._get_settings().crrm.move;if(!f)return"undefined"===typeof c&&(c=h.default_position),"inside"===c&&!h.default_position.match(/^(before|after)$/)&&(c=h.default_position),this.__call_old(!0,a,b,c,d,!1,g);if(!0===h.always_copy||"multitree"===h.always_copy&&a.rt.get_index()!==a.ot.get_index())d=!0;this.__call_old(!0,a,b,c,d,!0,g)},cut:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=a;this.__callback({obj:a})},copy:function(a){a=this._get_node(a,
!0);if(!a||!a.length)return!1;this.data.crrm.ct_nodes=!1;this.data.crrm.cp_nodes=a;this.__callback({obj:a})},paste:function(a){a=this._get_node(a);if(!a||!a.length)return!1;var b=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,a),this.data.crrm.ct_nodes=!1);this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,a,!1,!0);this.__callback({obj:a,
nodes:b})}}});var y=jQuery,w=[];y.jstree._themes=!1;y.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",y.proxy(function(){var a=this._get_settings().themes;this.data.themes.dots=a.dots;this.data.themes.icons=a.icons;this.set_theme(a.theme,a.url)},this)).bind("loaded.jstree",y.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},
_fn:{set_theme:function(a,b){if(!a)return!1;b||(b=y.jstree._themes+a+"/style.css");-1==y.inArray(b,w)&&(y.vakata.css.add_sheet({url:b}),w.push(b));this.data.themes.theme!=a&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=a);this.get_container().addClass("jstree-"+a);this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=
!0;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?
this.hide_icons():this.show_icons()}}});y(function(){!1===y.jstree._themes&&y("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return y.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});!1===y.jstree._themes&&(y.jstree._themes="themes/")});y.jstree.defaults.plugins.push("themes");var D=jQuery,H=[];D.jstree.plugin("hotkeys",{__init:function(){if("undefined"===typeof D.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";
if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";D.each(this._get_settings().hotkeys,function(a,b){!1!==b&&-1==D.inArray(a,H)&&(D(document).bind("keydown",a,function(b){a:{var c=D.jstree._focused(),d;if(c&&(c.data&&c.data.hotkeys&&c.data.hotkeys.enabled)&&(d=c._get_settings().hotkeys[a])){b=d.call(c,b);break a}b=void 0}return b}),H.push(a))});this.get_container().bind("lock.jstree",D.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=
!0)},this)).bind("unlock.jstree",D.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this));this.enable_hotkeys()},defaults:{up:function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"ctrl+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},down:function(){this.hover_node(this._get_next(this.data.ui.hovered||
this.data.ui.last_selected||-1));return!1},"ctrl+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},left:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"ctrl+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;
a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"shift+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},right:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"ctrl+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;
a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"shift+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},space:function(){this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click();return!1},"ctrl+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);
return!1},"shift+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);return!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}});var r=jQuery;r.jstree.plugin("json_data",{__init:function(){this._get_settings().json_data.progressive_unload&&
this.get_container().bind("after_close.jstree",function(a,b){b.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(a,b,c){var d=this;this.load_node_json(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){var b=this._get_settings().json_data,a=this._get_node(a);return-1==a||!a||!b.ajax&&!b.progressive_render&&!r.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||
0<a.children("ul").children("li").length},refresh:function(a){var a=this._get_node(a),b=this._get_settings().json_data;a&&(-1!==a&&b.progressive_unload&&(r.isFunction(b.data)||b.ajax))&&a.removeData("jstree_children");return this.__call_old()},load_node_json:function(a,b,c){var d=this.get_settings().json_data,f,g=function(){};f=function(){};if((a=this._get_node(a))&&-1!==a&&(d.progressive_render||d.progressive_unload)&&!a.is(".jstree-open, .jstree-leaf")&&0===a.children("ul").children("li").length&&
a.data("jstree_children")){if(f=this._parse_json(a.data("jstree_children"),a))a.append(f),d.progressive_unload||a.removeData("jstree_children");this.clean_node(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case r.isFunction(d.data):d.data.call(this,a,r.proxy(function(f){(f=this._parse_json(f,a))?(-1===a||!a?this.get_container().children("ul").empty().append(f.children()):
(a.append(f).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):(-1===a||!a?d.correct_state&&this.get_container().children("ul").empty():(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&this.correct_state(a)),c&&c.call(this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!a||-1===a):if(!a||-1==a)(f=this._parse_json(d.data,a))?(this.get_container().children("ul").empty().append(f.children()),
this.clean_node()):d.correct_state&&this.get_container().children("ul").empty();b&&b.call(this);break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&a&&-1!==a:g=function(b,f,g){var h=this.get_settings().json_data.ajax.error;h&&h.call(this,b,f,g);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===f&&d.correct_state&&this.correct_state(a)):"success"===f&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},
f=function(c,f,h){var j=this.get_settings().json_data.ajax.success;j&&(c=j.call(this,c,f,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,"")||!r.isArray(c)&&!r.isPlainObject(c))return g.call(this,h,f,"");(c=this._parse_json(c,a))?(-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.append(c).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):-1===a||!a?d.correct_state&&
(this.get_container().children("ul").empty(),b&&b.call(this)):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this)))},d.ajax.context=this,d.ajax.error=g,d.ajax.success=f,d.ajax.dataType||(d.ajax.dataType="json"),r.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,a)),r.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,a)),r.ajax(d.ajax)}}},_parse_json:function(a,b,c){var d=!1,f=this._get_settings(),
g=f.json_data,h=f.core.html_titles,j;if(!a)return d;g.progressive_unload&&(b&&-1!==b)&&b.data("jstree_children",d);if(r.isArray(a)){d=r("<ul>");if(!a.length)return!1;f=0;for(g=a.length;f<g;f++)j=this._parse_json(a[f],b,!0),j.length&&(d=d.append(j));d=d.children()}else{"string"==typeof a&&(a={data:a});if(!a.data&&""!==a.data)return d;d=r("<li />");a.attr&&d.attr(a.attr);a.metadata&&d.data(a.metadata);a.state&&d.addClass("jstree-"+a.state);r.isArray(a.data)||(j=a.data,a.data=[],a.data.push(j));r.each(a.data,
function(b,c){j=r("<a />");r.isFunction(c)&&(c=c.call(this,a));if("string"==typeof c)j.attr("href","#")[h?"html":"text"](c);else c.attr||(c.attr={}),c.attr.href||(c.attr.href="#"),j.attr(c.attr)[h?"html":"text"](c.title),c.language&&j.addClass(c.language);j.prepend("<ins class='jstree-icon'>&#160;</ins>");!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?j.children("ins").addClass(c.icon):j.children("ins").css("background","url('"+c.icon+"') center center no-repeat"));d.append(j)});
d.prepend("<ins class='jstree-icon'>&#160;</ins>");a.children&&(g.progressive_render&&"open"!==a.state?d.addClass("jstree-closed").data("jstree_children",a.children):(g.progressive_unload&&d.data("jstree_children",a.children),r.isArray(a.children)&&a.children.length&&(j=this._parse_json(a.children,b,!0),j.length&&(b=r("<ul />"),b.append(j),d.append(b)))))}c||(c=r("<ul />"),c.append(d),d=c);return d},get_json:function(a,b,c,d){var f=[],g=this._get_settings(),h=this,j,l,n,p,k,q,a=this._get_node(a);
if(!a||-1===a)a=this.get_container().find("> ul > li");b=r.isArray(b)?b:["id","class"];!d&&this.data.types&&b.push(g.types.type_attr);c=r.isArray(c)?c:[];a.each(function(){n=r(this);j={data:[]};b.length&&(j.attr={});r.each(b,function(a,b){(l=n.attr(b))&&(l.length&&l.replace(/jstree[^ ]*/ig,"").length)&&(j.attr[b]=(" "+l).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))});n.hasClass("jstree-open")&&(j.state="open");n.hasClass("jstree-closed")&&(j.state="closed");
n.data()&&(j.metadata=n.data());p=n.children("a");p.each(function(){k=r(this);c.length||-1!==r.inArray("languages",g.plugins)||k.children("ins").get(0).style.backgroundImage.length||k.children("ins").get(0).className&&k.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length?(q=!1,-1!==r.inArray("languages",g.plugins)&&(r.isArray(g.languages)&&g.languages.length)&&r.each(g.languages,function(a,b){if(k.hasClass(b))return q=b,!1}),l={attr:{},title:h.get_text(k,q)},r.each(c,function(a,
b){l.attr[b]=(" "+(k.attr(b)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}),-1!==r.inArray("languages",g.plugins)&&(r.isArray(g.languages)&&g.languages.length)&&r.each(g.languages,function(a,b){if(k.hasClass(b))return l.language=b,!0}),k.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(l.icon=k.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,
"")),k.children("ins").get(0).style.backgroundImage.length&&(l.icon=k.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):l=h.get_text(k);1<p.length?j.data.push(l):j.data=l});n=n.find("> ul > li");n.length&&(j.children=h.get_json(n,b,c,!0));f.push(j)});return f}}});var B=jQuery,E=!1;B.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(a){var b=this._get_settings().languages,c=!1,d=".jstree-"+this.get_index()+" a";if(!B.isArray(b)||
0===b.length)return!1;if(-1==B.inArray(a,b))if(b[a])a=b[a];else return!1;if(a==this.data.languages.current_language)return!0;c=B.vakata.css.get_css(d+"."+this.data.languages.current_language,!1,E);!1!==c&&(c.style.display="none");c=B.vakata.css.get_css(d+"."+a,!1,E);!1!==c&&(c.style.display="");this.data.languages.current_language=a;this.__callback(a);return!0},get_lang:function(){return this.data.languages.current_language},_get_string:function(a,b){var c=this._get_settings().languages,d=this._get_settings().core.strings;
B.isArray(c)&&c.length&&(b=b&&-1!=B.inArray(b,c)?b:this.data.languages.current_language);return d[b]&&d[b][a]?d[b][a]:d[a]?d[a]:a},get_text:function(a,b){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var c=this._get_settings().languages,d=this._get_settings().core.html_titles;B.isArray(c)&&c.length?(b=b&&-1!=B.inArray(b,c)?b:this.data.languages.current_language,a=a.children("a."+b)):a=a.children("a:eq(0)");if(d)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==
this.nodeType})[0];return a.nodeValue},set_text:function(a,b,c){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var d=this._get_settings().languages,f=this._get_settings().core.html_titles;B.isArray(d)&&d.length?(c=c&&-1!=B.inArray(c,d)?c:this.data.languages.current_language,a=a.children("a."+c)):a=a.children("a:eq(0)");if(f)return d=a.children("INS").clone(),a.html(b).prepend(d),this.__callback({obj:a,name:b,lang:c}),!0;a=a.contents().filter(function(){return 3==this.nodeType})[0];
this.__callback({obj:a,name:b,lang:c});return a.nodeValue=b},_load_css:function(){var a=this._get_settings().languages,b="/* languages css */",c=".jstree-"+this.get_index()+" a",d;if(B.isArray(a)&&a.length){this.data.languages.current_language=a[0];for(d=0;d<a.length;d++)b+=c+"."+a[d]+" {",a[d]!=this.data.languages.current_language&&(b+=" display:none; "),b+=" } ";E=B.vakata.css.add_sheet({str:b,title:"jstree-languages"})}},create_node:function(a,b,c,d){return this.__call_old(!0,a,b,c,function(a){var b=
this._get_settings().languages,c=a.children("a"),f;if(B.isArray(b)&&b.length){for(f=0;f<b.length;f++)c.is("."+b[f])||a.append(c.eq(0).clone().removeClass(b.join(" ")).addClass(b[f]));c.not("."+b.join(", .")).remove()}d&&d.call(this,a)})}}});var F=jQuery;F.jstree.plugin("cookies",{__init:function(){if("undefined"===typeof F.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var a=this._get_settings().cookies,b;if(a.save_loaded&&(b=F.cookie(a.save_loaded))&&b.length)this.data.core.to_load=
b.split(",");if(a.save_opened&&(b=F.cookie(a.save_opened))&&b.length)this.data.core.to_open=b.split(",");if(a.save_selected&&(b=F.cookie(a.save_selected))&&b.length&&this.data.ui)this.data.ui.to_select=b.split(",");this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",F.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",F.proxy(function(a){this._get_settings().cookies.auto_save&&this.save_cookie((a.handleObj.namespace+
a.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(a){if(!this.data.core.refreshing){var b=this._get_settings().cookies;if(a)switch(a){case "open_node":case "close_node":b.save_opened&&(this.save_opened(),F.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options));b.save_loaded&&(this.save_loaded(),F.cookie(b.save_loaded,this.data.core.to_load.join(","),
b.cookie_options));break;case "select_node":case "deselect_node":b.save_selected&&this.data.ui&&(this.save_selected(),F.cookie(b.save_selected,this.data.ui.to_select.join(","),b.cookie_options))}else b.save_loaded&&(this.save_loaded(),F.cookie(b.save_loaded,this.data.core.to_load.join(","),b.cookie_options)),b.save_opened&&(this.save_opened(),F.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options)),b.save_selected&&this.data.ui&&(this.save_selected(),F.cookie(b.save_selected,this.data.ui.to_select.join(","),
b.cookie_options))}}}});var x=jQuery;x.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",x.proxy(function(a,b){var c=this._get_node(b.rslt.obj),c=-1===c?this.get_container().children("ul"):c.children("ul");this.sort(c)},this)).bind("rename_node.jstree create_node.jstree create.jstree",x.proxy(function(a,b){this.sort(b.rslt.obj.parent())},this)).bind("move_node.jstree",x.proxy(function(a,b){var c=-1==b.rslt.np?this.get_container():b.rslt.np;this.sort(c.children("ul"))},
this))},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1},_fn:{sort:function(a){var b=this._get_settings().sort,c=this;a.append(x.makeArray(a.children("li")).sort(x.proxy(b,c)));a.find("> li > ul").each(function(){c.sort(x(this))});this.clean_node(a)}}});var u=jQuery,A=!1,C=!1,K=!1,I=!1,R=!1,S=!1,V=!1,L=!1,J=!1;u.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(a,b,c){u.vakata.dnd.is_drag&&
u.vakata.drag_stop({});try{a.currentTarget.unselectable="on",a.currentTarget.onselectstart=function(){return!1},a.currentTarget.style&&(a.currentTarget.style.MozUserSelect="none")}catch(d){}u.vakata.dnd.init_x=a.pageX;u.vakata.dnd.init_y=a.pageY;u.vakata.dnd.user_data=b;u.vakata.dnd.is_down=!0;u.vakata.dnd.helper=u("<div id='vakata-dragged' />").html(c);u(document).bind("mousemove",u.vakata.dnd.drag);u(document).bind("mouseup",u.vakata.dnd.drag_stop);return!1},drag:function(a){if(u.vakata.dnd.is_down){if(!u.vakata.dnd.is_drag)if(5<
Math.abs(a.pageX-u.vakata.dnd.init_x)||5<Math.abs(a.pageY-u.vakata.dnd.init_y))u.vakata.dnd.helper.appendTo("body"),u.vakata.dnd.is_drag=!0,u(document).triggerHandler("drag_start.vakata",{event:a,data:u.vakata.dnd.user_data});else return;if("mousemove"===a.type){var b=u(document),c=b.scrollTop(),b=b.scrollLeft();20>a.pageY-c?(S&&"down"===V&&(clearInterval(S),S=!1),S||(V="up",S=setInterval(function(){u(document).scrollTop(u(document).scrollTop()-u.vakata.dnd.scroll_spd)},150))):S&&"up"===V&&(clearInterval(S),
S=!1);20>u(window).height()-(a.pageY-c)?(S&&"up"===V&&(clearInterval(S),S=!1),S||(V="down",S=setInterval(function(){u(document).scrollTop(u(document).scrollTop()+u.vakata.dnd.scroll_spd)},150))):S&&"down"===V&&(clearInterval(S),S=!1);20>a.pageX-b?(R&&"right"===L&&(clearInterval(R),R=!1),R||(L="left",R=setInterval(function(){u(document).scrollLeft(u(document).scrollLeft()-u.vakata.dnd.scroll_spd)},150))):R&&"left"===L&&(clearInterval(R),R=!1);20>u(window).width()-(a.pageX-b)?(R&&"left"===L&&(clearInterval(R),
R=!1),R||(L="right",R=setInterval(function(){u(document).scrollLeft(u(document).scrollLeft()+u.vakata.dnd.scroll_spd)},150))):R&&"right"===L&&(clearInterval(R),R=!1)}u.vakata.dnd.helper.css({left:a.pageX+u.vakata.dnd.helper_left+"px",top:a.pageY+u.vakata.dnd.helper_top+"px"});u(document).triggerHandler("drag.vakata",{event:a,data:u.vakata.dnd.user_data})}},drag_stop:function(a){R&&clearInterval(R);S&&clearInterval(S);u(document).unbind("mousemove",u.vakata.dnd.drag);u(document).unbind("mouseup",u.vakata.dnd.drag_stop);
u(document).triggerHandler("drag_stop.vakata",{event:a,data:u.vakata.dnd.user_data});u.vakata.dnd.helper.remove();u.vakata.dnd.init_x=0;u.vakata.dnd.init_y=0;u.vakata.dnd.user_data={};u.vakata.dnd.is_down=!1;u.vakata.dnd.is_drag=!1}};u(function(){u.vakata.css.add_sheet({str:"#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ",title:"vakata"})});u.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,
after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1};this.get_container().bind("mouseenter.jstree",u.proxy(function(a){u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree&&(this.data.themes&&(K.attr("class","jstree-"+this.data.themes.theme),I&&I.attr("class","jstree-"+this.data.themes.theme),u.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),a.currentTarget===a.target&&(u.vakata.dnd.user_data.obj&&u(u.vakata.dnd.user_data.obj).length&&
u(u.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==a.target)&&(a=u.jstree._reference(a.target),a.data.dnd.foreign?(a=a._get_settings().dnd.drag_check.call(this,{o:A,r:a.get_container(),is_root:!0}),(!0===a||!0===a.inside||!0===a.before||!0===a.after)&&u.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(a.prepare_move(A,a.get_container(),"last"),a.check_move()&&u.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))))},this)).bind("mouseup.jstree",u.proxy(function(a){if(u.vakata.dnd.is_drag&&
u.vakata.dnd.user_data.jstree&&a.currentTarget===a.target&&u.vakata.dnd.user_data.obj&&u(u.vakata.dnd.user_data.obj).length&&u(u.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==a.target){var b=u.jstree._reference(a.currentTarget);b.data.dnd.foreign?(a=b._get_settings().dnd.drag_check.call(this,{o:A,r:b.get_container(),is_root:!0}),(!0===a||!0===a.inside||!0===a.before||!0===a.after)&&b._get_settings().dnd.drag_finish.call(this,{o:A,r:b.get_container(),is_root:!0})):b.move_node(A,b.get_container(),
"last",a[b._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",u.proxy(function(a){if(a.relatedTarget&&a.relatedTarget.id&&"jstree-marker-line"===a.relatedTarget.id)return!1;u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),u.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&
u.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"))},this)).bind("mousemove.jstree",u.proxy(function(a){if(u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree){var b=this.get_container()[0];a.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(u.proxy(function(){this.scrollLeft+=u.vakata.dnd.scroll_spd},b),100)):a.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=
setInterval(u.proxy(function(){this.scrollLeft-=u.vakata.dnd.scroll_spd},b),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1);a.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(u.proxy(function(){this.scrollTop+=u.vakata.dnd.scroll_spd},b),100)):a.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(u.proxy(function(){this.scrollTop-=u.vakata.dnd.scroll_spd},
b),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",u.proxy(function(){u.vakata.dnd.is_drag&&(u.vakata.dnd.user_data.jstree&&K&&I)&&(K.hide(),I.hide())},this)).delegate("a","mousedown.jstree",u.proxy(function(a){if(1===a.which)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",u.proxy(function(a){u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree&&this.dnd_enter(a.currentTarget)},this)).delegate("a","mousemove.jstree",u.proxy(function(a){u.vakata.dnd.is_drag&&
u.vakata.dnd.user_data.jstree&&((!C||!C.length||C.children("a")[0]!==a.currentTarget)&&this.dnd_enter(a.currentTarget),"undefined"===typeof this.data.dnd.off.top&&(this.data.dnd.off=u(a.target).offset()),this.data.dnd.w=(a.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,0>this.data.dnd.w&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",u.proxy(function(a){if(u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree){if(a.relatedTarget&&a.relatedTarget.id&&
"jstree-marker-line"===a.relatedTarget.id)return!1;K&&K.hide();I&&I.hide();var b=this;this.data.dnd.mto=setTimeout(function(){b.dnd_leave(a)},0)}},this)).delegate("a","mouseup.jstree",u.proxy(function(a){u.vakata.dnd.is_drag&&u.vakata.dnd.user_data.jstree&&this.dnd_finish(a)},this));u(document).bind("drag_stop.vakata",u.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1);this.data.dnd.to2&&clearTimeout(this.data.dnd.to2);this.data.dnd.i1&&clearInterval(this.data.dnd.i1);this.data.dnd.i2&&
clearInterval(this.data.dnd.i2);this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;this.data.dnd.off=!1;this.data.dnd.prepared=!1;this.data.dnd.w=!1;this.data.dnd.to1=!1;this.data.dnd.to2=!1;this.data.dnd.i1=!1;this.data.dnd.i2=!1;this.data.dnd.active=!1;this.data.dnd.foreign=!1;K&&K.css({top:"-2000px"});I&&I.css({top:"-2000px"})},this)).bind("drag_start.vakata",u.proxy(function(a,b){if(b.data.jstree){var c=u(b.event.target);c.closest(".jstree").hasClass("jstree-"+this.get_index())&&
this.dnd_enter(c)}},this));var a=this._get_settings().dnd;a.drag_target&&u(document).delegate(a.drag_target,"mousedown.jstree-"+this.get_index(),u.proxy(function(a){A=a.target;u.vakata.dnd.drag_start(a,{jstree:!0,obj:a.target},"<ins class='jstree-icon'></ins>"+u(a.target).text());this.data.themes&&(K&&K.attr("class","jstree-"+this.data.themes.theme),I&&I.attr("class","jstree-"+this.data.themes.theme),u.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));u.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid");var b=this.get_container();this.data.dnd.cof=b.offset();this.data.dnd.cw=parseInt(b.width(),10);this.data.dnd.ch=parseInt(b.height(),10);this.data.dnd.foreign=!0;a.preventDefault()},this));a.drop_target&&u(document).delegate(a.drop_target,"mouseenter.jstree-"+this.get_index(),u.proxy(function(a){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:A,r:u(a.target),e:a})&&u.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(a.drop_target,
"mouseleave.jstree-"+this.get_index(),u.proxy(function(){this.data.dnd.active&&u.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(a.drop_target,"mouseup.jstree-"+this.get_index(),u.proxy(function(a){this.data.dnd.active&&u.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:A,r:u(a.target),e:a})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(){return!0},
drop_finish:u.noop,drag_target:".jstree-draggable",drag_finish:u.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(C&&C.length){this.data.dnd.off=C.offset();this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+C.width());if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{o:A,r:C});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=!0;return this.dnd_show()}this.prepare_move(A,
C,"before");this.data.dnd.before=this.check_move();this.prepare_move(A,C,"after");this.data.dnd.after=this.check_move();this._is_loaded(C)?(this.prepare_move(A,C,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1;this.data.dnd.prepared=!0;return this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var a=["before","inside","after"],b=!1,c=this._get_settings().core.rtl,a=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/
3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];u.each(a,u.proxy(function(a,c){if(this.data.dnd[c])return u.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),b=c,!1},this));!1===b&&u.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a=c?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(b){case "before":K.css({left:a+"px",top:this.data.dnd.off.top-6+"px"}).show();I&&I.css({left:a+8+"px",
top:this.data.dnd.off.top-1+"px"}).show();break;case "after":K.css({left:a+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show();I&&I.css({left:a+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case "inside":K.css({left:a+(c?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();I&&I.hide();break;default:K.hide(),I&&I.hide()}return J=b}},dnd_open:function(){this.data.dnd.to2=!1;this.open_node(C,u.proxy(this.dnd_prepare,this),
!0)},dnd_finish:function(a){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:A,r:C,p:J}):(this.dnd_prepare(),this.move_node(A,C,J,a[this._get_settings().dnd.copy_modifier+"Key"]));C=A=!1;K.hide();I&&I.hide()},dnd_enter:function(a){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var b=this._get_settings().dnd;this.data.dnd.prepared=!1;C=this._get_node(a);b.check_timeout?(this.data.dnd.to1&&
clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(u.proxy(this.dnd_prepare,this),b.check_timeout)):this.dnd_prepare();b.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),C&&(C.length&&C.hasClass("jstree-closed"))&&(this.data.dnd.to2=setTimeout(u.proxy(this.dnd_open,this),b.open_timeout))):C&&(C.length&&C.hasClass("jstree-closed"))&&this.dnd_open()},dnd_leave:function(a){this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;u.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid");K.hide();I&&I.hide();C&&C[0]===a.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(a,b){A=this._get_node(a);this.data.ui&&this.is_selected(A)&&(A=this._get_node(null,!0));var c=1<A.length?this._get_string("multiple_selection"):this.get_text(A),d=this.get_container();this._get_settings().core.html_titles||(c=c.replace(/</ig,"&lt;").replace(/>/ig,
"&gt;"));u.vakata.dnd.drag_start(b,{jstree:!0,obj:A},"<ins class='jstree-icon'></ins>"+c);this.data.themes&&(K&&K.attr("class","jstree-"+this.data.themes.theme),I&&I.attr("class","jstree-"+this.data.themes.theme),u.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));this.data.dnd.cof=d.offset();this.data.dnd.cw=parseInt(d.width(),10);this.data.dnd.ch=parseInt(d.height(),10);this.data.dnd.active=!0}}});u(function(){u.vakata.css.add_sheet({str:"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }",
title:"jstree"});K=u("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(a){K.hide();I.hide();a.preventDefault();a.stopImmediatePropagation();return!1}).appendTo("body");I=u("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(a){if(C&&C.length)return C.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",function(a){var b=u(a.relatedTarget);if((b.is(".jstree")||0===b.closest(".jstree").length)&&
C&&C.length)return C.children("a").trigger(a),K.hide(),I.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1}).appendTo("body");u(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&(K.show(),I&&I.show())});u(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&(K.hide(),I&&I.hide())})});var v=jQuery;v.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=
this.deselect_all=v.noop,this.get_selected=this.get_checked);this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",v.proxy(function(a,b){this._prepare_checkboxes(b.rslt.obj)},this)).bind("loaded.jstree",v.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",v.proxy(function(a){a.preventDefault();this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):
this.check_node(a.target);if(this.data.ui&&this.data.checkbox.noui)this.save_selected(),this.data.cookies&&this.save_cookie("select_node");else return a.stopImmediatePropagation(),!1},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(a){return["check_"+(a[0].id||Math.ceil(1E4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},
_fn:{_checkbox_notify:function(a,b){b.checked&&this.check_node(a,!1)},_prepare_checkboxes:function(a){a=!a||-1==a?this.get_container().find("> ul > li"):this._get_node(a);if(!1!==a){var b,c=this,d,f=this._get_settings().checkbox.two_state,g=this._get_settings().checkbox.real_checkboxes,h=this._get_settings().checkbox.real_checkboxes_names;a.each(function(){d=v(this);b=d.is("li")&&(d.hasClass("jstree-checked")||g&&d.children(":checked").length)?"jstree-checked":"jstree-unchecked";d.find("li").addBack().each(function(){var a=
v(this),d;a.children("a"+(c.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(f?"jstree-unchecked":b);g&&(a.children(":checkbox").length?a.children(":checkbox").addClass("jstree-real-checkbox"):(d=h.call(c,a),a.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+d[0]+"' name='"+d[0]+"' value='"+d[1]+"' />")));f?(a.hasClass("jstree-checked")||a.children(":checked").length)&&
a.addClass("jstree-checked").children(":checkbox").prop("checked",!0):("jstree-checked"===b||a.hasClass("jstree-checked")||a.children(":checked").length)&&a.find("li").addBack().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})});f||a.find(".jstree-checked").parent().parent().each(function(){c._repair_state(this)})}},change_state:function(a,b){var a=this._get_node(a),c=!1,d=this._get_settings().checkbox.real_checkboxes;if(!a||-1===a)return!1;b=!1===b||!0===b?b:a.hasClass("jstree-checked");
if(this._get_settings().checkbox.two_state)b?(a.removeClass("jstree-checked").addClass("jstree-unchecked"),d&&a.children(":checkbox").prop("checked",!1)):(a.removeClass("jstree-unchecked").addClass("jstree-checked"),d&&a.children(":checkbox").prop("checked",!0));else{if(b){c=a.find("li").addBack();if(!c.filter(".jstree-checked, .jstree-undetermined").length)return!1;c.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");d&&c.children(":checkbox").prop("checked",!1)}else{c=
a.find("li").addBack();if(!c.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;c.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");d&&c.children(":checkbox").prop("checked",!0);this.data.ui&&(this.data.ui.last_selected=a);this.data.checkbox.last_selected=a}a.parentsUntil(".jstree","li").each(function(){var a=v(this);if(b){if(a.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),
d&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1),!1;a.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");d&&a.children(":checkbox").prop("checked",!1)}else{if(a.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),d&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",
!1),!1;a.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");d&&a.children(":checkbox").prop("checked",!0)}})}this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked());this.__callback(a);return!0},check_node:function(a){if(this.change_state(a,!1)){a=this._get_node(a);if(this._get_settings().checkbox.checked_parent_open){var b=this;a.parents(".jstree-closed").each(function(){b.open_node(this,!1,!0)})}this.__callback({obj:a})}},uncheck_node:function(a){this.change_state(a,
!0)&&this.__callback({obj:this._get_node(a)})},check_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!1)});this.__callback()},uncheck_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!0)});this.__callback()},is_checked:function(a){a=this._get_node(a);
return a.length?a.is(".jstree-checked"):!1},get_checked:function(a,b){a=!a||-1===a?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-checked"):a.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(a,b){a=!a||-1===a?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-unchecked"):a.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},
show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(a.length)if(this._get_settings().checkbox.two_state)a.find("li").addBack().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);else{var b=this._get_settings().checkbox.real_checkboxes,
c=a.find("> ul > .jstree-checked").length,d=a.find("> ul > .jstree-undetermined").length,f=a.find("> ul > li").length;0===f?a.hasClass("jstree-undetermined")&&this.change_state(a,!1):0===c&&0===d?this.change_state(a,!0):c===f?this.change_state(a,!1):(a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),b&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var a=
this,b=this.data.ui.to_select,b=v.map(v.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();v.each(b,function(b,c){a.check_node(c)});this.__callback()}else this.__call_old()},save_loaded:function(){var a=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&a.data.core.to_load.push("#"+this.id)})}}});
v(function(){v.vakata.css.add_sheet({str:".jstree .jstree-real-checkbox { display:none; } ",title:"jstree"})});var N=jQuery;N.vakata.xslt=function(a,b,c){var d=!1,f,g,h;if(!1===d&&window.ActiveXObject)try{d=new ActiveXObject("Msxml2.XSLTemplate"),g=new ActiveXObject("Msxml2.DOMDocument"),g.loadXML(a),h=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),h.loadXML(b),d.stylesheet=h,f=d.createProcessor(),f.input=g,f.transform(),d=f.output}catch(j){}a=N.parseXML(a);b=N.parseXML(b);!1===d&&"undefined"!==
typeof XSLTProcessor&&(f=new XSLTProcessor,f.importStylesheet(b),d=f.transformToFragment(a,document),d=N("<div />").append(d).html());!1===d&&"undefined"!==typeof a.transformNode&&(d=a.transformNode(b));c.call(null,d)};var ba={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">\t<xsl:call-template name="nodes">\t\t<xsl:with-param name="node" select="/root" />\t</xsl:call-template></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<ul>\t<xsl:for-each select="$node/item">\t\t<xsl:variable name="children" select="count(./item) &gt; 0" />\t\t<li>\t\t\t<xsl:attribute name="class">\t\t\t\t<xsl:if test="position() = last()">jstree-last </xsl:if>\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t\t\t</xsl:choose>\t\t\t\t<xsl:value-of select="@class" />\t\t\t</xsl:attribute>\t\t\t<xsl:for-each select="@*">\t\t\t\t<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t</xsl:if>\t\t\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t\t\t<xsl:for-each select="content/name">\t\t\t\t<a>\t\t\t\t<xsl:attribute name="href">\t\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t\t\t</xsl:choose>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t\t\t<xsl:for-each select="@*">\t\t\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t\t</xsl:if>\t\t\t\t</xsl:for-each>\t\t\t\t\t<ins>\t\t\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t\t\t</xsl:attribute>\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t\t\t</ins>\t\t\t\t\t<xsl:copy-of select="./child::node()" />\t\t\t\t</a>\t\t\t</xsl:for-each>\t\t\t<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>\t\t</li>\t</xsl:for-each>\t</ul></xsl:template></xsl:stylesheet>',
flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">\t<ul>\t<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">\t\t<xsl:call-template name="nodes">\t\t\t<xsl:with-param name="node" select="." />\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t</xsl:call-template>\t</xsl:for-each>\t</ul></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<xsl:param name="is_last" />\t<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />\t<li>\t<xsl:attribute name="class">\t\t<xsl:if test="$is_last = true()">jstree-last </xsl:if>\t\t<xsl:choose>\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t</xsl:choose>\t\t<xsl:value-of select="@class" />\t</xsl:attribute>\t<xsl:for-each select="@*">\t\t<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t</xsl:if>\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t<xsl:for-each select="content/name">\t\t<a>\t\t<xsl:attribute name="href">\t\t\t<xsl:choose>\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t</xsl:choose>\t\t</xsl:attribute>\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t<xsl:for-each select="@*">\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t</xsl:if>\t\t</xsl:for-each>\t\t\t<ins>\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t</ins>\t\t\t<xsl:copy-of select="./child::node()" />\t\t</a>\t</xsl:for-each>\t<xsl:if test="$children">\t\t<ul>\t\t<xsl:for-each select="//item[@parent_id=$node/attribute::id]">\t\t\t<xsl:call-template name="nodes">\t\t\t\t<xsl:with-param name="node" select="." />\t\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t\t</xsl:call-template>\t\t</xsl:for-each>\t\t</ul>\t</xsl:if>\t</li></xsl:template></xsl:stylesheet>'},
ca=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};N.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_xml(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){var b=this._get_settings().xml_data,a=this._get_node(a);return-1==
a||!a||!b.ajax&&!N.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_xml:function(a,b,c){var d=this.get_settings().xml_data,f=function(){},g=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case N.isFunction(d.data):d.data.call(this,a,N.proxy(function(c){this.parse_xml(c,N.proxy(function(c){c&&
(c=c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length?(c=N(c),-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c),a.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!a||-1===a):(!a||-1==a)&&this.parse_xml(d.data,N.proxy(function(c){c?(c=c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length&&(c=N(c),this.get_container().children("ul").empty().append(c.children()),d.clean_node&&this.clean_node(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},this));break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&a&&-1!==a:f=function(b,f,g){var h=this.get_settings().xml_data.ajax.error;
h&&h.call(this,b,f,g);-1!==a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===f&&d.correct_state&&this.correct_state(a)):"success"===f&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},g=function(c,g,h){var c=h.responseText,j=this.get_settings().xml_data.ajax.success;j&&(c=j.call(this,c,g,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return f.call(this,h,g,"");this.parse_xml(c,
N.proxy(function(c){c&&(c=c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length?(c=N(c),-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c),a.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},d.ajax.context=this,d.ajax.error=f,d.ajax.success=g,d.ajax.dataType||(d.ajax.dataType="xml"),N.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,a)),N.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,a)),N.ajax(d.ajax)}},parse_xml:function(a,b){var c=this._get_settings().xml_data;N.vakata.xslt(a,ba[c.xsl],b)},get_xml:function(a,b,c,d,f){var g="",h=this._get_settings(),j=this,l,n,p,k,q;a||(a="flat");f||(f=0);b=this._get_node(b);if(!b||-1===b)b=this.get_container().find("> ul > li");
c=N.isArray(c)?c:["id","class"];!f&&(this.data.types&&-1===N.inArray(h.types.type_attr,c))&&c.push(h.types.type_attr);d=N.isArray(d)?d:[];f||(h.xml_data.get_include_preamble&&(g+='<?xml version="1.0" encoding="UTF-8"?>'),g+="<root>");b.each(function(){g+="<item";p=N(this);N.each(c,function(a,b){var c=p.attr(b);if(!h.xml_data.get_skip_empty||"undefined"!==typeof c)g+=" "+b+'="'+ca((" "+(c||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'});p.hasClass("jstree-open")&&
(g+=' state="open"');p.hasClass("jstree-closed")&&(g+=' state="closed"');"flat"===a&&(g+=' parent_id="'+ca(f)+'"');g+=">";g+="<content>";k=p.children("a");k.each(function(){l=N(this);q=!1;g+="<name";-1!==N.inArray("languages",h.plugins)&&N.each(h.languages,function(a,b){if(l.hasClass(b))return g+=' lang="'+ca(b)+'"',q=b,!1});d.length&&N.each(d,function(a,b){var c=l.attr(b);if(!h.xml_data.get_skip_empty||"undefined"!==typeof c)g+=" "+b+'="'+ca((" "+c||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig,
" ").replace(/^ /,"").replace(/ $/,""))+'"'});l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(g+=' icon="'+ca(l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"');l.children("ins").get(0).style.backgroundImage.length&&(g+=' icon="'+ca(l.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"');g+=">";g+="<![CDATA["+
j.get_text(l,q)+"]]\>";g+="</name>"});g+="</content>";n=p[0].id||!0;p=p.find("> ul > li");n=p.length?j.get_xml(a,p,c,d,n):"";"nest"==a&&(g+=n);g+="</item>";"flat"==a&&(g+=n)});f||(g+="</root>");return g}}});var P=jQuery;8<=P().jquery.split(".")[1]?(P.expr[":"].jstree_contains=P.expr.createPseudo(function(a){return function(b){return 0<=(b.textContent||b.innerText||"").toLowerCase().indexOf(a.toLowerCase())}}),P.expr[":"].jstree_title_contains=P.expr.createPseudo(function(a){return function(b){return 0<=
(b.getAttribute("title")||"").toLowerCase().indexOf(a.toLowerCase())}})):(P.expr[":"].jstree_contains=function(a,b,c){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())},P.expr[":"].jstree_title_contains=function(a,b,c){return 0<=(a.getAttribute("title")||"").toLowerCase().indexOf(c[3].toLowerCase())});P.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=P();this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",
function(a,b){P(this).children("ul").find("li").hide().removeClass("jstree-last");b.rslt.nodes.parentsUntil(".jstree").addBack().show().filter("ul").each(function(){P(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){P(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(a,b){if(""===P.trim(a))this.clear_search();else{var c=
this.get_settings().search,d=this,f=function(){};this.data.search.str=a;if(!b&&!1!==c.ajax&&0<this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length){this.search.supress_callback=!0;f=function(a,b,c){var d=this.get_settings().search.ajax.success;d&&(a=d.call(this,a,b,c)||a);this.data.search.to_open=a;this._search_open()};c.ajax.context=this;c.ajax.error=function(){};c.ajax.success=f;P.isFunction(c.ajax.url)&&(c.ajax.url=c.ajax.url.call(this,a));P.isFunction(c.ajax.data)&&(c.ajax.data=
c.ajax.data.call(this,a));c.ajax.data||(c.ajax.data={search_string:a});if(!c.ajax.dataType||/^json/.exec(c.ajax.dataType))c.ajax.dataType="json";P.ajax(c.ajax)}else this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+c.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){d.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,
str:a})}},clear_search:function(){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=P()},_search_open:function(){var a=this,b=!0,c=[],d=[];this.data.search.to_open.length&&(P.each(this.data.search.to_open,function(a,b){if("#"==b)return!0;P(b).length&&P(b).is(".jstree-closed")?c.push(b):d.push(b)}),c.length&&(this.data.search.to_open=d,P.each(c,function(b,c){a.open_node(c,function(){a._search_open(!0)})}),b=!1));b&&this.search(this.data.search.str,
!0)}}});var G=jQuery;G.vakata.context={hide_on_mouseleave:!1,cnt:G("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(a,b,c,d,f,g,h){G.vakata.context.rtl=!!h;if(a=G.vakata.context.parse(a)){G.vakata.context.vis=!0;G.vakata.context.tgt=b;G.vakata.context.par=g||b||null;G.vakata.context.data=f||null;G.vakata.context.cnt.html(a).css({visibility:"hidden",display:"block",left:0,top:0});if(G.vakata.context.hide_on_mouseleave)G.vakata.context.cnt.one("mouseleave",
function(){G.vakata.context.hide()});f=G.vakata.context.cnt.height();g=G.vakata.context.cnt.width();c+g>G(document).width()&&(c=G(document).width()-(g+5),G.vakata.context.cnt.find("li > ul").addClass("right"));d+f>G(document).height()&&(d-=f+b[0].offsetHeight,G.vakata.context.cnt.find("li > ul").addClass("bottom"));G.vakata.context.cnt.css({left:c,top:d}).find("li:has(ul)").bind("mouseenter",function(){var a=G(document).width(),b=G(document).height(),c=G(this).children("ul").show();a!==G(document).width()&&
c.toggleClass("right");b!==G(document).height()&&c.toggleClass("bottom")}).bind("mouseleave",function(){G(this).children("ul").hide()}).end().css({visibility:"visible"}).show();G(document).triggerHandler("context_show.vakata")}},hide:function(){G.vakata.context.vis=!1;G.vakata.context.cnt.attr("class","").css({visibility:"hidden"});G(document).triggerHandler("context_hide.vakata")},parse:function(a,b){if(!a)return!1;var c="",d=!1,f=!0;b||(G.vakata.context.func={});c+="<ul>";G.each(a,function(a,b){if(!b)return!0;
G.vakata.context.func[a]=b.action;!f&&b.separator_before&&(c+="<li class='vakata-separator vakata-separator-before'></li>");f=!1;c+="<li class='"+(b._class||"")+(b._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";b.icon&&-1===b.icon.indexOf("/")&&(c+=" class='"+b.icon+"' ");b.icon&&-1!==b.icon.indexOf("/")&&(c+=" style='background:url("+b.icon+") center center no-repeat;' ");c+=">&#160;</ins><a href='#' rel='"+a+"'>";b.submenu&&(c+="<span style='float:"+(G.vakata.context.rtl?"left":"right")+
";'>&raquo;</span>");c+=b.label+"</a>";b.submenu&&(d=G.vakata.context.parse(b.submenu,!0))&&(c+=d);c+="</li>";b.separator_after&&(c+="<li class='vakata-separator vakata-separator-after'></li>",f=!0)});c=c.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");c+="</ul>";G(document).triggerHandler("context_parse.vakata");return 10<c.length?c:!1},exec:function(a){return G.isFunction(G.vakata.context.func[a])?(G.vakata.context.func[a].call(G.vakata.context.data,G.vakata.context.par),
!0):!1}};G(function(){G.vakata.css.add_sheet({str:"#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ",
title:"vakata"});G.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(){!G(this).parent().hasClass("jstree-contextmenu-disabled")&&G.vakata.context.exec(G(this).attr("rel"))?G.vakata.context.hide():G(this).blur()}).delegate("a","mouseover",function(){G.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");G(document).bind("mousedown",function(a){G.vakata.context.vis&&!G.contains(G.vakata.context.cnt[0],a.target)&&
G.vakata.context.hide()});"undefined"!==typeof G.hotkeys&&G(document).bind("keydown","up",function(a){if(G.vakata.context.vis){var b=G.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();b.length||(b=G.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","down",function(a){if(G.vakata.context.vis){var b=
G.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();b.length||(b=G.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","right",function(a){G.vakata.context.vis&&(G.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),
a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","left",function(a){G.vakata.context.vis&&(G.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","esc",function(a){G.vakata.context.hide();a.preventDefault()}).bind("keydown","space",function(a){G.vakata.context.cnt.find(".vakata-hover").last().children("a").click();a.preventDefault()})});G.jstree.plugin("contextmenu",
{__init:function(){this.get_container().delegate("a","contextmenu.jstree",G.proxy(function(a){a.preventDefault();G(a.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(a.currentTarget,a.pageX,a.pageY)},this)).delegate("a","click.jstree",G.proxy(function(){this.data.contextmenu&&G.vakata.context.hide()},this)).bind("destroy.jstree",G.proxy(function(){this.data.contextmenu&&G.vakata.context.hide()},this));G(document).bind("context_hide.vakata",G.proxy(function(){this.data.contextmenu=
!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.is_selected(a)?this.remove():this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,
separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(a,b,c){var a=this._get_node(a),d=this.get_settings().contextmenu,f=a.children("a:visible:eq(0)"),g=!1,g=!1;d.select_node&&(this.data.ui&&!this.is_selected(a))&&(this.deselect_all(),this.select_node(a,
!0));if(d.show_at_node||"undefined"===typeof b||"undefined"===typeof c)g=f.offset(),b=g.left,c=g.top+this.data.core.li_height;g=a.data("jstree")&&a.data("jstree").contextmenu?a.data("jstree").contextmenu:d.items;G.isFunction(g)&&(g=g.call(this,a));this.data.contextmenu=!0;G.vakata.context.show(g,f,b,c,this,a,this._get_settings().core.rtl);this.data.themes&&G.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}});var M=jQuery;M.jstree.plugin("types",{__init:function(){var b=
this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",M.proxy(function(){var a=b.type_attr,c="",d=this;M.each(b.types,function(b,f){M.each(f,function(a){/^(max_depth|max_children|icon|valid_children)$/.test(a)||d.data.types.attach_to.push(a)});if(!f.icon)return!0;if(f.icon.image||f.icon.position)c="default"==b?c+(".jstree-"+d.get_index()+" a > .jstree-icon { "):c+(".jstree-"+d.get_index()+" li["+a+'="'+b+'"] > a > .jstree-icon { '),f.icon.image&&(c+=" background-image:url("+
f.icon.image+"); "),c=f.icon.position?c+(" background-position:"+f.icon.position+"; "):c+" background-position:0 0; ",c+="} "});""!==c&&M.vakata.css.add_sheet({str:c,title:"jstree-types"})},this)).bind("before.jstree",M.proxy(function(a,b){var c,d;if((c=(c=this._get_settings().types.use_data?this._get_node(b.args[0]):!1)&&-1!==c&&c.length?c.data("jstree"):!1)&&c.types&&!1===c.types[b.func])return a.stopImmediatePropagation(),!1;if(-1!==M.inArray(b.func,this.data.types.attach_to)&&b.args[0]&&(b.args[0].tagName||
b.args[0].jquery))if(c=this._get_settings().types.types,d=this._get_type(b.args[0]),(c[d]&&"undefined"!==typeof c[d][b.func]||c["default"]&&"undefined"!==typeof c["default"][b.func])&&!1===this._check(b.func,b.args[0]))return a.stopImmediatePropagation(),!1},this));a&&this.get_container().bind("load_node.jstree set_type.jstree",M.proxy(function(a,b){var c=b&&b.rslt&&b.rslt.obj&&-1!==b.rslt.obj?this._get_node(b.rslt.obj).parent():this.get_container_ul(),d=!1,f=this._get_settings().types;M.each(f.types,
function(a,b){if(b.icon&&(b.icon.image||b.icon.position))d="default"===a?c.find("li > a > .jstree-icon"):c.find("li["+f.type_attr+"='"+a+"'] > a > .jstree-icon"),b.icon.image&&d.css("backgroundImage","url("+b.icon.image+")"),d.css("backgroundPosition",b.icon.position||"0 0")})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(a,b){b.type&&this._get_settings().types.use_data&&
this.set_type(b.type,a)},_get_type:function(a){a=this._get_node(a);return!a||!a.length?!1:a.attr(this._get_settings().types.type_attr)||"default"},set_type:function(a,b){var b=this._get_node(b),c=!b.length||!a?!1:b.attr(this._get_settings().types.type_attr,a);c&&this.__callback({obj:b,type:a});return c},_check:function(a,b,c){var b=this._get_node(b),d=!1,f=this._get_type(b),g=0,h=this,j=this._get_settings().types,l=!1;if(-1===b)if(j[a])d=j[a];else return;else{if(!1===f)return;(l=j.use_data?b.data("jstree"):
!1)&&l.types&&"undefined"!==typeof l.types[a]?d=l.types[a]:j.types[f]&&"undefined"!==typeof j.types[f][a]?d=j.types[f][a]:j.types["default"]&&"undefined"!==typeof j.types["default"][a]&&(d=j.types["default"][a])}M.isFunction(d)&&(d=d.call(this,b));"max_depth"===a&&(-1!==b&&!1!==c&&-2!==j.max_depth&&0!==d)&&b.children("a:eq(0)").parentsUntil(".jstree","li").each(function(b){if(-1!==j.max_depth&&0>=j.max_depth-(b+1))return d=0,!1;g=0===b?d:h._check(a,this,!1);if(-1!==g&&0>=g-(b+1))return d=0,!1;if(0<=
g&&(g-(b+1)<d||0>d))d=g-(b+1);if(0<=j.max_depth&&(j.max_depth-(b+1)<d||0>d))d=j.max_depth-(b+1)});return d},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),b=a.rt._get_settings().types,c=a.rt._check("max_children",a.cr),d=a.rt._check("max_depth",a.cr),f=a.rt._check("valid_children",a.cr),g=0,h=1;if("none"===f||M.isArray(f)&&(a.ot&&a.ot._get_type)&&(a.o.each(function(){if(-1===M.inArray(a.ot._get_type(this),f))return h=!1}),!1===h)||-2!==b.max_children&&-1!==c&&(g=-1===
a.cr?this.get_container().find("> ul > li").not(a.o).length:a.cr.find("> ul > li").not(a.o).length,g+a.o.length>c))return!1;if(-2!==b.max_depth&&-1!==d){h=0;if(0===d)return!1;if("undefined"===typeof a.o.d){for(b=a.o;0<b.length;)b=b.find("> ul > li"),h++;a.o.d=h}if(0>d-a.o.d)return!1}return!0},create_node:function(a,b,c,d,f,g){if(!g&&(f||this._is_loaded(a))){var h="string"==typeof b&&b.match(/^before|after$/i)&&-1!==a?this._get_parent(a):this._get_node(a),j=this._get_settings().types,l=this._check("max_children",
h),n=this._check("max_depth",h),p=this._check("valid_children",h);"string"===typeof c&&(c={data:c});c||(c={});if("none"===p)return!1;if(M.isArray(p))if(!c.attr||!c.attr[j.type_attr])c.attr||(c.attr={}),c.attr[j.type_attr]=p[0];else if(-1===M.inArray(c.attr[j.type_attr],p))return!1;if(-2!==j.max_children&&-1!==l&&(h=-1===h?this.get_container().find("> ul > li").length:h.find("> ul > li").length,h+1>l)||-2!==j.max_depth&&-1!==n&&0>n-1)return!1}return this.__call_old(!0,a,b,c,d,f,g)}}});var Y=jQuery;
Y.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0);this.data.html_data.original_container_html.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_html(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){a=this._get_node(a);return-1==a||!a||
!this._get_settings().html_data.ajax&&!Y.isFunction(this._get_settings().html_data.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_html:function(a,b,c){var d,f=this.get_settings().html_data,g=function(){};d=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case Y.isFunction(f.data):f.data.call(this,a,Y.proxy(function(c){c&&""!==c&&c.toString&&""!==c.toString().replace(/^[\s\n]+$/,
"")?(c=Y(c),c.is("ul")||(c=Y("<ul />").append(c)),-1==a||!a?this.get_container().children("ul").empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},
this));break;case !f.data&&!f.ajax:if(!a||-1==a)this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();b&&b.call(this);break;case !!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!a||-1===a):if(!a||
-1==a)d=Y(f.data),d.is("ul")||(d=Y("<ul />").append(d)),this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();b&&b.call(this);break;case !f.data&&!!f.ajax||!!f.data&&!!f.ajax&&a&&-1!==a:a=this._get_node(a),g=function(b,
d,g){var h=this.get_settings().html_data.ajax.error;h&&h.call(this,b,d,g);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===d&&f.correct_state&&this.correct_state(a)):"success"===d&&f.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},d=function(c,d,h){var j=this.get_settings().html_data.ajax.success;j&&(c=j.call(this,c,d,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return g.call(this,
h,d,"");c?(c=Y(c),c.is("ul")||(c=Y("<ul />").append(c)),-1==a||!a?this.get_container().children("ul").empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},
f.ajax.context=this,f.ajax.error=g,f.ajax.success=d,f.ajax.dataType||(f.ajax.dataType="html"),Y.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a)),Y.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),Y.ajax(f.ajax)}}}});Y.jstree.defaults.plugins.push("html_data");var Q=jQuery;Q.jstree.plugin("themeroller",{__init:function(){var a=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",
function(b){Q(b.currentTarget).hasClass("jstree-loading")||Q(this).addClass(a.item_h)}).delegate("a","mouseleave.jstree",function(){Q(this).removeClass(a.item_h)}).bind("init.jstree",Q.proxy(function(a,b){b.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(b.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",Q.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",
Q.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",Q.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("delete_node.jstree",Q.proxy(function(a,b){this._themeroller(b.rslt.parent)},this)).bind("correct_state.jstree",Q.proxy(function(b,c){c.rslt.obj.children("ins.jstree-icon").removeClass(a.opened+" "+a.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return-1===this.className.toString().replace(a.item_clsd,"").replace(a.item_open,"").replace(a.item_leaf,
"").indexOf("ui-icon-")}).removeClass(a.item_open+" "+a.item_clsd).addClass(a.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",Q.proxy(function(b,c){c.rslt.obj.children("a").addClass(a.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",Q.proxy(function(){this.get_container().find("a."+a.item_a).removeClass(a.item_a).end().find("a.jstree-clicked").addClass(a.item_a)},this)).bind("dehover_node.jstree",Q.proxy(function(b,c){c.rslt.obj.children("a").removeClass(a.item_h)},this)).bind("hover_node.jstree",
Q.proxy(function(b,c){this.get_container().find("a."+a.item_h).not(c.rslt.obj).removeClass(a.item_h);c.rslt.obj.children("a").addClass(a.item_h)},this)).bind("move_node.jstree",Q.proxy(function(a,b){this._themeroller(b.rslt.o);this._themeroller(b.rslt.op)},this))},__destroy:function(){var a=this._get_settings().themeroller,b=["ui-icon"];Q.each(a,function(a,c){c=c.split(" ");c.length&&(b=b.concat(c))});this.get_container().removeClass("ui-widget-content").find("."+b.join(", .")).removeClass(b.join(" "))},
_fn:{_themeroller:function(a){var b=this._get_settings().themeroller,a=!a||-1==a?this.get_container_ul():this._get_node(a),a=!a||-1==a?this.get_container_ul():a.parent();a.find("li.jstree-closed").children("ins.jstree-icon").removeClass(b.opened).addClass("ui-icon "+b.closed).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+
" "+b.item_open).addClass(b.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(b.closed).addClass("ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+" "+b.item_clsd).addClass(b.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(b.closed+
" ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_clsd+" "+b.item_open).addClass(b.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",
item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}});Q(function(){Q.vakata.css.add_sheet({str:".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }",title:"jstree"})});var ma=jQuery;ma.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",ma.proxy(function(a,b){var c=[],d=!0,f;"move_node"==b.func&&(!0===b.args[4]&&b.args[0].o&&b.args[0].o.length)&&(b.args[0].o.children("a").each(function(){c.push(ma(this).text().replace(/^\s+/g,
""))}),d=this._check_unique(c,b.args[0].np.find("> ul > li").not(b.args[0].o),"move_node"));if("create_node"==b.func&&(b.args[4]||this._is_loaded(b.args[0]))){d=this._get_node(b.args[0]);if(b.args[1]&&("before"===b.args[1]||"after"===b.args[1]))if(d=this._get_parent(b.args[0]),!d||-1===d)d=this.get_container();"string"===typeof b.args[2]?c.push(b.args[2]):!b.args[2]||!b.args[2].data?c.push(this._get_string("new_node")):c.push(b.args[2].data);d=this._check_unique(c,d.find("> ul > li"),"create_node")}if("rename_node"==
b.func){c.push(b.args[1]);f=this._get_node(b.args[0]);d=this._get_parent(f);if(!d||-1===d)d=this.get_container();d=this._check_unique(c,d.find("> ul > li").not(f),"rename_node")}if(!d)return a.stopPropagation(),!1},this))},defaults:{error_callback:ma.noop},_fn:{_check_unique:function(a,b,c){var d=[],f=!0;b.children("a").each(function(){d.push(ma(this).text().replace(/^\s+/g,""))});if(!d.length||!a.length)return!0;ma.each(a,function(a,b){if(-1!==ma.inArray(b,d))return f=!1});f||this._get_settings().unique.error_callback.call(null,
a,b,c);return f},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),b=[];return a.o&&a.o.length?(a.o.children("a").each(function(){b.push(ma(this).text().replace(/^\s+/g,""))}),this._check_unique(b,a.np.find("> ul > li").not(a.o),"check_move")):!0}}});var ha=jQuery;ha.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1;this.data.wholerow.to=!1;this.get_container().bind("init.jstree",
ha.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",ha.proxy(function(a,b){this._prepare_wholerow_span(b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",ha.proxy(function(a,b){this.data.to&&clearTimeout(this.data.to);var c=this,d=b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1;this.data.to=
setTimeout(function(){c._prepare_wholerow_ul(d)},0)},this)).bind("deselect_all.jstree",ha.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",ha.proxy(function(a,b){b.rslt.obj.each(function(){b.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((ha(this).offset().top-b.inst.get_container().offset().top+
b.inst.get_container()[0].scrollTop)/b.inst.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",ha.proxy(function(a,b){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));"hover_node"===a.type&&this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((b.rslt.obj.offset().top-
this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children(".jstree-hovered").attr("class"))},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(a){var b=ha(a.currentTarget);"A"===a.target.tagName||"INS"===a.target.tagName&&b.closest("li").is(".jstree-open, .jstree-closed")||(b.closest("li").children("a:visible:eq(0)").click(),a.stopImmediatePropagation())}).delegate("li","mouseover.jstree",
ha.proxy(function(a){a.stopImmediatePropagation();if(ha(a.currentTarget).children(".jstree-hovered, .jstree-clicked").length)return!1;this.hover_node(a.currentTarget);return!1},this)).delegate("li","mouseleave.jstree",ha.proxy(function(a){ha(a.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(a.currentTarget)},this));(b||a)&&ha.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();
this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(a){a=!a||-1==a?this.get_container().find("> ul > li"):this._get_node(a);!1!==a&&a.each(function(){ha(this).find("li").addBack().each(function(){var a=ha(this);if(a.children(".jstree-wholerow-span").length)return!0;a.prepend("<span class='jstree-wholerow-span' style='width:"+18*a.parentsUntil(".jstree","li").length+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var a=this.get_container().children("ul").eq(0),
c=a.html();a.addClass("jstree-wholerow-real");this.data.wholerow.last_html!==c&&(this.data.wholerow.last_html=c,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(a.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(a.parent()[0].scrollWidth).css("top",-1*(a.height()+(b?5:0))).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}});ha(function(){var c=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";
f&&(c+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } ");if(b||a)c+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";ha.vakata.css.add_sheet({str:c,title:"jstree"})});var O=jQuery,Ia=
["getChildren","getChildrenCount","getAttr","getName","getProps"];O.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(a,b){var c=-1==a?this._get_settings().model.object:a.data("jstree_model"),d=c,f=Ia,g=!0,d=d||{},f=[].concat(f);O.each(f,function(a,b){if(!O.isFunction(d[b]))return g=!1});if(!g)return b.call(null,!1);this._get_settings().model.async?c.getChildren(O.proxy(function(a){this.model_done(a,
b)},this)):this.model_done(c.getChildren(),b)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(a,b){var c=[],d=this._get_settings(),f=this;O.isArray(a)||(a=[a]);O.each(a,function(a,b){var g=b.getProps()||{};g.attr=b.getAttr()||{};b.getChildrenCount()&&(g.state="closed");g.data=b.getName();O.isArray(g.data)||(g.data=[g.data]);f.data.types&&O.isFunction(b.getType)&&(g.attr[d.types.type_attr]=b.getType());g.attr.id&&d.model.id_prefix&&(g.attr.id=d.model.id_prefix+g.attr.id);g.metadata||
(g.metadata={});g.metadata.jstree_model=b;c.push(g)});b.call(null,c)}}})}})();$(document).ready(function(){1==$("#tree").length&&($(".level-3,.level-4,.level-5,.level-2").parent("li").prepend('<ins class="jstree-icon"></ins>'),$(".jstree-icon").click(function(){var a=$(this).parent("li").attr("class");null!==navigator.userAgent.match(/iPod/i)?"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").css("display","none").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),
$(this).siblings("ul.level-2, ul.level-3, ul.level-4").css("display","block").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").css("display","none")):"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").hide("slow").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),$(this).siblings("ul.level-2, ul.level-3, ul.level-4").show("slow").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").hide("slow"))}))});tm.lazyload={};tm.lazyload.renew=function(a){$.fn.lazyload&&(a?$(".js-thumbnail-img").each(function(a,f){f=$(f);$(f).closest(".flex-viewport").is(":appeared")||f.is(":appeared")?(f.attr("src",f.data("original")),$.removeData(f,"original")):f.lazyload({effect:"fadeIn"})}):$(".js-thumbnail-img").lazyload({effect:"fadeIn",load:function(){$("img[data-original]").each(function(a,f){f.loaded&&$.removeData(f,"original")})}}))};tm.thumbnail=function(){};tm.thumbnail.renew=function(a){tm.lazyload.renew(a);tm.sprite.svginit();return $.Deferred().resolve()};tm.sprite=function(){};tm.sprite.svginit=function(){$(".svg").fixSVGStackBackground();$(".svg-image").fixSVGStack()};function formInit(a){function b(a){var b=document.createElement("div");b.innerHTML=a;return b.firstChild.nodeValue}function f(a){var b=$(a).closest("form"),a=b.serialize(),c=b.attr("action");$.ajax({url:c,data:a,method:"POST",dataType:"json",success:function(a){$("form#tellForm .btn-primary.btn-small").removeClass("progress_bar").find(".progress-striped").hide();$("form#tellForm input, form#tellForm textarea").removeAttr("disabled");if(a&&a.type)switch(a.type){case "ok":$("#result-box").html('<div class="alert" style="display: none;margin: 10px 16px -8px;"><button type="button" class="close" data-dismiss="alert">&times;</button>Your message has been successfully sent.<br>Have a nice day.</div>');
$("div.alert").slideDown();a=jQuery.Event("keydown",{keyCode:64});$('input[name="friend_email"]',b).val("");$('input[name="friend_name"]',b).val("");$('form#tellForm input[name="friend_name"]').focus().trigger(a);$('form#tellForm input[name="friend_email"]').focus().trigger(a);$('form#tellForm textarea[name="message"]').focus();break;case "error":$("#result-box").html('<div class="alert" style="display: none;margin: 10px 16px -8px;"><button type="button" class="close" data-dismiss="alert">&times;</button>'+
a.data+"</div>"),$("div.alert").slideDown().css("border","1px solid #B94A48")}}})}var c=Boolean(a.isAutorized),d=a.name||"",g=a.email||"",j=a.templateId;$("form#tellForm .btn-primary.btn-small").click(function(){var a=$(this).closest("form"),b=a.find('input[name="type"]').val(),c=a.find('input[name="mode"]').val(),d=a.find('input[name="templ"]').val(),g=a.find('#submit_phantom [name="email"]'),h=a.find('#submit_phantom [name="name"]'),y=a.find('#submit_phantom [name="message_send"]');"3"===b&&("submit-tell-a-friend"===
c&&d===String(j)&&""===g.val()&&""===h.val()&&""===y.val())&&(a.find("input").each(function(){this.value=$.trim(this.value)}),a.validateForm()&&(f(this),$(this).addClass("progress_bar").find(".progress-striped").show(),$("form#tellForm input, form#tellForm textarea").attr("disabled","")));return!1});$("form#tellForm input").keydown(function(a){if(13===a.keyCode&&0===a.charCode)return $(this).closest("form").validateForm()&&(f(this),$("form#tellForm .btn-primary.btn-small").addClass("progress_bar").find(".progress-striped").show(),
$("form#tellForm input, form#tellForm textarea").attr("disabled","")),!1});$(".js-tell-a-friend").click(function(){c&&($('form#tellForm input[name="ow_name"]').val(b(d)).trigger("setValue.placeholder"),$('form#tellForm input[name="ow_email"]').val(b(g)).trigger("setValue.placeholder"));return!1});jQuery("#result-box button.close").click(function(){$("#result-box").css("padding","0px")})}
function openSelectedLicenseAccordionBlock(a){$(".js-preview-accordion-panel:not(.active)").each(function(){$(this).data("variant")==a&&$(this).find(".panel-title").click()})}function updateSideBarPriceBlockFromSessionCookie(a,b){openSelectedLicenseAccordionBlock(a);if(0<b.length){$('.js-preview-offer input[type="checkbox"]').prop("checked",!1).siblings("a").removeClass("active");for(var f in b)$('.js-preview-offer input[value="'+b[f]+'"]').prop("checked",!0).siblings("a").addClass("active")}}
function updateItemBlockInPopup(a,b){$(".js-popup-cart-item.offer").each(function(){$(this).addClass("js-none");for(var a in b)$(this).hasClass("offer-"+b[a])&&$(this).removeClass("js-none")})}function updateBuyButtonOnDemoPage(){$(".js-demo-buy-button, .js-demo-buy-button-dropdown-toggle").addClass("js-none");$(".already-get, .js-already-get").removeClass("js-none")}
function changeBuyButtonOnDemoPage(a){$(".js-demo-buy-button").each(function(){$(this).data("variant")==a?$(this).removeClass("js-none"):$(this).addClass("js-none")})}
$(document).ready(function(){1===$("#purchase_options").length&&$(".recommended-services").find(".js-preview-offer a.title").click(function(){$(this).parent().find("input").is(":checked")?($(this).removeClass("active"),$(this).parent().find("input").removeAttr("checked")):($(this).addClass("active"),$(this).parent().find("input").attr("checked",!0));$(".js-preview-accordion-panel").TMCalcPrice()});var a=$(".recommended-services"),b=$(".form_services");0===$("#purchase_options .panel.active").length&&
$("#purchase_options .panel:first").addClass("active").find(".panel-title").click();$("#purchase_options .panel.active").find(".services-container").append(a);$("#purchase_options .panel .panel-heading").click(function(){if($(this).parents(".panel").hasClass("active"))return!1;$(this).parent().siblings().removeClass("active");$(this).parent().addClass("active");var c=$(this).parent(),d=b.find("input:hidden[name=price_variant]");c.find(".services-container").append(a);d.val(c.attr("data-variant"));
$(".js-preview-accordion-panel").TMCalcPrice()}).filter(".active").click();$(document).on("click",".js-preview-offer-checkbox",function(){$(".js-preview-accordion-panel").TMCalcPrice()});$('#main-column>.preview-tabs>ul.nav a[data-toggle="tab"]').filter('[href="#tab-reviews"]').on("show.bs.tab",function(){$(window).data("yotpo-loaded")||($("#tab-reviews .yotpo-main-widget").prepend('<div class="spinner-inline"></div>'),$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href","//staticw2.yotpo.com/"+
window.yotpoAppKey+"/widget.css")),$.ajax({url:"//staticw2.yotpo.com/"+window.yotpoAppKey+"/widget.js",dataType:"script",cache:!0,complete:function(){$("#tab-reviews .yotpo-main-widget .spinner-inline").css("display","none")}}),$(window).data("yotpo-loaded",1))}).end().filter('[href="#tab-about"], [href="#tab-details"]').on("show.bs.tab",function(a){var b=$(this).data("template-id"),a=$(a.target).attr("href"),c=$(a),d=c.data("tab-type"),f=$(a+" .tab-inner-indent");"undefined"!==typeof d&&!c.hasClass("js-tab-loaded")&&
(f.html('<div class="spinner-inline"></div>'),$.ajax({url:"/ajax/preview-tab.php",data:{template:b,tab:d},type:"GET",dataType:"html",cache:!0,complete:function(a){c.addClass("js-tab-loaded");f.html(a.responseText);tm.sprite.svginit()}}))}).end();$("#section_4 .js-review-page").live("click",function(){var a=$(this).attr("data-page"),b=$(this).attr("data-tid"),c=$("#section_4 .tab-inner-indent:first");c.html('<div class="spinner-inline"></div>');$.ajax({url:"/ajax/preview-review.php",data:{templateId:b,
page:a},type:"GET",dataType:"html",cache:!0,complete:function(a){c.html(a.responseText)}});return!1});$("a.open").click(function(){$("#tellForm").find("input, textarea").popover("destroy").removeClass("error")});var f=$.cookie("sc_summary");if(f){var f=$.parseJSON(base64.decode($.cookie("sc_summary"))),c=/(\d+)\.html$/.exec(location.href);if(null!==c&&(c=c[1],"undefined"!=typeof f.t)){for(i in f.t){var d=f.t[i].match(/([\d]+)-([\d\w]+)/);if(d[1]==c){var g=d[2];break}}"undefined"!=typeof f&&"undefined"!=
typeof g&&(f=parseOffersFromCookie(f,c),updateSideBarPriceBlockFromSessionCookie(g,f),$(".js-add-to-cart button").html('<i class="icon-checkmark"></i> Added to Cart'),updateItemBlockInPopup(g,f),updateBuyButtonOnDemoPage(g))}}$(document).on("click",".js-license-popup-button",function(){$(this).parents(".js-license-popup").modal("hide")});$(".js-preview-accordion-panel").TMCalcPrice();$(document).on("click",".js-offer-lear-more-button",function(){var a=$(this).clone(),b="product="+$(this).data("product")+
"&offer="+$(this).data("offer")+"&search_context_id="+$(this).data("search_context_id")+"&is_added="+$(this).data("is_added")+"&offer_presentation_id="+$(this).data("offer_presentation_id")+"&offer_position="+$(this).data("offer_position")+"&offer_channel="+$(this).data("offer_channel"),c=$("#js-cart-short-description-block .modal-body");c.html('<div class="spinner-inline"></div>');$.ajax({url:"/cart-ajax/offerdescription.php",data:b,dataType:"json",cache:!1}).done(function(a){"undefined"!=typeof a&&
"undefined"!=typeof a.box_view&&""!=a.box_view?c.html(a.box_view):$("#js-cart-short-description-block").modal("hide")}).fail(function(){c.html("<span style='color:red'>Server error </span>");$(a).html("Retry");$(a).appendTo(c)})});if(detectCheckoutPage()){var j=function(){var a=$(window).height(),b=$("#footer").outerHeight(!0),c=$("#header").outerHeight(!0);$("#content").css("min-height",a-b-c)};j();$(window).resize(function(){j()})}});
function modifyPriceAccordionBlockByAllowed(a){$(".js-preview-accordion-panel").each(function(){-1==$.inArray($(this).data("variant"),a)&&$(this).css("display","none")})}
function previewPageStart(){"undefined"!==typeof cxApi&&1==cxApi.getChosenVariation("THhfEE5_QyKCH4_ZXO8LKw")&&$(".js-moto-banner").removeClass("js-none");$(".js-owl-carousel").owlCarousel({singleItem:!0,autoHeight:!0,lazyLoad:!0,transitionStyle:"fade"});1254<=$(window).width()&&($(".js-magnifier").append("<span></span><strong></strong>"),$(".js-magnifier").hover(function(){$(this).find("span").css({opacity:"0.15"});$(this).find("strong").css({opacity:"1"})},function(){$(this).find("span").css({opacity:"0"});
$(this).find("strong").css({opacity:"0"})}));$(".switchable-text").each(function(){var a=$(this),b=a.text(),f=a.data("active-text");a.click(function(){a.hasClass("active")?a.removeClass("active").text(b):a.addClass("active").text(f);return!1})});$(".radioblock").find(".radio").live("click",function(){var a=$(this).html();$(this).parent().parent().parent(".radioblock").find(".radio").removeClass("active");$(this).addClass("active");$(this).parent().parent().parent(".radioblock").find('input[type="hidden"]').val(a)});
var a=new Tm.Signin;formInit({isAutorized:a.isSignedIn(),name:a.getUserFullName(),email:a.getUserEmail(),templateId:parseInt($('strong[itemprop="productID"]').html())});tm.search.engine.search(previewEngineSearchParams,"similar").done($.proxy(function(a){0===a.getCount()?$("#similar-block").hide():($("#similar-templates").html("").append(a.getText()||""),CLS44.onDiscountUpdate({target:$("ul#similar-templates")}),$("#similar_templates").flexslider({animation:"slide",animationLoop:!0,
slideshow:!1,slideshowSpeed:7E3,animationDuration:0,controlNav:!1,directionNav:4<a.getCount(),itemWidth:230,itemMargin:0,minItems:3,maxItems:4,move:1,prevText:"",nextText:"",init:function(){setTimeout("tm.thumbnail.renew (true);",1E3)}}))},this));$(".license-popup .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",!1)});$("#product-preview .slides").magnificPopup({delegate:"a.view",type:"image",closeOnContentClick:!1,
closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(a){return a.find("img")}}});$("#tabReviewLink").click(function(){var a=$("html, body"),b=$("#previewTab");a.animate({scrollTop:b.offset().top+1},500);$('#previewTab a[href="#tab-reviews"]').tab("show")});$("#more-tab-details").click(function(){var a=$("html, body"),b=$("#previewTab");a.animate({scrollTop:b.offset().top+1},500);$('#previewTab a[href="#tab-details"]').tab("show")});
$(".js-modal-preview-popup").on("show.bs.modal",function(){$("#product-preview iframe").css("visibility","hidden")});$(".js-modal-preview-popup").on("hide.bs.modal",function(){$("#product-preview iframe").css("visibility","visible");$(document).trigger("stop.cart.load.block.checkout",{button:$(".js-button-add-to-cart"),enableButton:!0})});var b=$("#trial-popup-wrapper"),f=$("#free-trial-form").formHandler({show_submit_button_hint:!1,autofocus_first_field:!1,popover_placement:"left",on_before_submit:function(){b.data("prevent-close",
!0);$(".close-popup").addClass("unhover-close-popup")},on_submit_error:function(){b.data("prevent-close",!1);$(".close-popup").removeClass("unhover-close-popup")},on_submit_success:function(a,d,f){$(".close-popup").removeClass("unhover-close-popup");b.data("prevent-close",!1).find(".js-form-row").hide().end().find(".js-status-row").each(function(){var a=$(".js-existing-user-message",this),b=$(".js-new-user-message",this),c=$(".js-reject-link",this),d=$(".js-confirmation-link a",this),t=c.find("a"),
p=$(".js-template-number",this);d.attr("href",f.confirmation_link);t.attr("href",f.account_link);p.text($("#free-trial-form-tid").val());f.is_new_user?(a.hide(),c.hide(),b.show()):(b.hide(),a.show(),c.show())}).show().end()}});b.find(".js-confirmation-link a, .js-reject-link a").on("click",function(){b.modal("toggle")});b.on("show.bs.modal",function(){f.find("[name=email]").val("").end().formHandler("hide-errors").formHandler("focus-first");b.find(".js-form-row").show().end().find(".js-status-row").hide().end()}).on("shown.bs.modal",
function(){f.formHandler("focus-first")}).on("hide.bs.modal",function(){if($(this).data("prevent-close"))return!1})}function parseOffersFromCookie(a,b){var f=[];for(i in a.o){var c=a.o[i].match(RegExp("([0-9]+)-"+b));c&&f.push(c[1])}return f};$(window).load(function(){detectPreviewPage()&&initPreviewSocialButtons();detectShareList()&&!detectPreviewPage()&&initSocialButtons()});
function initPreviewSocialButtons(){var a="http://www.templatemonster.com"+window.location.pathname;$("#twitter").sharrre({share:{twitter:!0},template:'<a class="box" href="#"><b class="icon-twitter font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,buttons:{twitter:{via:""}},click:function(a){a.simulateClick();a.openPopup("twitter")}});$("#facebook").sharrre({share:{facebook:!0},template:'<a class="box" href="#"><b class="icon-facebook font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,
click:function(a){a.simulateClick();a.openPopup("facebook")}});$("#googleplus").sharrre({share:{googlePlus:!0},urlCurl:"",template:'<a class="box" href="#"><b class="icon-google-plus font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("googlePlus")}})}
function initSocialButtons(){var a=$("#twitter").attr("data-twit-text"),b=$("#twitter").attr("data-twit-via"),f=$("#twitter").attr("data-twit-hashtags"),c=$("#pinterest").attr("data-pin-descr"),d=$("#pinterest").attr("data-pin-media"),g=$("#facebook").attr("data-fc-text"),j=$("#googleplus").attr("data-gp-text"),n="http://www.templatemonster.com"+window.location.pathname;$("#twitter").sharrre({share:{twitter:!0},template:'<a class="box" href="#"><b class="icon-twitter font-icon"></b><span class="count" href="#">{total}</span></a>',
url:n,text:a,enableHover:!1,enableTracking:!0,buttons:{twitter:{url:n,via:b,hashtags:f}},click:function(a){a.simulateClick();a.openPopup("twitter")}});$("#facebook").sharrre({share:{facebook:!0},template:'<a class="box" href="#"><b class="icon-facebook font-icon"></b><span class="count" href="#">{total}</span></a>',url:n,text:g,enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("facebook")}});$("#googleplus").sharrre({share:{googlePlus:!0},urlCurl:"/utils/sharrre.php",
text:j,template:'<a class="box" href="#"><b class="icon-google-plus font-icon"></b><span class="count" href="#">{total}</span></a>',url:n,enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("googlePlus")}});$("#pinterest").sharrre({share:{pinterest:!0},template:'<a class="box" href="#"><b class="icon-pinterest font-icon"></b><span class="count" href="#">{total}</span></a>',url:n,enableHover:!1,enableTracking:!0,buttons:{pinterest:{url:n,media:d,description:c}},click:function(a){a.simulateClick();
a.openPopup("pinterest")}});$("#stumbleupon").sharrre({share:{stumbleupon:!0},urlCurl:"/utils/sharrre.php",template:'<a class="box" href="#"><b class="icon-stumbleupon font-icon"></b><span class="count" href="#">{total}</span></a>',url:n,enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("stumbleupon")}})};(function(a){function b(b,d){a(d.more_button_selector,b).removeClass("half-disabled").removeAttr("disabled").find("div.progress").addClass("js-none").hide()}var f={more_button_selector:".js-reviews-more"};a.fn.reviewsList=function(c){var d=a.extend(f,a.isPlainObject(c)?c:{});a(this).on("click",d.more_button_selector,function(){var c=a(this).parents(".js-reviews:first"),f=c.data("search"),n=c.data("limit"),l=a(c).find(".js-reviews-content>div").size();a(d.more_button_selector,c).addClass("half-disabled").attr("disabled",
"disabled").find("div.progress").removeClass("js-none").show();a.ajax({url:"/ajax/reviews.php",type:"GET",data:{search:f,offset:l,limit:n},async:!0,dataType:"json",success:function(f){f.status&&(a(".js-reviews-content",c).append(f.html),a(c).find(".js-reviews-content>div").size()>=a(c).data("total-count")&&a(d.more_button_selector,c).hide());b(c,d)},error:function(){b(c,d)}});return!1})}})(jQuery);$(document).ready(function(){$("body").on("page.class.js-frontend",function(){$("body").append('<a href="#" class="back-to-top"><i class="icon-arrow-up"></i><span>Up</span></a>');$(window).scroll(function(){220<$(this).scrollTop()?$(".back-to-top").fadeIn(500):$(".back-to-top").fadeOut(500)});$(".back-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})})});$(function(){var a=$("#header .user-menu"),b=$(".sign-in",a),f=$(".sign-in-form",a).hide(),c=$(".help-menu",a).hide(),d=c.prev("a"),g=$(".languages-menu",a).hide(),j=g.prev("a"),n=$(".account-menu",a).hide(),l=n.prev("a");b.click(function(){a.hasClass("signin-form-active")?f.slideUp(function(){a.removeClass("signin-form-active")}):(a.addClass("signin-form-active"),f.slideDown(),jQuery.Event("keydown",{keyCode:64}));0===$(this).parent().find(".account-menu").length&&n.slideUp(function(){a.removeClass("account-menu-active")});
0===$(this).parent().find(".languages-menu").length&&g.slideUp(function(){a.removeClass("languages-menu-active")});0===$(this).parent().find(".help-menu").length&&c.slideUp(function(){a.removeClass("help-menu-active")});return!1});$(document).on("click",function(b){0===$(b.target).parents(".sign-in-form").length&&f.slideUp(function(){a.removeClass("signin-form-active")});0===$(b.target).parents(".account-menu").length&&n.slideUp(function(){a.removeClass("account-menu-active")});0===$(b.target).parents(".languages-menu").length&&
g.slideUp(function(){a.removeClass("languages-menu-active")});0===$(b.target).parents(".help-menu").length&&c.slideUp(function(){a.removeClass("help-menu-active")})});d.click(function(){a.hasClass("help-menu-active")?c.slideUp(function(){a.removeClass("help-menu-active")}):(a.addClass("help-menu-active"),c.slideDown());0===$(this).parent().find(".account-menu").length&&n.slideUp(function(){a.removeClass("account-menu-active")});0===$(this).parent().find(".languages-menu").length&&g.slideUp(function(){a.removeClass("languages-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&f.slideUp(function(){a.removeClass("signin-form-active")});return!1});j.click(function(){a.hasClass("languages-menu-active")?g.slideUp(function(){a.removeClass("languages-menu-active")}):(a.addClass("languages-menu-active"),g.slideDown());0===$(this).parent().find(".account-menu").length&&n.slideUp(function(){a.removeClass("account-menu-active")});0===$(this).parent().find(".help-menu").length&&c.slideUp(function(){a.removeClass("help-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&f.slideUp(function(){a.removeClass("signin-form-active")});return!1});l.click(function(){a.hasClass("account-menu-active")?n.slideUp(function(){a.removeClass("account-menu-active")}):(a.addClass("account-menu-active"),n.slideDown());0===$(this).parent().find(".languages-menu").length&&g.slideUp(function(){a.removeClass("languages-menu-active")});0===$(this).parent().find(".help-menu").length&&c.slideUp(function(){a.removeClass("help-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&f.slideUp(function(){a.removeClass("signin-form-active")});return!1})});$(document).ready(function(){$.cookie("bgv")||($(".badge-big").css("margin-top","0px"),setTimeout(function(){$(".badge-big").animate({"margin-top":"-58px"},400,"easeOutBack")},3E3),Tm.setCookie("bgv","1"))});$(".badge-big").hover(function(){$(this).stop(!0,!1).animate({"margin-top":"0px"},250,"easeOutCirc")},function(){$(this).stop(!1,!0).animate({"margin-top":"-58px"},400,"easeOutBack")});
$(document).ready(function(){$(".js-activate-editing").bind("click",function(){$(this).parents(".js-cart-summary").toggleClass("non_activated_edit activated_edit");return!1})});
$(document).ready(function(){$("body").append('<a href="#" class="back-to-top"><i class="icon-arrow-up"></i><span>Up</span></a>');$(window).scroll(function(){220<$(this).scrollTop()?$(".back-to-top").fadeIn(500):$(".back-to-top").fadeOut(500)});$(".back-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})});
$(window).scroll(function(){if(1===$(".js_wp_button_overlay").length&&(detectWPWelcomePage()||detectWPLandingPresentations()))$(window).scrollTop()>$(".js_wp_button_overlay").offset().top?($("button.js-sticky-btn").parents(".form-wrapper").fadeIn(),$(".js-sticky-btn").fadeIn()):($("button.js-sticky-btn").parents(".form-wrapper").stop(!0,!0).fadeOut(),$(".js-sticky-btn").stop(!0,!0).fadeOut())});
$(document).ready(function(){$('a[href^="#anchor-"]').click(function(){var a=$(this).attr("href");$("html, body").animate({scrollTop:$(a).offset().top},500);return!1})});
$(function(){var a=null;"undefined"!==typeof document.forms.signin&&(a=new Tm.Signin,a.init({submenu_account:".user-menu .account-menu-li",submenu_signin:".user-menu .sign-in-li",submenu_signout:".user-menu .sign-out-li",signin_link:"#signin-link",signin_form:"#signin-form",signin_form_container:"#header .sign-in-form",signin_form_email:"#signin-form-email",signin_form_password:"#signin-form-password",signin_error_container:"#signin-error",signin_error_form:"#signin-form-errors",signin_submit_link:"#signin-form-submit",
signout_link:"#signout-link"}));var b=new Tm.Tracker;b.checkCookie({onComplete:function(){a?a.checkCookie({onComplete:function(){b.trackGaEvent()}}):b.trackGaEvent();"undefined"!=typeof liveChatConfig&&chatInit(liveChatConfig,a)}})});
$(document).ready(function(){function a(){return $(".js-grid-switcher").parent().parent().parent().find(".js-search-listing")}function b(a){var b=$(a+" .show-more-templates"),a=$(a).data("total"),c=b.data("count"),d=b.data("page");$(document).trigger("stop.cart.load",{button:b,callbackFunk:function(){b.prop("disabled",!1)}});a<=d*c&&b.hide()}tm.sprite.svginit();0!==$(".js-typeahead2").length&&($(".js-typeahead2").typeahead([{local:"Bootstrap;Responsive;Cherry Framework;Web Templates;Website Templates;Flash Templates;Flash CMS Templates;Flash Intro Templates;Flash Photo Gallery Templates;SWiSH Templates;Mobile Templates;E-commerce Templates;Magento Themes;PrestaShop Themes;VirtueMart Templates;Jigoshop Themes;osCommerce Templates;ZenCart Templates;OpenCart Templates;CRE Loaded Templates;CMS & Blog Templates;WordPress Themes;Joomla Templates;Drupal Templates;Corporate Design;PowerPoint Templates;Logo Templates;Corporate Identity;Logosets;Icon Sets;Music;Stock Music;Silverlight;Silverlight Templates;Silverlight Intro Templates;Facebook Layouts;Facebook Flash Templates;Facebook Flash CMS Templates;Facebook Templates;Turnkey CMS Facebook Templates;Facebook HTML CMS Templates;Video Templates;After Effects Intros;After Effects Logo Reveals;Video Ecards;HD Graphics Packages;Turnkey Websites;Agriculture;Farm Templates;Cattle Farm Templates;Fruit Templates;Gardening Templates;Poultry Farm Templates;Sheep Farm Templates;Vegetable Templates;Winery Templates;Agriculture Templates;Animals & Pets;Animal Shelter Templates;Pet Shop Templates;Vet Templates;Dog Templates;Cat Templates;Birds Templates;Horse Templates;Fish Templates;Exotic Pets Templates;Reptile Templates;Guinea Pigs Templates;Zoo Templates;Dolphin Templates;Animals & Pets Templates;Wild Life Templates;Pet Sitting Templates;Antique;Antique Store Templates;Architecture;Construction Company Templates;Architecture Templates;Drafting Templates;Art & Photography;Art Templates;Photography Templates;Art & Photography Templates;Auction Templates;Beauty;Beauty Salon Templates;Cosmetics Store Templates;Spa Accessories Templates;Beauty School Templates;Nail Salon Templates;Massage Salon Templates;Hair Salon Templates;Tattoo Salon Templates;Piercing Shop Templates;Beauty Templates;Tanning Salon Templates;Sauna Templates;Books;Book Store Templates;Publishing Company Templates;Book Reviews Templates;Books Templates;Brewery;Pub Templates;Brewery Templates;Business;Consulting Templates;Marketing Agency Templates;Investment Company Templates;Financial Advisor Templates;Accounting Website Templates;Management Company Templates;Advertising Agency Templates;SEO Website Templates;Call Center Templates;Public Relations Templates;Translation Bureau Templates;Business Templates;Insurance Templates;Bank Templates;Merchant Services Templates;Job Portal Templates;Stationery Templates;Office Templates;Cafe and Restaurant;Cafe Templates;BBQ Restaurant Templates;Steakhouse Templates;Asian Restaurant Templates;European Restaurant Templates;Seafood Restaurant Templates;Mexican Restaurant Templates;Fast Food Restaurant Templates;Vegetarian Restaurant Templates;Tapas Restaurant Templates;Pizza Templates;Coffee Shop Templates;Restaurant Reviews Templates;Cocktail Bar Templates;Cafe and Restaurant Templates;Cars;Car Dealer Templates;Car Audio Templates;Car Repair Templates;Car Tuning Templates;Car Rental Templates;Car Club Templates;Car Wash Templates;Car Insurance Templates;Wheels & Tires Templates;Auto Parts Templates;Car Racing Templates;Car Scrap Yard Templates;Bike Shop Templates;Biker Club Templates;Car Templates;Limousine Services Templates;Charity;Charity Templates;Child Charity Templates;Communications;ISP Templates;Satellite TV Templates;VOIP Templates;Communications Templates;Mobile Company Templates;Computers;Computers Templates;Computer Repair Templates;Computer Store Templates;Dating;Dating Templates;Design;Web Design Templates;Design Studio Templates;Designer Portfolio Templates;Education;Swimming School Templates;Religious School Templates;Language School Templates;University Templates;Dance Studio Templates;Flight School Templates;Music School Templates;Business School Templates;Career Education Templates;Library Templates;Cooking School Templates;Education Templates;Traffic School Templates;Primary School Templates;Electronics;Mobile Store Templates;Electronics Review Templates;Video Store Templates;Audio Store Templates;Electronics Templates;Electronics Store Templates;Entertainment;Amusement Park Templates;Tickets Website Templates;Movie Templates;Theater Templates;Astrology Templates;Mobile Content Templates;DVD Store Templates;Event Planner Templates;Toy Store Templates;Flash Games Templates;MP3 Store Templates;Radio Website Templates;E-cards Templates;Fortune Teller Templates;Entertainmnet Templates;Environmental;Solar Energy Templates;Wind Energy Templates;Biofuel Templates;Alternative Power Templates;Environmental Templates;Exterior design;Landscape Design Templates;Garden Design Templates;Exterior Design Templates;Family;Day Care Templates;Babysitter Templates;Family Center Templates;Family Psychologist Templates;Newborn Templates;Summer Camp Templates;Kids Center Templates;Family Templates;Baby Store Templates;Fashion;Lingerie Templates;Handbag Templates;Shoe Store Templates;T-shirt Shop Templates;Apparel Templates;Jeans Templates;Fashion Blog Templates;Swimwear Templates;Model Agency Templates;Model Portfolio Templates;Fashion Templates;Men's Underwear Templates;Watches Templates;Fashion Store Templates;Eye Glasses Templates;Flowers;Flower Shop Templates;Flowers Templates;Food & Drink;Frozen Food Templates;Grocery Store Templates;Spice Shop Templates;Tea Shop Templates;Sweet Shop Templates;Bakery Templates;Wine Templates;Food Store Templates;Ice Cream Templates;Catering Templates;Chef Templates;Cooking Templates;Honey Store Templates;Food & Drink Templates;Water Templates;Games;Games Templates;Game Portal Templates;Gifts;Gifts Templates;Gifts Store Templates;Hobbies & Crafts;Crafts Templates;Holiday Templates;Christmas Templates;Halloween Templates;St. Patrick Green Templates;St. Valentine;Hosting;Hosting Templates;Hotels;Hotel Reviews Templates;Motel Templates;Hotels Templates;Industrial;Gas & Oil Templates;Steelworks Templates;Welding Templates;Mining Company Templates;Civil Engineering Templates;Lighting & Electricity Templates;Industrial Templates;Cement Templates;Timber Templates;Packaging Templates;Interior & Furniture;Interior Design Templates;Feng Shui Templates;Furniture Templates;Home Remodeling Templates;Window Decor Templates;Home Decor Templates;Interior & Furniture Templates;Housewares Templates;Window Templates;Flooring Templates;Internet;Domain Registrar Templates;Email Services Templates;Internet Cafe Templates;Internet Templates;Jewelry;Jewelry Templates;Law;Lawyer Templates;Law Firm Templates;Law Templates;Maintenance Services;Painting Company Templates;Dry Cleaners Templates;Window Cleaning Templates;Plumbing Templates;Pool Cleaning Templates;Home Repairs Templates;Roofing Company Templates;Cleaning Templates;Delivery Services Templates;Pest Control Templates;Laundry Templates;Maintenance Services Templates;Air Conditioning Templates;Media;News Portal Templates;TV Channel Templates;Video Lab Templates;Media Templates;Videographer Templates;Video Gallery Templates;Weather Templates;Medical;Weight Loss Templates;Drug Store Templates;Medical Equipment Templates;Nutrition Store Templates;Dentistry Templates;Plastic Surgery Templates;Pediatrician Templates;Ambulance Templates;Hair Clinic Templates;Optometrist's Templates;Medical Templates;Herbal Templates;Counseling Templates;Pregnancy Templates;Reproduction Clinic Templates;Rehabilitation Templates;Military;Veterans Templates;Army Templates;Gun Shop Templates;Military Templates;Music;Music Band Templates;Music Portal Templates;Music Store Templates;Recording Studio Templates;Music Blog Templates;Music Templates;Singer Templates;Neutral Templates;Night Club;Night Club Templates;Online Casino;Online Poker Templates;Slot Machines Templates;Online Betting Templates;Online Casino Templates;Personal Pages;Personal Page Templates;Politics;Political Candidate Templates;Political Party Templates;Government Templates;Political News Templates;Politics Templates;Real Estate;Real Estate Agency Templates;Land Broker Templates;Home Staging Templates;Real Estate Templates;Mortgage Templates;Religious;Christian Templates;Presbyterian Templates;Islam Templates;Jehovah Witnesses Templates;Buddhist Templates;Hinduism Templates;Catholic Church Templates;Sinagogue Templates;Lutheran Templates;Easter Gifts Store Templates;Religious Templates;Science;Astronomy Templates;UFO Templates;Science Templates;Science Lab Templates;Security;Fire Department Templates;Information Security Templates;Police Templates;Locksmith Templates;Security Templates;Private Investigator Templates;Society & Culture;Elderly Care Templates;Funeral Services Templates;Life Coach Templates;Retirement Planning Templates;Adoption Agency Templates;Boy Scout Templates;Immigration Consulting Templates;Teen Club Templates;Islamic Social Center Templates;City Portal Templates;Social Foundation Templates;Museum Templates;Society & Culture Templates;Software;Software Company Templates;Web Development Templates;Software Templates;Software Store Templates;Sport;Fitness Templates;Fishing Templates;BMX Templates;Boxing Templates;Martial Arts Templates;Swimming Templates;Archery Templates;Baseball Templates;Paintball Templates;Hunting Templates;Rafting Templates;Bowling Templates;Billiards Templates;Yoga Templates;Golf Templates;Diving Templates;Football Templates;Soccer Templates;Badminton Templates;Skydiving Templates;Surfing Templates;Rugby Templates;Sports Store Templates;Hockey Templates;Wakeboarding Templates;Bodybuilding Templates;F1 Templates;Field Hockey Templates;Climbing Templates;Shooting Templates;Tennis Templates;Yachting Templates;Horse Racing Templates;Squash Templates;Skiing Templates;Basketball Templates;Motor Sports Templates;Cycling Templates;Cricket Templates;Running Templates;Hiking Templates;Chess Templates;Cheerleading Templates;Sport Templates;Skating Templates;Snowboarding Templates;Extreme Sports Templates;Karting Templates;Curling Templates;Paragliding Templates;Kitesurfing Templates;Polo Templates;Volleyball Templates;Weapons Store Templates;Sports News Templates;Tobacco Templates;Tools & Equipment;Tools & Equipment Templates;Transportation;Moving Company Templates;Maritime Templates;Taxi Templates;Transportation Templates;Trucking Templates;Private Airline Templates;Travel;Travel Guide Templates;Travel Agency Templates;Camping Templates;Travel Templates;Airline Tickets Templates;Travel Store Templates;Wedding;Wedding Shop Templates;Wedding Planner Templates;Wedding Dresses Templates;Wedding Venues Templates;Wedding Album Templates;Wedding Templates;Wedding Cake Templates;Loaded7 Templates;WooCommerce Themes;Shopify Themes;PSD Templates;Muse Templates".split(";")}]),
$(".js-typeahead2").on("typeahead:selected",function(){$(this).parents("form").submit()}));0!==$("#timeline").length&&$(".full").prepend('<h2 class="about_title1"><span>Template</span>Monster</h2><h3 class="about_title2">Delivering the Best Templates on the Net since 2002</h3><iframe src="http://cdn.knightlab.com/libs/timeline/latest/embed/index.html?source=0AprbExMzBy2AdF8xMHE3RnpVMW1fSVFDOVNZZVpMT1E&font=PTSerif-PTSans&maptype=TERRAIN&lang=en&height=550" width="100%" height="550" frameborder="0"></iframe>');
$("#js-search-label").click(function(){$(".js-typeahead2").val($(this).text());return!1});$(".keyword-search-field").keydown(function(a){if(13===a.keyCode&&0===a.charCode)return a.stopPropagation(),$(a.currentTarget).closest("form").submit(),$(".tt-dropdown-menu").css("display","none"),!1});$.fn.flexslider&&$(".flexslider").flexslider({animation:"fade",slideshow:!1,slideshowSpeed:7E3,animationDuration:0,prevText:"",nextText:"",controlNav:!1,keyboard:!1});$(".flex-prev,.flex-next").click(function(){$(window).trigger("scroll");
$(".flexslider .choke").trigger("plug.choke")});$(".js_product_slides").on("click",".flex-prev,.flex-next",function(){$(window).trigger("scroll")});detectGridListViewSelectors()&&($.cookie("preView")&&"list"===$.cookie("preView")&&(a().removeClass("grid-view").addClass("list-view").animate({opacity:"1"},500),$(".js-gridview").removeClass("active"),$(".js-listview").addClass("active")),$("a.js-switcher").bind("click",function(b){b.preventDefault();if($(this).hasClass("active"))return!1;var b=$(this).data("switcher"),
c=a();"grid"===b?($(".js-gridview").addClass("active"),$(".js-listview").removeClass("active"),c.fadeOut(function(){c.removeClass("list-view").addClass("grid-view").fadeIn()})):($(".js-gridview").removeClass("active"),$(".js-listview").addClass("active"),c.fadeOut(function(){c.removeClass("grid-view").addClass("list-view").fadeIn()}));Tm.setCookie("preView",b);_gaq.push(["b._trackEvent","products","click",b+"_view"]);return!1}));if((detectGridListViewSelectors()||detectFreePage())&&!detectWPLandingPage()){var f=
$("#js-slide-down-txt"),c=$("#js-slide-down-text"),d=$("#js-slide-down-link"),g=c.height();$(".active-title",f).hide();c.css({overflow:"hidden"}).height(62);d.click(function(){var a=$(this);a.parent().hasClass("active")?(c.stop().animate({height:62},{complete:function(){$(".active-title",a).hide();$(".default-title",a).show()}}),d.parent().removeClass("active")):(c.stop().animate({height:g},{complete:function(){$(".active-title",a).show();$(".default-title",a).hide()}}),d.parent().addClass("active"));
return!1});var j=new CLS44(searchUserParams||{},searchBaseQuery||{},searchUiOptions||{});j.enterDocument()}if(detectWPFiltersPage()){var f=function(){return!1},n=function(a){"undefined"!=typeof $(a.target).attr("href")&&(window.location.href=$(a.target).attr("href"));return!1};"undefined"!=typeof searchUiOptions.topics&&(searchUiOptions.topics.onSelectNode=n,searchUiOptions.topics.onClick=f);var l=["properties","compatibility","daterange","colors","feature"];for(t in l)searchUiOptions[l[t]]=
searchUiOptions[l[t]]||{},searchUiOptions[l[t]].onClick=f,searchUiOptions[l[t]].onSelect=n;searchUiOptions.bestsellers=searchUiOptions.bestsellers||{};searchUiOptions.bestsellers.onClick=n;searchUiOptions.bestsellers.onSelect=f;searchUiOptions.bestsellers.withCheckboxes=!1;searchUiOptions.daterange.onSelect=function(a){if(a&&"undefined"!=typeof $(a.target).attr("href"))return CLS44.redir($(a.target).attr("href")),!1;var a=j.getDateRangeSearchParams()||"",b=new CLS46(searchUiOptions.userParams);
a&&b.setFromUrlData(a);a=searchUiOptions.baseUrl+_paramToUrl(b.getUrlData());CLS44.redir(a);return!1};j=new CLS44(searchUiParams||{},searchUiQuery||{},searchUiOptions||{});j.enterDocument()}"undefined"!=typeof searchContainerId&&tm.search.engine.search(searchContainerParams,searchContainerView).done($.proxy(function(a){jQuery(searchContainerId).html("").append(a.getText()||"");CLS44.onDiscountUpdate({target:$(searchContainerId)})},this));
var q={renderer:null,local_searchContainer:null,count:0,func:function(a){var c="undefined"!==typeof a?a.getCount():this.count,a=a&&a.getText();0===c?this.renderer&&"list"==this.renderer||"grid"==this.renderer?b(this.local_searchContainer):$(this.local_searchContainer).hide():(jQuery(this.local_searchContainer+" .thumbnails").append(a||"").removeClass("js-none"),CLS44.onDiscountUpdate({target:$(this.local_searchContainer)}),b(this.local_searchContainer),tm.sprite.svginit(),$(this.local_searchContainer+
" .js_product_slides").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,slideshowSpeed:7E3,animationDuration:0,controlNav:!1,directionNav:4<c,itemWidth:245,itemMargin:0,minItems:3,maxItems:4,move:1,prevText:"",nextText:"",init:function(a){setTimeout("tm.thumbnail.renew (true);",1E3);4==c&&1440>$(window).width()&&(a.vars.directionNav=!0)}}))}};if("undefined"!=typeof ajaxSearchParams)for(var t=0;t<ajaxSearchParams.length;t++){var f=ajaxSearchParams[t].searchContainer,n=ajaxSearchParams[t].searchContainerParams,
l=ajaxSearchParams[t].searchContainerView,p=Object.create(q);p.local_searchContainer=f;tm.search.engine.search(n,l).done($.proxy(p.func,p))}$(".items_block").on("click",".show-more-templates",function(){var a=$(this),b=a.data("target"),c=a.data("renderer"),d=a.data("page"),f=a.data("count"),g=a.data("search"),j=Object.create(q),g=g||{};g.renderer=c;g.limitCount=f;g.page=++d;a.data("page",d);var l=$(this);$(document).trigger("start.cart.load",{button:l,callbackFunk:function(){l.removeClass("disabled")}});
l.prop("disabled",!0);j.local_searchContainer=b;j.renderer=c;tm.search.engine.search(g,"slides").done($.proxy(j.func,j))});$(".js-static-slider").each(function(){var a=Object.create(q);a.local_searchContainer="#"+$(this).attr("id");a.count=$(this).attr("data-count");a.func()});$(".js-btn[data-href]").on("click touchend",function(){window.location.href=$(this).data("href");return!1})});
(function(){$(".choke").each(function(){var a=$(this),b=a.data("src");a.click(function(){$("img",a).hide();$("<iframe/>",{width:a.width(),height:a.height(),src:b}).css({opacity:0}).appendTo(a).animate({opacity:1},{});return!1}).on("plug.choke",function(){$("iframe",a).remove();$("img",a).show()});$(window).resize(function(){$("iframe",a).css("height",a.height());$("iframe",a).css("width",a.width())})})})();
$(window).load(function(){if(detectCheckoutPage()){var a=detectFreeCart()?(new Tm.Signin).hasBillingInfo()?new Tm.Checkout:new Tm.FreeCheckout:new Tm.Checkout;a.init();"step4"==a.getStep()&&(new Tm.StatusDownload).init()}window.ssd=[];a={};$.cookie("nld")&&(a.nld=$.cookie("nld"));$.ajax({url:"/cart-ajax/discounts.php",type:"GET",data:a,dataType:"JSON",success:function(a){window.ssd=a.discounts;window.discount_link=a.discount_link;a=Object.create(new CLS5);a.setContext(!0);a.drawPrices()}});
tm.sprite.svginit();detectPreviewPage()&&previewPageStart();$(document).on("click",".js-live-chat-button",function(){var a="Guest",f="guest@templatemonster.com",c=$(this).attr("data-room"),d=new Tm.Signin;d.isSignedIn()&&(f=d.getUserEmail(),a=d.getUserFullName());c="?cl="+c;d=$(this).data("order-id");window.open("/support_index.php"+("undefined"!=typeof d?c+("&tid="+d):c+("&nick="+a+"&email="+f)),"tmBillingChat","width=800, height=695");return!1})});
Modernizr.addTest("firefox",function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("firefox")?(a=a.split("firefox/")[1],"undefined"!=typeof a[1]&&(a=parseInt(a[1]),$.isNumeric(a))?a:!0):!1});Modernizr.addTest("ie",function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1});Modernizr.addTest("mac",function(){return-1!=$.inArray(navigator.platform,["Mac68K","MacPPC","MacIntel"])});
Modernizr.addTest("linux",function(){return-1!=$.inArray(navigator.platform,["Linux x86_64"])});function detectOldIe(){return Modernizr.ie&&(isNaN(Modernizr.ie)||9>=Modernizr.ie)}function detectPreviewPage(){return 0<$("#preview-page").length}function detectIndexPage(){return 0<$("#index-page").length}function detectGridListViewSelectors(){return 0<$(".js-grid-switcher").length}function detectFreePage(){return 0<$("#free-templates").length}
function detectCheckoutPage(){return 0<$("#checkout-page").length}function detectCartPage(){return 0<$("#cart-page").length}function detectStatusDownloadPage(){return 0<$("#status-download-page").length}function detectDemoPage(){return 0<$("#demo-page").length}function detectSSDPages(){return detectDemoPage()||detectIndexPage()||detectPreviewPage()||detectCartPage()||detectCheckoutPage()}function detectWPFiltersPage(){return 0<$(".js-wp-filters").length}
function detectFreeCart(){return"undefined"!=typeof $(".js-cart-summary .total-price .js-total-price").data("free_cart_flag")&&0==$(".js-cart-summary .total-price .js-total-price").data("price")?!0:!1}function detectShareList(){return 0<$(".js-share-list").length}function detectWPWelcomePage(){return 0<$(".single-addwords").length}function detectWPLandingPage(){return 0<$(".landing-page").length}function detectCheckoutPageStepFour(){return 0<$("#checkout-page .js-step-step4").length}
function detectWPLandingPresentations(){return 0<$(".landing-page-presentations").length}function calcDiscount(a,b){return Math.round(0.01*a*(100-b))}$(document).ready(function(){$(".question-icon").popover({html:!0,trigger:"hover",content:function(){return $(this).find(".question-content").html()}})});
$(document).ready(function(){var a=$(".main-menu"),b=$(window),f;detectIndexPage()&&$(".sub-menu-1").css("display","block").parent().addClass("js-always-opened sfHover");1254>=b.width()&&$(".sub-menu > a").css("font-size","15px");a.menuAim({activate:function(a){a=$(a);clearTimeout(f);f=setTimeout(function(){a.is(".js-always-opened")||a.addClass("sfHover").find(">div").stop().css({opacity:0}).animate({opacity:1},100)},100)},deactivate:function(a){a=$(a);clearTimeout(f);a.is(".js-always-opened")||a.removeClass("sfHover").find(">div").stop().animate({opacity:0},
100)},exitMenu:function(){return!0},submenuDirection:"below"});$("body").append('<div id="thubContent0" class="thumbContent"></div><div id="thubContent1" class="thumbContent"></div>');"undefined"==typeof thubContentId&&(thubContentId=0);var c=detectGridListViewSelectors(),d=detectFreePage(),g;$(".thumbnails").on("mouseleave",".js-thumbnail",function(){clearInterval(g)}).on("mouseenter",".js-thumbnail",function(){if($(this).closest(".js-search-listing").hasClass("list-view")||c&&$.cookie("preView")&&
"list"===$.cookie("preView")||d)return!1;var a=$("#thubContent"+thubContentId),b=$(this).closest(".thumbnail"),f=b.find(".badge-custom").clone(),q=b.find(".js-thumbnail > a.js-thumb_preview").clone(),t=b.find(".thumbnail-info").clone(),p=b.find(".js-live-buttons").clone();a.html("");a.append(f).append(q).append(t).append(p);var f=b.offset(),b=f.top-80,q=f=f.left-80,t=b,p=a.outerWidth(),h=a.outerHeight(),y=$(document).scrollLeft(),w=$(window).width(),D=$(document).scrollTop(),H=$(window).height();
q+p>y+w?f=q-(q+p-(y+w))-10:10>q-y&&(f=10+y);t+h>D+H?b=t-(t+h-(D+H))-10:10>t-D&&(b=10+D);a.css({top:b,left:f});clearTimeout(g);g=setTimeout(function(){a.fadeIn()},400)});if(MobileEsp.DetectIos())$(".thumbnail").click(function(){$("#thubContent"+thubContentId).html("")});else $("#thubContent0, #thubContent1").on("mouseleave",function(){var a=$("#thubContent"+thubContentId);a.fadeOut();a.html("");clearTimeout(g);thubContentId=0===thubContentId?1:0})});
$(document).ready(function(){function a(){var a=$(".flex-active-slide .js-testimonial-load");a.lazyload({load:function(){$(this).siblings(".spinner-inline_white").remove()}}).parent().prepend('<div class="spinner-inline_white"></div>');a.trigger("appear")}$(".testimonials_video [data-img]").each(function(){var a=$(this);a.append($('<img class="js-testimonial-load"/>').attr({"data-original":a.attr("data-img"),alt:"Video testimonial"}))}).removeAttr("data-img");a();$(".testimonials_video .flexslider").on("click touchend",
".flex-prev,.flex-next",function(){a()})});$(window).load(function(){detectCheckoutPageStepFour()&&((Modernizr.mac||Modernizr.linux)&&Modernizr.firefox)&&$("#apv-request-form-phone").addClass("apv-request-phone-moz")});$(document).ready(function(){$(".custom-range-heading").click(function(){$(".custom-range-heading b").toggleClass("icon-arrow-small-down").toggleClass("icon-arrow-small-up");$(".js-custom-range").toggle()})});
$(document).ready(function(){var a={},b={},f={},c={},d={};if("tm_forms"in window)for(var g in window.tm_forms){var j=document.forms[window.tm_forms[g].name];a[window.tm_forms[g].name]=window.tm_forms[g].on_before_submit;b[window.tm_forms[g].name]=window.tm_forms[g].popover_placement;f[window.tm_forms[g].name]=1>window.tm_forms[g].ajax;c[window.tm_forms[g].name]="#"+$(j).find('.ninja-forms-field[type="submit"]').attr("id");d[window.tm_forms[g].name]=!!window.tm_forms[g].autoscroll_on_error;$(j).formHandler({disable_ajax:f[j.name],
ajax_async_mode:!0,autofocus_first_field:!1,popover_placement:b[j.name],submit_button:c[j.name],autoscroll_on_form_error:d[j.name],on_before_submit:function(b,c){var d=a[b.name];if("function"===typeof d&&!1===d(b,c))return!1},on_submit_success:function(a,b,c){b=c.form_settings;"undefined"!=typeof b&&0<b.clear_complete&&$(":input:visible",a).not("[type=submit], [type=checkbox]").val("").end().filter("[type=checkbox]").prop("checked",!1).end();"undefined"!=typeof b&&0<b.hide_complete?$(a).hide():"undefined"!=
typeof c.success&&c.success.success_msg.length&&$(a).formHandler("show-errors",[{messages:c.success.success_msg}],[],!1)}})}$("select.ninja-forms-field").chosen();$(".js-reviews").reviewsList()});
$(document).ready(function(){$("#sticky-nav").sticky({topSpacing:0});if(1===$(".js_wp_button_overlay").length&&(detectWPWelcomePage()||detectWPLandingPresentations()))$(window).scrollTop()>$(".js_wp_button_overlay").offset().top?($("button.js-sticky-btn").parents(".form-wrapper").show(),$(".js-sticky-btn").show()):($("button.js-sticky-btn").parents(".form-wrapper").hide(),$(".js-sticky-btn").hide());if(detectWPLandingPresentations()&&$(".js-thermometer").length){if(2260<$(window).scrollTop())return $(".js-thermometer").thermometer(),
!1;var a=!1;window.addEventListener("scroll",function(){2260<$(window).scrollTop()&&!1===a&&($(".js-thermometer").thermometer(),a=!0)},!0)}});
if(0<$(".js-video-header").length){$(window).load(function(){$(".js-watch-btn").click(function(){MobileEsp.isMobilePhone||MobileEsp.isTierTablet?playVideoMob():playVideoPc()});$(".js-mfp-close").click(function(){stopVideo()})});var playVideoMob=function(){$("#breadcrumbs, .header-unit").fadeOut(500);wistiaEmbed.play();$(".js-video-header").animate({height:"501px"},500,function(){$(".js-mfp-close").fadeIn(600);$("#wista").css("zIndex","3");$("#wista").animate({opacity:"1"},600)});$(".js-share-list").css("top",
"40%")},playVideoPc=function(){$("#breadcrumbs, .header-unit").fadeOut(500);$(".js-video-header").animate({height:"501px"},500,function(){wistiaEmbed.play();$(".js-mfp-close").fadeIn(600);$("#wista").css("zIndex","3");$("#wista").animate({opacity:"1"},500)});$(".js-share-list").css("top","40%")},stopVideo=function(){wistiaEmbed.pause();$(".js-mfp-close").fadeOut(400);$("#wista").animate({opacity:"0"},400,function(){$("#wista").css("zIndex","-1");$("#breadcrumbs, .header-unit").fadeIn(400)});$(".js-video-header").delay(100).animate({height:"306px"},
300);$(".js-share-list").delay(100).animate({top:"32%"},300);wistiaEmbed.time(0);wistiaEmbed.pause()}};(function(){$(document).ready(function(){$(document).on("page.id.index-page",CLS7.startup);$(document).on("page.class.search page.id.index-page",function(){tm.thumbnail.renew()});var a=$("body"),b=$.trim(a.attr("id"));""!==b&&$(a).trigger("page.id."+b);b=$.trim(a.attr("class"));""!==b&&(b=b.split(/\s+/),goog.array.forEach(b,function(b){$(a).trigger("page.class."+b)}))})})();(function(){function a(a){return function(){return this[a]}}function b(a){return function(){return a}}function f(a,b,c){a=a.split(".");c=c||ma;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==P?c[d]=b:c=c[d]?c[d]:c[d]={}}function c(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==
typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function d(a){return"array"==c(a)}function g(a){return"string"==typeof a}function j(a){var b=typeof a;return"object"==b&&a!=
M||"function"==b}function n(a,b,c){return a.call.apply(a.bind,arguments)}function l(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:l;return q.apply(M,arguments)}function t(a,b){f(a,
b,P)}function p(a,b){function c(){}c.prototype=b.prototype;a.M=b.prototype;a.prototype=new c}function h(a,b){a!=M&&this.append.apply(this,arguments)}function y(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function w(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<ra.length;g++)c=ra[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function D(a){return M===a||Y===a||P===a||0===a?G:B(a)?0===E(a):Y}function H(a,b){w.apply(M,Array.prototype.slice.call(arguments,
0));return a}function r(a,b,f,g,h){g=g||"any";h=h!==P?h:Y;if(!j(a)&&!d(a))return h?Y:M;if(b in a){if("array"!==g&&"function"==c(a[b]))return h?G:a[b].apply(a,f||[]);if("method"!==g)return h?G:a[b]}if("array"===g||d(a))return h?Y:M;var b=b.toLowerCase(),k="get"+b,l="is"+b,m;a:{b=function(a,b){b=b.toLowerCase();return b===k||b===l};for(m in a)if(b.call(P,0,m))break a;m=P}return m&&"function"==c(a[m])?h?G:a[m].apply(a,f||[]):h?Y:M}function B(a){return d(a)||g(a)||j(a)}function E(a){if(d(a)||g(a))return a.length;
if(j(a)){var b=0,c;for(c in a)b++;return b}throw Error(typeof a+" is not countable.");}function F(a,b,c){d(a)?xa(a,b,c):y(a,b,c)}function x(a){this.L=a;this.e=[];this.n={}}function u(a){this.s=a}function A(a,b,c,d,f){if(f&&b instanceof u)return b.toString();b=b==M?"":String(b);if(ia===c){a=String(b);if(a.quote)b=a.quote();else{b=['"'];for(c=0;c<a.length;c++){var g=a.charAt(c),h=g.charCodeAt(0),d=b,f=c+1,j;if(!(j=Da[g])){if(!(31<h&&127>h))if(g in pa)g=pa[g];else if(g in Da)g=pa[g]=Da[g];else{j=g.charCodeAt(0);
if(31<j&&127>j)h=g;else{if(256>j){if(h="\\x",16>j||256<j)h+="0"}else h="\\u",4096>j&&(h+="0");h+=j.toString(16).toUpperCase()}g=pa[g]=h}j=g}d[f]=j}b.push('"');b=b.join("")}return b.substring(1,b.length-1)}if(!c||k===c)return a=b,ka.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(Ia,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(m,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(z,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(ga,"&quot;"))),a;if(fa===c)return encodeURIComponent(b);throw Error("The type '"+c+"' is not supported.");
}function C(){this.c={};this.h={};this.i={};this.m={};this.g={};this.p={};this.q=Y;this.K="UTF-8"}function K(a){x.call(this,a)}function I(a){x.call(this,a)}function R(a){x.call(this,a)}function S(a){x.call(this,a)}function V(a){x.call(this,a)}function L(a){x.call(this,a)}function J(a){x.call(this,a)}function v(a){x.call(this,a)}function N(a){x.call(this,a)}function ba(a){x.call(this,a)}function ca(a){x.call(this,a)}var P=void 0,G=!0,M=null,Y=!1,Q,ma=this,ha="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),
O=0,Ia=/&/g,m=/</g,z=/>/g,ga=/\"/g,ka=/[&<>\"]/,Da={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},pa={"'":"\\'"};h.prototype.d="";h.prototype.append=function(a,b,c){this.d+=a;if(b!=M)for(var d=1;d<arguments.length;d++)this.d+=arguments[d];return this};h.prototype.toString=a("d");var ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ua=Array.prototype,Wa=ua.indexOf?function(a,b,c){return ua.indexOf.call(a,
b,c)}:function(a,b,c){c=c==M?0:0>c?Math.max(0,a.length+c):c;if(g(a))return!g(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},xa=ua.forEach?function(a,b,c){ua.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=g(a)?a.split(""):a,h=0;h<d;h++)h in f&&b.call(c,f[h],h,a)},ya=q,ha="twig_ui_"+Math.floor(2147483648*Math.random()).toString(36);Q=x.prototype;Q.t=a("e");Q.D=function(a){this.e=a};Q.J=function(a){this.n=a};Q.getParent=b(Y);Q.C=function(a,b,c){if(a in
this.n){var d=new h;this.n[a](d,b,c||{});return d.toString()}d=this.getParent(b);if(Y!==d)return d.l(a,b,c);throw Error("The template '"+this.a()+"' has no parent, and no trait defining the block '"+a+"'.");};Q.l=function(a,b,c){if(c&&a in c){var d=new h,f=c[a];delete c[a];f(d,b,c);return d.toString()}if(a in this.e)return d=new h,this.e[a](d,b,c||M),d.toString();d=this.getParent(b);return Y!==d?d.l(a,b,c):""};Q.k=function(a,b){var c=new h;this.b(c,a||{},b||{});return c.toString()};Q.r=function(a,
b,c,d){if(!a["get"+b])throw Error("The macro "+b+" is not defined in "+a.a()+".");if(d===P)return a["get"+b].apply(a,c);throw Error("Positional arguments, or default values in macro arguments are not supported, yet.");};u.prototype.toString=a("s");var k="html",ia="js",fa="url";Q=C.prototype;Q.k=function(a,b){var c=this.f(a);return c.k.call(c,H({},this.p,b||{}))};Q.filter=function(a,b,c){if(!(a in this.h))throw Error("The filter '"+a+"' does not exist.");return this.h[a].apply(M,Array.prototype.slice.call(arguments,
1))};Q.z=function(a,b,c){if(!(a in this.i))throw Error("The function '"+a+"' does not exist.");return this.i[a].apply(M,Array.prototype.slice.call(arguments,1))};Q.test=function(a,b,c){if(!(a in this.m))throw Error("The test '"+a+"' does not exist.");return this.m[a].apply(M,Array.prototype.slice.call(arguments,1))};Q.escape=function(a,b,c,d){return A(0,a,b,0,d)};Q.A=function(a,b,c){var d=this.f(a),f=d["get"+b];if(!f)throw Error("The macro '"+b+"' does not exist on template '"+d.a()+"'.");return f.apply(d,
Array.prototype.slice.call(arguments,2)).toString()};Q.G=function(a,b){this.h[a]=b};Q.H=function(a,b){this.i[a]=b};Q.I=function(a,b){this.m[a]=b};Q.v=a("p");Q.j=function(){this.q=G;y(this.c,function(a){a.j()},this)};Q.w=function(a){return a in this.c};Q.getExtension=function(a){if(!(a in this.c))throw Error('The "'+a+'" extension is not enabled.');return this.c[a]};Q.o=function(a){this.c[a.getName()]=a};Q.B=function(a){delete this.c[a]};Q.F=function(a){y(a,function(a){this.o(a)})};Q.u=a("c");Q.f=
function(a){var b=a[ha]||(a[ha]=++O);if(b in this.g)return this.g[b];Y===this.q&&this.j();a=new a(this);return this.g[b]=a};window.Twig=new C;t("goog.provide",function(a){f(a)});t("goog.require",function(){});t("twig.attr",r);t("twig.bind",ya);t("twig.inherits",p);t("twig.extend",H);t("twig.spaceless",function(a){return a.replace(/>[\s\xa0]+</g,"><").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")});t("twig.range",function(a,b){for(var c=[];a<=b;a+=1)c.push(a);return c});t("twig.contains",function(a,b){var c;
if(d(a))c=0<=Wa(a,b);else if(g(a))c=-1!=a.indexOf(b);else a:{for(c in a)if(a[c]==b){c=G;break a}c=Y}return c});t("twig.countable",B);t("twig.count",E);t("twig.forEach",F);t("twig.empty",D);t("twig.createObj",function(a){for(var b={},c=0;c<arguments.length;c+=2)b[arguments[c]]=arguments[c+1];return b});t("twig.filter.capitalize",function(a,b){return b.charAt(0).toUpperCase()+b.substring(1)});t("twig.filter.escape",A);t("twig.filter.length",function(a,b){return E(b)});t("twig.filter.def",function(a,
b){return D(a)?b||"":a});t("twig.filter.replace",function(a,b){for(var c in b)a=a.replace(RegExp(c,"g"),b[c]);return a});t("twig.filter.join",function(a,b){var c=b||"",d=new h,f=G;F(a,function(a){f||d.append(c);f=Y;d.append(a)});return d.toString()});t("twig.filter.keys",function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b});t("twig.filter.upper",function(a,b){return b.toUpperCase()});t("twig.filter.lower",function(a,b){return b.toLowerCase()});t("twig.filter.nl2br",function(a){return a.replace(/\n/g,
"<br />")});t("twig.StringBuffer",h);h.prototype.append=h.prototype.append;h.prototype.toString=h.prototype.toString;C.prototype.createTemplate=C.prototype.f;C.prototype.filter=C.prototype.filter;C.prototype.invoke=C.prototype.z;C.prototype.test=C.prototype.test;C.prototype.escape=C.prototype.escape;C.prototype.macro=C.prototype.A;C.prototype.setFilter=C.prototype.G;C.prototype.setFunction=C.prototype.H;C.prototype.setTest=C.prototype.I;C.prototype.render=C.prototype.k;C.prototype.getGlobals=C.prototype.v;
C.prototype.initRuntime=C.prototype.j;C.prototype.hasExtension=C.prototype.w;C.prototype.getExtension=C.prototype.getExtension;C.prototype.addExtension=C.prototype.o;C.prototype.removeExtension=C.prototype.B;C.prototype.setExtensions=C.prototype.F;C.prototype.getExtensions=C.prototype.u;t("twig.Template",x);x.prototype.setTraits=x.prototype.J;x.prototype.setBlocks=x.prototype.D;x.prototype.getBlocks=x.prototype.t;x.prototype.renderParentBlock=x.prototype.C;x.prototype.renderBlock=x.prototype.l;x.prototype.callMacro=
x.prototype.r;t("twig.Markup",u);p(K,x);K.prototype.b=function(a,b){b._parent=b;var c="topics"in b?b.topics:M;F(c,function(c,d){b._key=d;b.topic=c;a.append("            ");r("topic"in b?b.topic:M,"href")?(a.append('            <span class="bc-item"><a href="'),a.append(A(0,r("topic"in b?b.topic:M,"href"),"html",0,G)),a.append('">'),a.append(A(0,r("topic"in b?b.topic:M,"title"),"html",0,G)),a.append("</a>\n            ")):(a.append('            <span class="bc-item bc-item-last">'),a.append(A(0,r("topic"in
b?b.topic:M,"title"),"html",0,G)),a.append("\n            "));a.append("        ")},this);a.append("        ");b._parent=b;c="topics"in b?b.topics:M;F(c,function(c,d){b._key=d;b.topic=c;a.append("            </span>\n        ")},this)};K.prototype.a=b("topicBreadcrumbs");t("topicBreadcrumbs",K);p(I,x);I.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Product Types'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Product Types')};
I.prototype.a=b("moreProductTypes");t("moreProductTypes",I);p(R,x);R.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Features'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Features')};R.prototype.a=b("showMoreFeatures");t("showMoreFeatures",R);p(S,x);S.prototype.b=function(a,b){a.append('<div class="page_divider" id="page');a.append(A(0,"page"in b?b.page:M,"html",0,G));a.append('"><span>Page ');
a.append(A(0,"page"in b?b.page:M,"html",0,G));a.append("</span></div>")};S.prototype.a=b("page_divider");t("page_divider",S);p(V,x);V.prototype.b=function(a,b){a.append('<a href="#">+ See All ');a.append(A(0,"count"in b?b.count:M,"html",0,G));a.append(" Categories</a>")};V.prototype.a=b("topicSeeAll");t("topicSeeAll",V);p(L,x);L.prototype.b=function(a){a.append('<a href="#">&ndash; See Fewer Categories</a>')};L.prototype.a=b("topicSeeFewer");t("topicSeeFewer",L);p(J,x);J.prototype.b=function(a,b){a.append('<li id="bestseller-');
a.append(A(0,"id"in b?b.id:M,"html",0,G));a.append('">\n<ins class="jstree-icon">&nbsp;</ins>\n<a href="#" class="">\n<ins class="jstree-checkbox">&nbsp;</ins>\n<ins class="jstree-icon">&nbsp;</ins>\n');a.append(A(0,"title"in b?b.title:M,"html",0,G));a.append("<span>");a.append(A(0,"count"in b?b.count:M,"html",0,G));a.append("</span></a></li>")};J.prototype.a=b("typeBestseller");t("typeBestseller",J);p(v,x);v.prototype.b=function(a,b){a.append('<li id="bestseller-');a.append(A(0,"id"in b?b.id:M,"html",
0,G));a.append('">\n<a href="#" class="">\n');a.append(A(0,"title"in b?b.title:M,"html",0,G));a.append("<span>");a.append(A(0,"count"in b?b.count:M,"html",0,G));a.append("</span></a></li>")};v.prototype.a=b("typeBestsellerNoCheckboxes");t("typeBestsellerNoCheckboxes",v);p(N,x);N.prototype.b=function(a,b){if("(0)"!=("count"in b?b.count:M))a.append('\t<li data-true-prop="'),a.append(A(0,"id"in b?b.id:M,"html",0,G)),a.append('">\n\t\t<ins class="jstree-icon">&nbsp;</ins>\n\t\t<a href="#" class="">\n\t\t\t<ins class="jstree-checkbox">&nbsp;</ins>\n\t\t\t<ins class="jstree-icon">&nbsp;</ins>\n\t\t\t'),
a.append(A(0,"title"in b?b.title:M,"html",0,G)),a.append("<span>"),a.append(A(0,"count"in b?b.count:M,"html",0,G)),a.append("</span>\n\t\t</a>\n\t</li>\n")};N.prototype.a=b("topFeature");t("topFeature",N);p(ba,x);ba.prototype.b=function(a,b){"isSearchPage"in b&&"hasUserParams"in b&&b.hasUserParams?a.append("Search Within Results"):a.append("Enter Keyword or Product Number")};ba.prototype.a=b("search_placeholder");t("search_placeholder",ba);p(ca,x);ca.prototype.b=function(a,b){"searchByKeyword"in b&&
b.searchByKeyword?(a.append('                                <h1 class="search-heading" itemprop="name">We found <span class="num">'),a.append(A(0,"templateTotalFound"in b?b.templateTotalFound:M,"html",0,G)),a.append('</span> result(s) for "<span>'),a.append(A(0,"keywords"in b?b.keywords:M,"html",0,G)),a.append('</span>"</h1>\n                            ')):"needsRendering"in b&&b.needsRendering||!("contentTitle"in b&&b.contentTitle)?(a.append('                                <h1 class="search-heading" itemprop="name">We found <span class="num">'),
a.append(A(0,"templateTotalFound"in b?b.templateTotalFound:M,"html",0,G)),a.append("</span> result(s)</h1>\n                            ")):(a.append('                                <h1 class="search-heading" itemprop="name">'),a.append(A(0,"contentTitle"in b?b.contentTitle:M,"html",0,G)),a.append('</h1>\n                                <span class="num">('),a.append(A(0,"templateTotalFound"in b?b.templateTotalFound:M,"html",0,G)),a.append(")</span>\n                            "))};ca.prototype.a=
b("search_h1");t("search_h1",ca)})();
